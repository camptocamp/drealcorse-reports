(self.webpackChunkMapStoreExtension=self.webpackChunkMapStoreExtension||[]).push([[497],{43120:(e,t,r)=>{var n={"./cesium.js":[52201,464,437],"./leaflet.js":[55314,167,756,464,977,161],"./openlayers.js":[61490,167,592,464,977,37],"./sink.js":[17227,442]};function o(e){if(!r.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],o=t[0];return Promise.all(t.slice(1).map(r.e)).then((()=>r(o)))}o.keys=()=>Object.keys(n),o.id=43120,e.exports=o},86570:(e,t,r)=>{var n={"./cesium/Layers":13530,"./leaflet/Layers":27415,"./openlayers/Layers":75866};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=86570},5443:(e,t,r)=>{"use strict";function n(){return{type:"HIDE_MAPINFO_MARKER"}}function o(){return{type:"TOGGLE_MAPINFO_STATE"}}function a(e){return{type:"IDENTIFY:CHANGE_PAGE",index:e}}r.d(t,{oO:()=>a,aN:()=>n,TM:()=>o}),r(10306),r(72500),r(51312)},83358:(e,t,r)=>{"use strict";r.r(t),r.d(t,{toDescribeURL:()=>y,getFeatureSimple:()=>v,getCapabilitiesURL:()=>g,getFeatureURL:()=>b,getFeature:()=>h,getCapabilities:()=>O,describeFeatureTypeOGCSchemas:()=>E,describeFeatureType:()=>w});var n=r(10306),o=r.n(n),a=r(72500),i=r.n(a),l=r(51312),c=r.n(l),u=["version"];function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=function(e,t){var r=i().parse(e,!0);return i().format(d(d({},r),{},{search:void 0,query:d(d({},r.query),{},{service:"WFS",version:"1.1.0",typeName:t,outputFormat:"application/json",request:"DescribeFeatureType"})}))},v=function(e,t){return o().get(e+"?service=WFS&version=1.1.0&request=GetFeature",{params:c()({outputFormat:"application/json"},t)}).then((function(e){return"object"!==p(e.data)?JSON.parse(e.data):e.data}))},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.version,n=void 0===r?"1.1.0":r,o=i().parse(e,!0);return i().format(c()({},o,{query:c()({service:"WFS",version:n,request:"GetCapabilities"},o.query)}))},b=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.version,o=void 0===n?"1.1.0":n,a=s(r,u),l=i().parse(e,!0);return i().format(c()({},l,{query:c()(d({service:"WFS",typeName:t,version:o,request:"GetFeature"},a),l.query)}))},h=function(e,t,r){return o().get(b(e,t,r))},O=function(e){return o().get(g(e))},E=function(e,t){var n=i().parse(e,!0),a=i().format(c()({},n,{query:c()({service:"WFS",version:"1.1.0",typeName:t,request:"DescribeFeatureType"},n.query)}));return new Promise((function(e){Promise.all([r.e(985),r.e(370)]).then(function(){var t=r(27563).unmarshaller;e(o().get(a).then((function(e){var r=t.unmarshalString(e.data);return r&&r.value})))}.bind(null,r)).catch(r.oe)}))},w=function(e,t){return o().get(y(e,t)).then((function(e){return e.data}))}},12684:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var n=r(24852),o=r.n(n),a=r(68195),i=r(77580),l=r.n(i);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function f(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=a.FormattedMessage,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(l,e);var t,r,n,a,i=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(n);if(a){var r=m(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return f(this,e)});function l(){var e;u(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return y(d(e=i.call.apply(i,[this].concat(r))),"renderFormattedMsg",(function(e){var t=e.msgId,r=e.msgParams,n=e.children;return n&&"function"==typeof n?o().createElement(v,{id:t,values:r},(function(e){return n(e)})):o().createElement(v,{id:t,values:r})})),y(d(e),"renderMsg",(function(e){var t=e.msgId,r=e.children;return r&&"function"==typeof r?r(t):o().createElement("span",null,t||"")})),e}return t=l,(r=[{key:"render",value:function(){return this.context.intl?this.renderFormattedMsg(this.props):this.renderMsg(this.props)}}])&&s(t.prototype,r),l}(o().Component);y(g,"propTypes",{msgId:l().string.isRequired,msgParams:l().object}),y(g,"contextTypes",{intl:l().object});const b=g},35399:(e,t,r)=>{"use strict";r.d(t,{Z:()=>Z});var n=r(24852),o=r.n(n),a=r(77580),i=r.n(a),l=r(80750);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function f(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=r(68195).FormattedHTMLMessage,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(l,e);var t,r,n,a,i=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(n);if(a){var r=d(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return f(this,e)});function l(){return u(this,l),i.apply(this,arguments)}return t=l,(r=[{key:"render",value:function(){return this.context.intl?o().createElement(y,{id:this.props.msgId,values:this.props.msgParams}):o().createElement("span",null,this.props.msgId||"")}}])&&s(t.prototype,r),l}(o().Component);m(v,"propTypes",{msgId:i().string.isRequired,msgParams:i().object}),m(v,"contextTypes",{intl:i().object});const g=v;var b=r(12684),h=r(7066);function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P(e,t){return P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},P(e,t)}function S(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(l,e);var t,r,n,a,i=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(n);if(a){var r=x(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return S(this,e)});function l(){var e;E(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return _(j(e=i.call.apply(i,[this].concat(r))),"onTouchStart",(function(t){var r=t.touches[0];e.startX=r.pageX,e.startY=r.pageY,e.setState({scrolling:!1})})),_(j(e),"onTouchMove",(function(t){var r=t.touches[0],n=t.currentTarget;if(e.state.scrolling)t.stopPropagation();else if(Math.abs(e.startY-r.pageY)>Math.abs(e.startX-r.pageX))t.stopPropagation();else{var o=e.startX<r.pageX?"left":"right";(n&&"left"===o&&n.clientWidth<n.scrollWidth&&0!==n.scrollLeft||n&&"right"===o&&n.clientWidth+n.scrollLeft!==n.scrollWidth)&&(e.setState({scrolling:!0}),t.stopPropagation())}})),_(j(e),"onTouchEnd",(function(){e.setState({scrolling:!1})})),_(j(e),"renderPage",(function(){var t="function"==typeof e.props.viewers?e.props.viewers:e.props.viewers[e.props.format];return t?o().createElement(t,{response:e.props.response,layer:e.props.layer}):null})),e}return t=l,(r=[{key:"render",value:function(){return o().createElement("div",{style:{width:"100%",height:"100%",overflowX:"auto"},onTouchMove:this.onTouchMove,onTouchStart:this.onTouchStart,onTouchEnd:this.onTouchEnd},this.renderPage())}}])&&w(t.prototype,r),l}(o().Component);_(I,"propTypes",{format:i().string,viewers:i().oneOfType([i().func,i().object]),response:i().oneOfType([i().string,i().object,i().node]),layer:i().object});var A=r(86494),C=r(9865),T=function(e,t){var r=e.format,n=e.queryParams,o=void 0===n?{}:n;return o.info_format||o.outputFormat||r&&C.O7[r]||t.format};function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function D(){return D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D.apply(this,arguments)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function M(e,t){if(t&&("object"===N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return F(e)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(c,e);var t,r,n,a,i=(n=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=B(n);if(a){var r=B(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return M(this,e)});function c(){var e;R(this,c);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return U(F(e=i.call.apply(i,[this].concat(r))),"getResponseProperties",(function(){var t=e.props.validator(e.props.format),r=e.props.responses.map((function(e){return void 0===e?{}:e})),n=t.getValidResponses(r),o=t.getNoValidResponses(e.props.responses),a=e.props.requests.length===o.length;return{validResponses:n,currResponse:e.getCurrentResponse(n[e.props.index]),emptyResponses:a,invalidResponses:o}})),U(F(e),"getCurrentResponse",(function(t){return e.props.validator(e.props.format).getValidResponses([t])})),U(F(e),"renderEmptyLayers",(function(){var t=e.getResponseProperties(),r=t.invalidResponses,n=t.emptyResponses;if(0===e.props.missingResponses&&n)return null;var a=0!==r.length;if(e.props.renderEmpty||(a=a&&0===e.props.missingResponses),a){var i=r.map((function(e){return e.layerMetadata.title}));return e.props.showEmptyMessageGFI?o().createElement(h.bZ,{bsStyle:"info"},o().createElement(b.Z,{msgId:"noInfoForLayers"}),o().createElement("b",null,i.join(", "))):null}return null})),U(F(e),"renderPage",(function(t){var r=e.props.viewers[e.props.format];return r?o().createElement(r,{response:t}):null})),U(F(e),"renderEmptyPages",(function(){var t=e.getResponseProperties().emptyResponses;return 0===e.props.missingResponses&&t?o().createElement(h.bZ,{bsStyle:"danger"},o().createElement("h4",null,o().createElement(g,{msgId:"noFeatureInfo"}))):null})),U(F(e),"renderPages",(function(){var t=e.getResponseProperties().validResponses;return t.map((function(r,n){var a,i,c=r.response,u=r.layerMetadata,s=T(r,e.props),p=e.props.header;return null!=u&&null!==(a=u.viewer)&&void 0!==a&&a.type&&(i=(0,l.gA)(u.viewer.type)),o().createElement(h.s_,{eventKey:n,key:n,collapsible:e.props.collapsible,header:p?o().createElement("span",null,o().createElement(p,D({size:t.length},e.props.headerOptions,u,{index:e.props.index,onNext:function(){return e.props.onNext()},onPrevious:function(){return e.props.onPrevious()}}))):null,style:e.props.style},o().createElement(I,{response:c,format:s,viewers:i||e.props.viewers,layer:u}))}))})),U(F(e),"containerStyle",(function(t){return(0,A.isEmpty)(t)&&e.props.isMobile?{height:"100%"}:{display:(0,A.isEmpty)(t)?"none":"block"}})),e}return t=c,(r=[{key:"shouldComponentUpdate",value:function(e){return e.responses!==this.props.responses||e.missingResponses!==this.props.missingResponses||e.index!==this.props.index}},{key:"render",value:function(){var e=this,t=this.props.container,r=this.getResponseProperties(),n=r.currResponse,a=r.emptyResponses,i=[this.renderEmptyLayers(),o().createElement(t,D({},this.props.containerProps,{onChangeIndex:function(t){e.props.setIndex(t)},ref:"container",index:this.props.index||0,key:"swiper",style:this.containerStyle(n),className:"swipeable-view"}),this.renderPages())];return i=this.props.isMobile?i:(0,A.reverse)(i),o().createElement("div",{className:"mapstore-identify-viewer"},a?this.renderEmptyPages():i.map((function(e){return e})))}}])&&L(t.prototype,r),c}(o().Component);U(G,"propTypes",{format:i().string,collapsible:i().bool,requests:i().array,responses:i().array,missingResponses:i().number,container:i().oneOfType([i().object,i().func]),header:i().oneOfType([i().object,i().func]),headerOptions:i().object,validator:i().func,viewers:i().object,style:i().object,containerProps:i().object,index:i().number,onNext:i().func,onPrevious:i().func,onUpdateIndex:i().func,setIndex:i().func,showEmptyMessageGFI:i().bool,renderEmpty:i().bool,loaded:i().bool,isMobile:i().bool}),U(G,"defaultProps",{format:(0,l.wR)(),responses:[],requests:[],missingResponses:0,collapsible:!1,headerOptions:{},container:h.UQ,validator:l.Te,viewers:(0,l.Qm)(),style:{position:"relative",marginBottom:0},containerProps:{},showEmptyMessageGFI:!0,renderEmpty:!1,onNext:function(){},onPrevious:function(){},setIndex:function(){},isMobile:!1});const Z=G},6874:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var n=r(77580),o=r.n(n),a=r(24852),i=r.n(a),l=r(7066),c=r(53129);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function d(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(u,e);var t,r,n,o,a=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(n);if(o){var r=y(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return d(this,e)});function u(){var e;s(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return v(m(e=a.call.apply(a,[this].concat(r))),"renderLeftButton",(function(){var t=0===e.props.index;return e.props.useButtons?i().createElement(c.Z,{ref:"left",disabled:t,className:e.props.btnClassName||"square-button-md no-border",onClick:function(){e.props.onPrevious()}},i().createElement(l.gG,{glyph:"back"})):i().createElement("a",{ref:"left",disabled:t,className:e.props.btnClassName||"square-button-md",onClick:function(){e.props.onPrevious()}},i().createElement(l.gG,{glyph:"back"}))})),v(m(e),"renderRightButton",(function(){var t=e.props.index===e.props.size-1;return e.props.useButtons?i().createElement(c.Z,{ref:"right",disabled:t,className:e.props.btnClassName||"square-button-md no-border",onClick:function(){e.props.onNext()}},i().createElement(l.gG,{glyph:"next"})):i().createElement("a",{ref:"right",disabled:t,className:e.props.btnClassName||"square-button-md",onClick:function(){e.props.onNext()}},i().createElement(l.gG,{glyph:"next"}))})),e}return t=u,(r=[{key:"componentWillUnmount",value:function(){this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){return i().createElement("div",{className:"ms-identify-swipe-header"},this.props.size>1&&i().createElement("div",{className:"ms-identify-swipe-header-arrow"},this.renderLeftButton()),i().createElement("div",{className:"ms-identify-swipe-header-title"},this.props.title),this.props.size>1&&i().createElement("div",{className:"ms-identify-swipe-header-arrow"},this.renderRightButton()))}}])&&p(t.prototype,r),u}(i().Component);v(g,"propTypes",{title:o().string,index:o().number,size:o().number,container:o().oneOfType([o().object,o().func]),useButtons:o().bool,onPrevious:o().func,onNext:o().func,btnClassName:o().string}),v(g,"defaultProps",{useButtons:!0});const b=g},26656:(e,t,r)=>{"use strict";r.d(t,{mI:()=>a,Yy:()=>i});var n=r(67076),o=r(80750),a=(0,n.withHandlers)({onNext:function(e){var t=e.index,r=void 0===t?0:t,n=e.setIndex,o=void 0===n?function(){}:n,a=e.validResponses,i=void 0===a?[]:a;return function(){o(Math.min(i.length-1,r+1))}},onPrevious:function(e){var t=e.index,r=e.setIndex,n=void 0===r?function(){}:r;return function(){n(Math.max(0,t-1))}}}),i=(0,n.defaultProps)({format:(0,o.wR)(),validator:o.Te})},53129:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(7066),o=r(24852),a=r.n(o),i=r(43078),l=r.n(i),c=["disabled","className","onClick"];function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(this,arguments)}const s=(p=n.zx,a().forwardRef((function(e,t){var r=e.disabled,n=e.className,o=e.onClick,i=void 0===o?function(){}:o,s=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,c);return a().createElement(p,u({ref:t,className:r?l()("disabled",n):n,onClick:function(){r||i.apply(void 0,arguments)}},s),s.children)})));var p},19881:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(77580),o=r.n(n),a=r(24852),i=r.n(a);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(e){return e>100?"full":e>40?"medium":"small"},p=function(e){var t=e.size,r=e.style,n=void 0===r?{}:r,o=e.className,a=e.hidden;return i().createElement("div",{className:o,style:c({width:t,height:t,overflow:"hidden"},n)},!a&&i().createElement("div",{className:"mapstore-".concat(s(t),"-size-loader")}))};p.propTypes={size:o().number,className:o().string,style:o().object};const f=p},29138:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(24852),o=r.n(n),a=r(67076),i=r(57424),l=r(19881);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const p=function(e){var t=e.width,r=e.height,n=e.className,a=void 0===n?"loader-container":n,c=e.contentStyle,s=void 0===c?{}:c;return o().createElement("div",{className:a},o().createElement(i.Z,null,(function(e){var n=e.width,a=void 0===n?200:n,i=e.height,c=void 0===i?200:i,p=t||(c>0?Math.min(a,c):a),f=r||(c>0?Math.min(a,c):a),d=Math.min(p,f);return o().createElement(l.Z,{size:d,style:u({padding:d/10,margin:"auto",display:"flex"},s)})})))};function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(this,arguments)}var d=function(e){var t=e.loading,r=e.isLoading;return t||r&&("function"==typeof r?r():!0===r)};const m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;return(0,a.branch)(e,(function(){return function(e){var n=e.loaderProps;return o().createElement(r,f({},t,n))}}))}},10306:(e,t,r)=>{function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(7185),l=r(56647),c=r(72500),u=r(59154).ZP,s=r(36493),p=s.isAuthenticationActivated,f=s.getAuthenticationRule,d=s.getToken,m=s.getBasicAuthHeader,y=r(51312),v=r(86494),g=v.isObject,b=v.omitBy,h=v.isNil,O=r(72500);function E(e,t,r){e.params=y({},e.params,a({},t,r)),e.url=e.url?u.getUrlWithoutParameters(e.url,[t]):e.url}function w(e,t,r){e.headers=y({},e.headers,a({},t,r))}var P=[];i.interceptors.request.use((function(e){var t=e.url||"",r=!(0===t.indexOf("http")),n=!r&&t.match(/([^:]*:)\/\/([^:]*:?[^@]*@)?([^:\/\?]*):?([^\/\?]*)/);if(function(e){if(!e||!e.url||!p())return e;var t=l(e.baseURL||"",e.url),r=f(t);switch(r&&r.method){case"browserWithCredentials":return e.withCredentials=!0,e;case"authkey":var n=d();return n?(E(e,r.authkeyParamName||"authkey",n),e):e;case"test":var o=r?r.token:"";return o?(E(e,r.authkeyParamName||"authkey",o),e):e;case"basic":var a=m();return a?(w(e,"Authorization",a),e):e;case"bearer":var i=d();i&&w(e,"Authorization","Bearer "+i)}}(e),n){var o=window.location;r=n[1]===o.protocol&&n[3]===o.hostname;var a=n[4],i=o.port,c=0===o.protocol.indexOf("https")?443:80;a=""===a?c+"":a+"",i=""===i?c+"":i+"",r=r&&a===i}if(!r){var s=u.getProxyUrl(e);if(s){var v=[],S=!1;g(s)&&(v=s.useCORS||[],S=s.autoDetectCORS||!1,s=s.url);var j=v.reduce((function(e,r){return e||0===t.indexOf(r)}),!1),x=P.reduce((function(e,r){return e||0===t.indexOf(r)}),!1);if(j||S&&!x)S&&(e.autoDetectCORS=!0);else{var _=O.parse(t,!0,!0),I=b(e.params,h);e.url=s+encodeURIComponent(O.format(y({},_,{search:null,query:y({},_.query,I)}))),e.params=void 0}}}return e})),i.interceptors.response.use((function(e){return e}),(function(e){if(e.config&&e.config.autoDetectCORS){var t=c.parse(e.config.url),r=t.protocol+"//"+t.host+t.pathname;if(-1===P.indexOf(r))return P.push(r),new Promise((function(t,r){i(o(o({},e.config),{},{autoDetectCORS:!1})).then(t).catch(r)}))}return Promise.reject(e.response?o(o({},e.response),{},{originalError:e}):e)})),e.exports=i},39522:(e,t,r)=>{"use strict";r.d(t,{Od:()=>i,Mc:()=>u});var n=r(89735),o=r(6607),a=r(86494),i=function(e){return e.map&&e.map.present||e.map||e.config&&e.config.map||null},l=(0,o.P1)([i],(function(e){return e&&e.projection})),c=((0,o.P1)([function(e){return(0,a.get)(i(e),"resolutions")},l],(function(e,t){if(e&&t){var r=n.default.getUnits(t);return e.map((function(e){return 3779.527559055118*e*("degrees"===r?111194.87428468118:1)}))}return[]})),function(e){return(0,a.get)(i(e),"eventListeners.mousemove",[])}),u=function(e){return c(e).includes("identifyFloatingTool")}},34554:(e,t,r)=>{"use strict";r.d(t,{Dg:()=>R,us:()=>P,Qf:()=>x,vR:()=>A,OK:()=>I,q7:()=>_,x0:()=>S,o9:()=>C});var n=r(86494),o=r(6607),a=r(39522),i=function(e){return e.localConfig},l=r(59154),c=r(59766);function u(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=function(e){return e.context&&e.context.currentContext},f=(0,o.P1)((function(){return(0,n.get)(l.ZP.getConfigProp("plugins"),"desktop")}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{desktop:[].concat(u(e),["Context"])}})),d=(0,o.P1)((function(e){return(0,n.get)(p(e),"plugins")}),(function(e){return(0,n.get)(p(e),"userPlugins")}),(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e&&{desktop:[].concat(u((0,n.get)(e,"desktop",[])),u(t.filter((function(e){return e.active}))))}})),m=((0,o.P1)(p,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.templates})),function(e){return function(e){return(0,n.get)(e,"context.loading")}(e)?function(e){return f(e)}(e):d(e)||f(e)}),y=function(e){return(0,o.P1)(p,m,(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!t||(0,n.findIndex)((0,n.get)(r,"desktop",[]),(function(t){return t.name===e}))>-1}))},v=((0,o.P1)((function(e){return(0,c.bh)(e,function(e){return(i(e)||{}).monitorState}(e))}),(function(e){return JSON.stringify(e)})),function(e){return e.locale&&e.locale.current||"en-US"}),g=((0,o.P1)([v],(function(e){return(0,n.head)(e.split("-"))})),r(80750)),b=r(66255);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=(0,o.P1)((function(e){return(t="desktop",function(e){return(0,n.get)(function(e){return(0,n.get)(i(e),"plugins")}(e),t)})(e)||{};var t}),b.c0,(function(e,t){return!t&&!!((Object.values(e).filter((function(e){return"Identify"===e.name})).pop()||{}).cfg||{}).showInMapPopup})),P=((0,o.P1)((function(e){return(0,n.get)(e,"mapInfo.requests")||[]}),y("Identify"),w,(function(e,t,r){return!r&&!!e&&e.length>0&&t})),function(e){return(0,n.get)(e,"mapInfo.configuration.infoFormat","text/plain")}),S=function(e){return(0,n.get)(e,"mapInfo.configuration.showEmptyMessageGFI",!0)},j=function(e){return e&&e.mapInfo&&e.mapInfo.clickPoint},x=((0,o.P1)((function(e){return!(0,n.get)(e,"mapInfo.enabled",!1)}),(function(e){return(0,n.get)(e,"controls.measure.enabled")&&((0,n.get)(e,"measurement.lineMeasureEnabled")||(0,n.get)(e,"measurement.areaMeasureEnabled")||(0,n.get)(e,"measurement.bearingMeasureEnabled"))}),(function(e){var t=(0,n.get)(e,"draw.drawStatus",!1);return t&&"clean"!==t&&"stop"!==t}),(function(e){return(0,n.get)(e,"annotations.editing")}),y("Identify"),(function(e,t,r,n,o){return e||!!t||r||!!n||!o})),(0,o.zB)({format:P,map:a.Od,point:j,currentLocale:v,maxItems:function(e){return(0,n.get)(e,"mapInfo.configuration.maxItems")}}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&e.mapInfo&&e.mapInfo.index}),_=function(e){return e.mapInfo&&e.mapInfo.responses||[]},I=function(e){var t;return(null==e||null===(t=e.mapInfo)||void 0===t?void 0:t.requests)||[]},A=function(e){var t;return null==e||null===(t=e.mapInfo)||void 0===t?void 0:t.loaded},C=(0,o.P1)(I,_,P,(function(e,t,r){var n=(0,g.Te)(r);return e.length===t.length&&n.getValidResponses(t)})),T=(0,o.P1)(C,x,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]})),N=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.style||t.geometry&&("Point"===t.geometry.type||"MultiPoint"===t.geometry.type)?e:(0,n.omit)(e,"radius")}},D=function(e){return function(t){return O(O({},t),{},{style:N(e)(t)})}},R=(0,o.P1)(j,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.mapInfo&&e.mapInfo.highlight}),(function(e){var t=T(e)||{};return(0,n.get)(t,"layerMetadata.features")}),(function(e){var t=T(e)||{};return(0,n.get)(t,"layerMetadata.featuresCrs")}),(function(e){return e&&e.mapInfo&&e.mapInfo.showMarker}),(function(e){return(0,n.get)(e,"mapInfo.highlightStyle",{color:"#3388ff",weight:4,radius:4,dashArray:"",fillColor:"#3388ff",fillOpacity:.2})}),(function(e,t,r,o,a,i){return a&&e?t?O(O({},e),{},{featuresCrs:o,features:r&&(0,n.isArray)(r)&&r.map(D(i))}):e:void 0}))},66255:(e,t,r)=>{"use strict";r.d(t,{$v:()=>n,c0:()=>o}),r(86494);var n=function(e){return e&&e.maptype&&e.maptype.mapType||"leaflet"},o=function(e){return"cesium"===n(e)}},54051:(e,t,r)=>{"use strict";r.d(t,{vq:()=>l,oo:()=>c,qq:()=>u});var n,o=r(44142),a=r.n(o),i=r(86494),l=function(e,t,r){return e instanceof Array?n.rgbToHex(e[0],e[1],e[2]):"#"+n.decToHex(e)+n.decToHex(t)+n.decToHex(r)},c=function(e){var t,r,n,o=e;return"#"===o.charAt(0)&&(o=e.substring(1)),t=o.charAt(0)+o.charAt(1),r=o.charAt(2)+o.charAt(3),n=o.charAt(4)+o.charAt(5),[parseInt(t,16),parseInt(r,16),parseInt(n,16)]},u=function(e,t,r){var n=a()(e);return e&&n.setAlpha((0,i.toNumber)(void 0!==t?t:n.getAlpha())).toRgbString()||r};n={decToHex:function(e){var t="0123456789ABCDEF",r=parseInt(e,10);return r=isNaN(r)?0:r,t.charAt(((r=r>255||r<0?0:r)-r%16)/16)+t.charAt(r%16)},rgbToHex:l,realToDec:function(e){return Math.min(255,Math.round(256*e))},rgbToHsv:function(e,t,r){if(e instanceof Array)return n.rgbToHsv(e[0],e[1],e[2]);var o,a,i,l,c,u=e/255,s=t/255,p=r/255;switch(o=Math.min(Math.min(u,s),p),i=(a=Math.max(Math.max(u,s),p))-o,a){case o:l=0;break;case u:l=60*(s-p)/i,s<p&&(l+=360);break;case s:l=60*(p-u)/i+120;break;case p:l=60*(u-s)/i+240}return c=0===a?0:1-o/a,[Math.round(l),c,a]},distributedColorsHEX:function(e){for(var t=360/(e-1),r=[],o=function e(t,r,o){var a=e(t,r,o);return n.rgbToHex(a)},a=0;a<e;a++)r.push(o(t*a,.57,.63));return r},sameToneRangeColors:function(e,t,r,o){var a=e;isNaN(parseFloat(e))&&(a=n.hexToHsv(e)[0]);var i=.5/(r-1),l=t/(r-1),c=[];1===r&&(i=.5,l=t/2);for(var u=0;u<r;u++){var s=a+u*l-t/2,p=i*u+.3,f=p;o&&(s=o.h||s,p=o.s||p,f=o.v||f),c.push(n.hsvToHex(s,p,f,u))}return c},hsvToRgb:function(e,t,r){if(e instanceof Array)return n.hsvToRgb(e[0],e[1],e[2]);var o,a,i,l=Math.floor(e/60%6),c=e/60-l,u=r*(1-t),s=r*(1-c*t),p=r*(1-(1-c)*t);switch(l){case 0:o=r,a=p,i=u;break;case 1:o=s,a=r,i=u;break;case 2:o=u,a=r,i=p;break;case 3:o=u,a=s,i=r;break;case 4:o=p,a=u,i=r;break;case 5:o=r,a=u,i=s}return[n.realToDec(o),n.realToDec(a),n.realToDec(i)]},hsvToHex:function(e,t,r){var o=n.hsvToRgb(e,t,r);return n.rgbToHex(o)},hexToHsv:function(e){var t=e;if(t.length>0){"#"===t[0]&&(t=e.substring(1));var r=n.hexToRgb(t);return n.rgbToHsv(r)}return null},hexToRgb:c,colorToHexStr:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"red";return a()(e).toHexString()},colorToRgbaStr:u}},59154:(e,t,r)=>{"use strict";r.d(t,{u8:()=>G,ZP:()=>Z});var n=r(23291),o=r(77580),a=r.n(o),i=r(72500),l=r.n(i),c=r(7185),u=r.n(c),s=r(86494),p=r(51312),f=r.n(p),d=r(89820),m=r(10082),y=r.n(m),v=["layers","groups","plugins"];function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E=n.Z?new n.Z.Proj("EPSG:4326"):null,w=a().shape({x:a().number.isRequired,y:a().number.isRequired,crs:a().string}),P=l().parse(window.location.href,!0).query,S="localConfig.json",j={proxyUrl:"/mapstore/proxy/?url=",geoStoreUrl:"/rest/geostore/",printUrl:"/mapstore/print/info.json",translationsPath:"translations",extensionsRegistry:"extensions.json",extensionsFolder:"",configurationFolder:"",contextPluginsConfiguration:"pluginsConfig.json",projectionDefs:[],themePrefix:"ms2",bingApiKey:null,mapquestApiKey:null,defaultSourceType:"gxp_wmssource",backgroundGroup:"background",userSessions:{enabled:!1}},x=function(e,t,r,n){var o=e.mapId;return{configUrl:o?(n||j.geoStoreUrl)+"data/"+o:j.configurationFolder+(e.config||t||"config")+"."+(r||"json"),legacy:!!o}},_=function(e){var t=e.split("?");if(t.length>2){var r=t.slice(1);return t[0]+"?"+r.join("&")}return e},I=function(e,t){var r=_(e).split("?"),n="";if(r.length>=2&&r[1]){var o=r[1].split(/[&;]/g).filter((function(e){return!!e}));o.forEach((function(e,r){var a=e.split("=");if(-1===t.indexOf(a[0].toLowerCase())){var i=r===o.length-1?"":"&";n+=a.join("=")+i}}))}return n?r[0]+"?"+n:r[0]},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,s.isNil)(e)||""===e?null:I(_(e),t)},C=function(e,t){var r=(0,s.isArray)(e)?{x:e[0],y:e[1]}:e,o=e.crs||t||"EPSG:4326",a="EPSG:4326"!==o?n.Z.transform(new n.Z.Proj(o),E,r):r;return f()({},a,{crs:"EPSG:4326"})},T=function(e){return"bing"===e.type&&(e.apiKey=j.bingApiKey),"mapquest"===e.type&&(e.apiKey=j.mapquestApiKey),e},N=function(e,t){return e.id||(e.id=e.name+"__"+t),e},D=function(e){var t=e;return(t.match(/\{.*?\}/g)||[]).forEach((function(e){var r=j[e.substring(1,e.length-1)];void 0!==r&&(t=t.replace(e,r||""))})),t},R=function(e){return e.url&&((0,s.isArray)(e.url)?e.url=e.url.map((function(e){return D(e)})):e.url=D(e.url)),e},L=function(e){var t=e.layers,r=e.groups,n=e.plugins,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,v);return o.center=C(o.center),{map:o,layers:t.map(T,e).map(N).map(R),groups:r,plugins:n}},k=function(e,t){var r,n=t;for(r in t||(n=j.defaultSourceType),e)e.hasOwnProperty(r)&&(e[r].ptype||(e[r].ptype=n))},M=function(e){return e&&-1!==e.indexOf("?")?e.split("?")[0]:e},F=function(e,t){if(e.baseParams=t.baseParams,t.url){var r=l().parse(t.url,!0);for(var n in r.query)"REQUEST"===n.toUpperCase()&&delete r.query[n];e.baseParams=f()({},e.baseParams,r.query)}e.url=M(t.url)},B=function(e,t,r){var n,o,a,i;for(o=0;o<e.length;o++){(i=t[(a=e[o]).source])&&F(a,i);var l=i.ptype;a.type=l?l.replace(/^gxp_(.*)source$/i,"$1"):"unknown",a&&(r.indexOf(i&&i.ptype)>=0?a.group===j.backgroundGroup&&(a.visibility=a.visibility||!1,n&&n.visibility?a.visibility&&(n.visibility=!1,n=a):n=a):a.visibility=!1)}n&&(n.visibility=!0)},U=function(e){return e.proxyUrl?e.proxyUrl:j.proxyUrl},G=function(e){return j[e]};const Z={PropTypes:{center:w,config:a().shape({center:w,zoom:a().number.isRequired}),mapStateSource:a().string},getParsedUrl:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e){var n=l().parse(A(e,r),!0),o=null;if((0,s.endsWith)(n.pathname,"wfs")||(0,s.endsWith)(n.pathname,"wms")||(0,s.endsWith)(n.pathname,"ows"))return o=n.pathname.replace(/(wms|ows|wfs|wps)$/,"wps"),l().format(f()({},n,{search:null,pathname:o},{query:f()(h({service:"WPS"},t),n.query)}))}return null},getDefaults:function(){return h({},j)},setLocalConfigurationFile:function(e){S=e},loadConfiguration:function(){return S?u().get(S).then((function(e){return"object"===g(e.data)&&(j=f()({},j,e.data)),h({},j)})):new d.Promise((function(e){e(h({},j))}))},getCenter:C,normalizeConfig:L,getUserConfiguration:function(e,t,r){return x(P,e,t,r)},getConfigurationOptions:x,getConfigUrl:function(e){var t=e.mapId,r=t,n=e.config;try{var o=parseInt(r,10);isNaN(o)&&(n=t,r=null)}catch(e){n=t,r=null}return x({mapId:r,config:n})},convertFromLegacy:function(e){var t=e.map,r=e.gsSources||e.sources,n=t.layers.filter((function(e){return r[e.source]})),o=C(t.center,t.projection),a=t.zoom,i=t.maxExtent||t.extent;return k(r,e.defaultSourceType),B(n,r,["gxp_osmsource","gxp_wmssource","gxp_googlesource","gxp_bingsource","gxp_mapquestsource","gxp_olsource"]),L({center:o,zoom:a,maxExtent:i,layers:n,projection:t.projection||"EPSG:3857"})},setupSources:k,normalizeSourceUrl:M,copySourceOptions:F,setupLayers:B,mergeConfigs:function(e,t){return e.map=t.map,e.gsSources=t.gsSources||t.sources,e},getProxyUrl:U,cleanDuplicatedQuestionMarks:_,getUrlWithoutParameters:I,filterUrlParams:A,getProxiedUrl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!(0===e.indexOf("http")),n=!r&&e.match(/([^:]*:)\/\/([^:]*:?[^@]*@)?([^:\/\?]*):?([^\/\?]*)/);if(n){var o=window.location;r=n[1]===o.protocol&&n[3]===o.hostname;var a=n[4],i=o.port,l=0===o.protocol.indexOf("https")?443:80;a=""===a?l+"":a+"",i=""===i?l+"":i+"",r=r&&a===i}if(!r){var c=U(t);if(c){var u=[];(0,s.isObject)(c)&&(u=c.useCORS||[],c=c.url);var p=u.reduce((function(t,r){return t||0===e.indexOf(r)}),!1);if(!p)return c+encodeURIComponent(e)}}return e},getBrowserProperties:function(){var e="ActiveXObject"in window,t=e&&!document.addEventListener,r=e&&window.location.hash===!!window.MSInputMethodContext&&!!document.documentMode,n=navigator.userAgent.toLowerCase(),o=-1!==n.indexOf("webkit"),a=-1!==n.indexOf("chrome"),i=-1!==n.indexOf("safari")&&-1===n.indexOf("chrome"),l=-1!==n.indexOf("phantom"),c=-1!==n.indexOf("android"),u=-1!==n.search("android [23]"),s=-1!==n.indexOf("gecko"),p=y().any,f=!window.PointerEvent&&window.MSPointerEvent,d=window.PointerEvent&&window.navigator.pointerEnabled&&window.navigator.maxTouchPoints||f,m="devicePixelRatio"in window&&window.devicePixelRatio>1||"matchMedia"in window&&window.matchMedia("(min-resolution:144dpi)")&&window.matchMedia("(min-resolution:144dpi)").matches,v=document.documentElement,g=e&&"transition"in v.style,b="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!u,h="MozPerspective"in v.style,O="OTransition"in v.style,E=!window.L_DISABLE_3D&&(g||b||h||O)&&!l,w=!window.L_NO_TOUCH&&!l&&(d||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch);return{ie:e,ie11:r,ielt9:t,webkit:o,gecko:s&&!o&&!window.opera&&!e,android:c,android23:u,chrome:a,safari:i,ie3d:g,webkit3d:b,gecko3d:h,opera3d:O,any3d:E,mobile:p,mobileWebkit:p&&o,mobileWebkit3d:p&&b,mobileOpera:p&&window.opera,touch:w,msPointer:f,pointer:d,retina:m}},setApiKeys:T,setUrlPlaceholders:R,replacePlaceholders:D,setLayerId:N,getConfigProp:G,setConfigProp:function(e,t){j[e]=t},removeConfigProp:function(e){delete j[e]}}},89735:(e,t,r)=>{"use strict";r.r(t),r.d(t,{FORMULAS:()=>C,getProjUrl:()=>N,determineCrs:()=>R,normalizePoint:()=>k,reproject:()=>F,reprojectExtent:()=>U,getPolygonFromExtent:()=>G,getExtentFromNormalized:()=>Z,crsCodeTable:()=>q,setCrsLabels:()=>z,getUnits:()=>W,getProjectedBBox:()=>H,createBBox:()=>K,reprojectGeoJson:()=>V,lineIntersectPolygon:()=>Y,normalizeLng:()=>X,reprojectBbox:()=>J,bboxToFeatureGeometry:()=>Q,getCompatibleSRS:()=>$,getEquivalentSRS:()=>ee,getEPSGCode:()=>te,normalizeSRS:()=>re,isAllowedSRS:()=>ne,getAvailableCRS:()=>oe,filterCRSList:()=>ae,calculateAzimuth:()=>ie,calculateDistance:()=>le,extendExtent:()=>ce,getGeoJSONExtent:()=>ue,isValidExtent:()=>se,calculateCircleCoordinates:()=>pe,transformLineToArcs:()=>fe,transformArcsToLine:()=>de,coordsOLtoLeaflet:()=>me,mergeToPolyGeom:()=>ye,getViewportGeometry:()=>ve,getExtentFromViewport:()=>ge,fetchProjRemotely:()=>be,parseURN:()=>he,parseString:()=>Oe,getWMSBoundingBox:()=>Ee,isSRSAllowed:()=>we,getNormalizedLatLon:()=>Pe,isInsideVisibleArea:()=>Se,centerToVisibleArea:()=>je,calculateCircleRadiusFromPixel:()=>xe,roundCoord:()=>_e,midpoint:()=>Ie,pointObjectToArray:()=>Ae,isPointInsideExtent:()=>Ce,isBboxCompatible:()=>Te,extractCrsFromURN:()=>Ne,makeNumericEPSG:()=>De,makeBboxFromOWS:()=>Re,getPolygonFromCircle:()=>Le,default:()=>ke});var n=r(43034),o=r(23291),a=r(10306),i=r.n(a),l=r(51312),c=r.n(l),u=r(86494),s=r(70370),p=r(88060),f=r.n(p),d=r(31114),m=r.n(d),y=r(54323),v=r(40239),g=r.n(v),b=r(79853),h=r(44903),O=r(29516);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var I,A=o.Z,C={vincenty:function(e){for(var t=0,r=0;r<e.length-1;++r){var o=e[r],a=e[r+1],i=j(o,2),l=i[0],c=i[1],u=j(a,2),s=u[0],p=u[1];t+=parseFloat(n.Kl({longitude:l,latitude:c},{longitude:s,latitude:p}))}return t},haversine:function(e){for(var t=0,r=0;r<e.length-1;++r){var o=e[r],a=e[r+1],i=j(o,2),l=i[0],c=i[1],u=j(a,2),s=u[0],p=u[1];t+=parseFloat(n.e8({longitude:l,latitude:c},{longitude:s,latitude:p}))}return t}};function T(e,t){return(r=e).length>=2&&"number"==typeof r[0]&&"number"==typeof r[1]?t(e):e.map((function(e){return T(e,t)}));var r}var N=function(e){return"http://spatialreference.org/ref/epsg/".concat(e,"/proj4/")};function D(e,t,r){if(null===e)return e;var n=(0,u.cloneDeep)(e);return"Feature"===e.type?n.geometry=D(e.geometry,t,r):"FeatureCollection"===e.type?n.features=n.features.map((function(e){return D(e,t,r)})):"GeometryCollection"===e.type?n.geometries=n.geometries.map((function(e){return D(e,t,r)})):t&&t(n),r&&r(n),n}function R(e){return"string"==typeof e||e instanceof String?o.Z.defs(e)?new o.Z.Proj(e):null:e}var L={"EPSG:4326":"WGS 84","EPSG:3857":"EPSG:3857"},k=function(e){return{x:e.x||0,y:e.y||0,srs:e.srs||e.crs||"EPSG:4326",crs:e.srs||e.crs||"EPSG:4326"}},M=function(e){var t=e;return(0,u.isNumber)(e.x)||(t.x=parseFloat(e.x)),(0,u.isNumber)(e.y)||(t.y=parseFloat(e.y)),t},F=function(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=t&&o.Z.defs(t)?new o.Z.Proj(t):null,i=r&&o.Z.defs(r)?new o.Z.Proj(r):null;if(a&&i){var l=(0,u.isArray)(e)?o.Z.toPoint(e):o.Z.toPoint([e.x,e.y]),s=c()({},t===r?M(l):o.Z.transform(a,i,M(l)),{srs:r});return n?k(s):s}return null},B=["EPSG:900913","EPSG:4326","EPSG:3857"],U=function(e,t,r){return"EPSG:4326"===t?e:r?e.map((function(e){return[F([e[0],e[1]],"EPSG:4326",t),F([e[2],e[3]],"EPSG:4326",t)].reduce((function(e,t){return[].concat(S(e),[t.x,t.y])}),[])})):[F([e[0],e[1]],"EPSG:4326",t),F([e[2],e[3]],"EPSG:4326",t)].reduce((function(e,t){return[].concat(S(e),[t.x,t.y])}),[])},G=function(e){return e?e.hasOwnProperty("geometry")&&"Polygon"===e.geometry.type?e:(0,b.Z)(e):null},Z=function(e,t){var r=function(e,t){var r="EPSG:4326"!==t?[F([parseFloat(e.minx),parseFloat(e.miny)],t,"EPSG:4326"),F([parseFloat(e.maxx),parseFloat(e.maxy)],t,"EPSG:4326")].reduce((function(e,t){return[].concat(S(e),[t.x,t.y])}),[]):[parseFloat(e.minx),parseFloat(e.miny),parseFloat(e.maxx),parseFloat(e.maxy)],n=!1;return"EPSG:4326"===t?n=Math.abs(e.maxx-e.minx)>=360:"EPSG:900913"!==t&&"EPSG:3857"!==t||(n=Math.abs(e.maxx-e.minx)>=40075016.68557849),n?[0,r[1],360,r[3]]:[(r[0]+180)%360,r[1],(r[2]+180)%360,r[3]].map((function(e,t){return t%2==0&&e<0?360+e:e}))}(e,t),n=r[2]<r[0];return n?{extent:U([[-180,r[1],r[2]-180,r[3]],[r[0]-180,r[1],180,r[3]]],t,n),isIDL:n}:{extent:U([r[0]-180,r[1],r[2]-180,r[3]],t,n),isIDL:n}},q={wgs84:4326,wgs1984:4326,crs84:4326,ogccrs84:4326,lambert93:2154,rgflambert93:2154},z=function(e){L=c()({},L,e)},W=function(e){return new o.Z.Proj(e).units||"degrees"},H=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0,o=t*n[0]/2,a=t*n[1]/2,i=Math.cos(r),l=Math.sin(r),c=o*i,u=o*l,s=a*i,p=a*l,f=e.x,d=e.y,m=f-c+p,y=f-c-p,v=f+c-p,g=f+c+p,b=d-u-s,h=d-u+s,O=d+u+s,E=d+u-s,w=I.createBBox(Math.min(m,y,v,g),Math.min(b,h,O,E),Math.max(m,y,v,g),Math.max(b,h,O,E));return w},K=function(e,t,r,n){return{minx:e,miny:t,maxx:r,maxy:n}},V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EPSG:4326",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"EPSG:4326",n=t,o=r;"string"==typeof n&&(n=R(n)),"string"==typeof o&&(o=R(o));var a=A(n,o);return D(e,(function(e){e.crs&&delete e.crs,e.coordinates=T(e.coordinates,(function(e){var t=j(e,2),r=t[0],n=t[1];return a.forward([r,n])}))}),(function(e){var t,r;e.bbox&&(e.bbox=(t=[Number.MAX_VALUE,Number.MAX_VALUE],r=[-Number.MAX_VALUE,-Number.MAX_VALUE],D(e,(function(e){T(e.coordinates,(function(e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),r[0]=Math.max(r[0],e[0]),r[1]=Math.max(r[1],e[1])}))})),[t[0],t[1],r[0],r[1]]))}))},Y=function(e,t){var r=m()(t).features[0];return 0!==f()(e,r).features.length},X=function(e){var t=e/360%1*360;return t<-180?t+=360:t>180&&(t-=360),t},J=function(e,t,r){var n,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];n=(0,u.isArray)(e)?{sw:[e[0],e[1]],ne:[e[2],e[3]]}:{sw:[e.minx,e.miny],ne:[e.maxx,e.maxy]};var a=[];for(var i in n)if(n.hasOwnProperty(i)){var l=I.reproject(n[i],t,r,o);if(!l)return null;var c=l.x,s=l.y;a.push(c),a.push(s)}return a},Q=function(e){var t=(0,u.isArray)(e)?{minx:e[0],miny:e[1],maxx:e[2],maxy:e[3]}:e,r=t.minx,n=t.miny,o=t.maxx,a=t.maxy;return{type:"Polygon",coordinates:[[[r,n],[r,a],[o,a],[o,n],[r,n]]]}},$=function(e,t){return"EPSG:900913"===e&&!t["EPSG:900913"]&&t["EPSG:3857"]?"EPSG:3857":"EPSG:3857"===e&&!t["EPSG:3857"]&&t["EPSG:900913"]?"EPSG:900913":e},ee=function(e){return"EPSG:900913"===e||"EPSG:3857"===e?["EPSG:3857","EPSG:900913"]:[e]},te=function(e){return-1!==e.indexOf(":")?"EPSG:"+e.substring(e.lastIndexOf(":")+1):e},re=function(e,t){var r="EPSG:900913"===e?"EPSG:3857":e;return t&&!t[r]?I.getCompatibleSRS(r,t):r},ne=function(e,t){return t[I.getCompatibleSRS(e,t)]},oe=function(){var e={};for(var t in o.Z.defs)o.Z.defs.hasOwnProperty(t)&&(e[t]={label:L[t]||t});return e},ae=function(e,t,r,n){var o=Object.keys(e).reduce((function(r,n){return c()({},-1===t.indexOf(n)?r:w(w({},r),{},P({},n,e[n])))}),{}),a=n.map((function(e){return e.code})),i=Object.keys(r).reduce((function(e,t){return c()({},-1===a.indexOf(t)?e:w(w({},e),{},P({},t,r[t])))}),{});return c()({},o,i)},ie=function(e,t,r){var n=I.reproject(e,r,"EPSG:4326"),o=I.reproject(t,r,"EPSG:4326"),a=n.x*Math.PI/180,i=n.y*Math.PI/180,l=o.x*Math.PI/180,c=o.y*Math.PI/180,u=l-a,s=Math.sin(u)*Math.cos(c),p=Math.cos(i)*Math.sin(c)-Math.sin(i)*Math.cos(c)*Math.cos(u);return(180*Math.atan2(s,p)/Math.PI+360)%360},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"haversine";return e.length>=2&&-1!==Object.keys(C).indexOf(t)?C[t](e):0},ce=function(e,t){var r=e.slice();return t[0]<e[0]&&(r[0]=t[0]),t[2]>e[2]&&(r[2]=t[2]),t[1]<e[1]&&(r[1]=t[1]),t[3]>e[3]&&(r[3]=t[3]),r},ue=function(e){var t=this,r=[1/0,1/0,-1/0,-1/0],n=function(e,r){var n=I.getGeoJSONExtent(r);return t.isValidExtent(n)?t.extendExtent(n,e):n};if(e.coordinates){if("Point"===e.type){var o=e.coordinates;r[0]=o[0]-.01*o[0],r[1]=o[1]-.01*o[1],r[2]=o[0]+.01*o[0],r[3]=o[1]+.01*o[1]}return(0,u.chunk)((0,u.flattenDeep)(e.coordinates),2).reduce((function(e,t){return[t[0]<e[0]?t[0]:e[0],t[1]<e[1]?t[1]:e[1],t[0]>e[2]?t[0]:e[2],t[1]>e[3]?t[1]:e[3]]}),r)}if("GeometryCollection"===e.type)return e.geometries.reduce(n,r);if(e.type){if("FeatureCollection"===e.type)return e.features.reduce(n,r);if("Feature"===e.type&&e.geometry)return I.getGeoJSONExtent(e.geometry)}return r},se=function(e){return!(-1!==e.indexOf(1/0)||-1!==e.indexOf(-1/0)||e[0]>e[2]||e[1]>e[3])},pe=function(e,t,r,n){var o,a,i,l=Math.PI*(1/r-.5);n&&(l+=n/180*Math.PI);for(var c=[[]],u=0;u<r;u++)o=l+2*u*Math.PI/r,a=e.x+t*Math.cos(o),i=e.y+t*Math.sin(o),c[0].push([a,i]);return c[0].push(c[0][0]),c},fe=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{npoints:100,offset:10,properties:{}},r=[],n=0;n<e.length-1;++n){var o=e[n],a=e[n+1],i=g()(o),l=g()(a);if(o[0]!==a[0]||o[1]!==a[1]){var c=(0,y.Z)(i,l,t);r=[].concat(S(r),S(c.geometry.coordinates))}}return r},de=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return e.length<=t?[(0,u.head)(e),(0,u.last)(e)]:e.length>t?[(0,u.head)(e)].concat(I.transformArcsToLine((0,u.slice)(e,t))):[]},me=function(e){var t=e.coordinates;switch(e.type){case"Polygon":return t.map((function(e){return e.map((function(e){return e.reverse()}))}));case"LineString":return t.map((function(e){return e.reverse()}));case"Point":return t.reverse();default:return[]}},ye=function(e){return 1===e.length?e[0].geometry:{type:"GeometryCollection",geometries:e.map((function(e){return e.geometry}))}},ve=function(e,t){if((0,u.head)(B.filter((function(e){return e===t})))){var r=Z(e,t),n=r.extent,o=r.isIDL,a=(o?n:[n]).map((function(e){var t=[e[0],e[1]],r=[e[2],e[3]];return[[t,[t[0],r[1]],r,[r[0],t[1]],t]]}));if(o){var i=n[1][0]+(Math.abs(n[0][0]-n[0][2])+Math.abs(n[1][0]-n[1][2]))/2;return{type:"MultiPolygon",radius:0,projection:t,coordinates:a,extent:n,center:[i=i>180?i-360:i,(n[0][1]+n[0][3])/2]}}return{type:"Polygon",radius:0,projection:t,coordinates:a[0],extent:n,center:[(n[0]+n[2])/2,(n[1]+n[3])/2]}}var l=[e.minx,e.miny,e.maxx,e.maxy],c=[l[0],l[1]],s=[l[2],l[3]];return{type:"Polygon",radius:0,projection:t,coordinates:[[c,[c[0],s[1]],s,[s[0],c[1]],c]],extent:l,center:[(l[0]+l[2])/2,(l[1]+l[3])/2]}},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bounds,r=e.crs,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EPSG:4326";if(!t||!r)return null;var o=I.getViewportGeometry(t,r),a=o.extent;if(4===a.length)return I.reprojectBbox(a,r,n);var i=a.map((function(e){return e[2]-e[0]})),l=j(i,2),c=l[0],u=l[1];return c>u?I.reprojectBbox(a[0],r,n):I.reprojectBbox(a[1],r,n)},be=function(e,t){var r=2===e.split(":").length?e.split(":")[1]:"3857";return i().get(t||N(r),null,{timeout:2e3})},he=function(e){var t=e&&e.properties&&e.properties.name||e&&e.name||e&&e.properties&&e.properties.code||e,r=t&&(0,u.last)(t.split(":"));return"WGS 1984"===r||"WGS84"===r?"EPSG:4326":r?"EPSG:"+r:null},Oe=function(e){var t=e.split(" "),r=parseFloat(t[0]),n=parseFloat(t[1]);return!isNaN(r)&&!isNaN(n)&&{x:r,y:n}||null},Ee=function(e,t){var r=t||"EPSG:3857",n=e&&(0,u.isArray)(e)&&(0,u.head)(e.filter((function(e){return e&&e.$&&e.$.SRS===r&&e.$.maxx&&e.$.maxy&&e.$.minx&&e.$.miny})).map((function(e){return e&&e.$&&I.reprojectBbox([parseFloat(e.$.minx),parseFloat(e.$.miny),parseFloat(e.$.maxx),parseFloat(e.$.maxy)],r,"EPSG:4326")})));return(0,u.isArray)(n)&&{minx:n[0],miny:n[1],maxx:n[2],maxy:n[3]}||null},we=function(e){return!!o.Z.defs(e)},Pe=function(e){var t=e.lng,r=void 0===t?1:t,n=e.lat;return{lat:void 0===n?1:n,lng:I.normalizeLng(r)}},Se=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=I.getNormalizedLatLon(e),a=F([o.lng,o.lat],"EPSG:4326",t.projection);if(!t.bbox)return!1;var i=I.reprojectBbox(t.bbox.bounds,t.bbox.crs,t.projection),l=w({left:0,right:0,top:0,bottom:0},r),c={minx:i[0]+l.left*n,miny:i[1]+l.bottom*n,maxx:i[2]-l.right*n,maxy:i[3]-l.top*n},s=I.getViewportGeometry(c,t.projection),p=4===s.extent.length?[S(s.extent)]:S(s.extent);return(0,u.head)(p.map((function(e){return a.x>=e[0]&&a.y>=e[1]&&a.x<=e[2]&&a.y<=e[3]})).filter((function(e){return e})))||!1},je=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=I.getNormalizedLatLon(e),a=F([o.lng,o.lat],"EPSG:4326",t.projection),i=w({left:0,right:0,top:0,bottom:0},r),l={width:(t.size.width-i.right-i.left)*n,height:(t.size.height-i.top-i.bottom)*n},c={minx:a.x-l.width/2-i.left*n,miny:a.y-l.height/2-i.bottom*n,maxx:a.x+l.width/2+i.right*n,maxy:a.y+l.height/2+i.top*n},u=I.getViewportGeometry(c,t.projection);if(4===u.extent.length)return{pos:F([u.extent[0]+t.size.width/2*n,u.extent[1]+t.size.height/2*n],t.projection,"EPSG:4326"),zoom:t.zoom,crs:"EPSG:4326"};if(Math.abs(u.extent[0][2]-u.extent[0][0])>Math.abs(u.extent[1][2]-u.extent[1][0])){var s=F([u.extent[0][2]-t.size.width/2*n,u.extent[0][3]-t.size.height/2*n],t.projection,"EPSG:4326"),p=w(w({},s),{},{x:s.x+(o.lng>s.x?360:0)});return{pos:p,zoom:t.zoom,crs:"EPSG:4326"}}return{pos:F([u.extent[1][0]+t.size.width/2*n,u.extent[1][1]+t.size.height/2*n],t.projection,"EPSG:4326"),zoom:t.zoom,crs:"EPSG:4326"}},xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.01,a=(0,u.isArray)(r)?r:[r.x,r.y];if((0,u.isNumber)(a[0])&&!isNaN(a[0])&&(0,u.isNumber)(a[1])&&!isNaN(a[1])&&(0,u.isNumber)(t.x)&&!isNaN(t.x)&&(0,u.isNumber)(t.y)&&!isNaN(t.y)){var i=(0,u.isFunction)(e)?e([t.x,t.y>=n?t.y-n:t.y+n]):null,l=i&&((0,u.isArray)(i)?i:[i.x,i.y]);return(0,u.isArray)(l)?Math.sqrt((a[0]-l[0])*(a[0]-l[0])+(a[1]-l[1])*(a[1]-l[1])):o}return o},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.roundingBehaviour,r=void 0===t?"round":t,n=e.value,o=void 0===n?0:n,a=e.maximumFractionDigits,i=void 0===a?0:a;return 0===i&&Math[r]?Math[r](o):o},Ie=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(0,u.isArray)(e)?{x:e[0],y:e[1]}:e,o=(0,u.isArray)(t)?{x:t[0],y:t[1]}:t,a={x:.5*(n.x+o.x),y:.5*(n.y+o.y)};return r?[a.x,a.y]:a},Ae=function(e){return(0,u.isObject)(e)&&(0,u.isNumber)(e.x)&&(0,u.isNumber)(e.y)?[e.x,e.y]:e},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{lat:1,lng:1},t=arguments.length>1?arguments[1]:void 0;return(0,O.Z)(G(t),g()([e.lng,e.lat]))},Te=function(e,t){return(0,h.Z)(e,t)||(0,O.Z)(e,t)||(0,O.Z)(t,e)},Ne=function(e){if(e){var t=e.split(":");if("urn"===t[0]&&("ogc"===t[1]||"x-ogc"===t[1])&&"def"===t[2]&&"crs"===t[3]&&(t[4]||t[6])){var r=t[4],n=t[6];return r?"".concat(r,":").concat(n):n}}return null},De=function(e){if(!e||"EPSG:"!==e.slice(0,5))return null;var t=e.slice(5),r=parseInt(t,10);if(r>=1024&&r<=32767)return e;var n=t.replace(" ","").replace(":","").toLowerCase(),o=q[n];return o>=1024&&o<=32767?"EPSG:".concat(o):null},Re=function(e,t){var r=[e[0],e[1]],n=[t[0],t[1]];if(r[1]>n[1]){var o=r;r=n,n=o}if(r[0]>n[0]){var a=r.slice(),i=n.slice();r=[i[0],a[1]],n=[a[0],i[1]]}return[r[0],r[1],n[0],n[1]]},Le=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"degrees",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;return e&&t?(0,s.Z)(e,t,{steps:n,units:r}):null};const ke=I={setCrsLabels:z,getUnits:W,reproject:F,getProjectedBBox:H,createBBox:K,reprojectGeoJson:V,lineIntersectPolygon:Y,normalizePoint:k,normalizeLng:X,reprojectBbox:J,getCompatibleSRS:$,getEquivalentSRS:ee,getEPSGCode:te,normalizeSRS:re,isAllowedSRS:ne,getAvailableCRS:oe,filterCRSList:ae,calculateAzimuth:ie,calculateDistance:le,FORMULAS:C,extendExtent:ce,getGeoJSONExtent:ue,isValidExtent:se,calculateCircleCoordinates:pe,transformLineToArcs:fe,transformArcsToLine:de,coordsOLtoLeaflet:me,mergeToPolyGeom:ye,getViewportGeometry:ve,getProjUrl:N,getExtentFromViewport:ge,fetchProjRemotely:be,parseURN:he,determineCrs:R,parseString:Oe,getWMSBoundingBox:Ee,isSRSAllowed:we,getNormalizedLatLon:Pe,isInsideVisibleArea:Se,centerToVisibleArea:je,calculateCircleRadiusFromPixel:xe,roundCoord:_e,midpoint:Ie,pointObjectToArray:Ae,getExtentFromNormalized:Z,getPolygonFromExtent:G,isPointInsideExtent:Ce,isBboxCompatible:Te,extractCrsFromURN:Ne,crsCodeTable:q,makeNumericEPSG:De,makeBboxFromOWS:Re,getPolygonFromCircle:Le}},24357:(e,t,r)=>{"use strict";r.d(t,{f:()=>o});var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"--unknown--";return function(){return e.apply(void 0,arguments).catch((function(e,r){return console.error('Error in epic "'.concat(t,'". Original error:'),e),setTimeout((function(){throw e}),0),r}))}},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;return Object.keys(e).map((function(r){return t(e[r],r)}))}},9865:(e,t,r)=>{"use strict";r.d(t,{O7:()=>n,so:()=>o,cX:()=>u});var n={TEXT:"text/plain",HTML:"text/html",JSONP:"text/javascript",PROPERTIES:"application/json",JSON:"application/json",GML2:"application/vnd.ogc.gml",GML3:"application/vnd.ogc.gml/3.1.1",TEMPLATE:"application/json"},o={"text/plain":"TEXT","text/html":"HTML","text/javascript":"JSONP","application/json":"JSON","application/vnd.ogc.gml":"GML2","application/vnd.ogc.gml/3.1.1":"GML3"},a=/^[\s\S]*<gml:featureMembers[^>]*>([\s\S]*)<\/gml:featureMembers>[\s\S]*$/i,i=/^[\s\S]*<body[^>]*>([\s\S]*)<\/body>[\s\S]*$/i;function l(e){if("string"==typeof e.response&&0!==e.response.indexOf("<?xml")){var t=e.response.match(i);return e.layerMetadata&&e.layerMetadata.regex?t&&t[1]&&t[1].match(e.layerMetadata.regex):t&&t[1]&&t[1].trim().length>0}return!1}function c(e){if("string"==typeof e.response&&-1!==e.response.indexOf("<?xml")){var t=e.response.match(a);return t&&t[1]&&t[1].trim().length>0}return!1}var u={HTML:{getValidResponses:function(e){return e.filter(l)},getNoValidResponses:function(e){return e.filter((function(e){return!l(e)}))}},TEXT:{getValidResponses:function(e){return e.filter((function(e){return""!==e.response&&"string"==typeof e.response&&0!==e.response.indexOf("no features were found")&&"string"==typeof e.response&&0!==e.response.indexOf("<?xml")}))},getNoValidResponses:function(e){return e.filter((function(e){return""===e.response||"string"==typeof e.response&&0===e.response.indexOf("no features were found")||e.response&&"string"==typeof e.response&&0===e.response.indexOf("<?xml")}))}},JSON:{getValidResponses:function(e){return e.filter((function(e){return e.response&&e.response.features&&e.response.features.length}))},getNoValidResponses:function(e){return e.filter((function(e){return e.response&&e.response.features&&0===e.response.features.length}))}},PROPERTIES:{getValidResponses:function(e){return e.filter((function(e){return e.response&&e.response.features&&e.response.features.length}))},getNoValidResponses:function(e){return e.filter((function(e){return e.response&&e.response.features&&0===e.response.features.length}))}},GML3:{getValidResponses:function(e){return e.filter(c)},getNoValidResponses:function(e){return e.filter((function(e){return!c(e)}))}},TEMPLATE:{getValidResponses:function(e){return e.filter((function(e){return e.response&&e.response.features&&e.response.features.length}))},getNoValidResponses:function(e){return e.filter((function(e){return e.response&&e.response.features&&0===e.response.features.length}))}}}},16056:(e,t,r)=>{"use strict";r.d(t,{m5:()=>T,fV:()=>N,AS:()=>D});var n=r(89223),o=r(67451),a=r(57784),i=r(70831),l=r(96191),c=r.n(l),u=r(97240),s=r.n(u),p=r(89735),f=r(86494);function d(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b,h=function(e){return e&&e.replace?e.replace(/\'/g,"''"):e},O=function(e,t){return!(0,f.isNil)(e)&&"isNull"!==t||!(0,f.isUndefined)(e)&&"isNull"===t},E=function(e){return'"'+e+'"'},w=function(e){return e?"1.0"===e?"1.0.0":"1.1"===e?"1.1.0":e:"2.0"},P={ogc:{startTag:"<ogc:PropertyName>",endTag:"</ogc:PropertyName>"},fes:{startTag:"<fes:ValueReference>",endTag:"</fes:ValueReference>"}},S=function(e,t,r,n){var o;if("><"===t){if(r.startDate&&r.endDate){var i=r.startDate.toISOString?r.startDate.toISOString():r.startDate,l=r.endDate.toISOString?r.endDate.toISOString():r.endDate;o=a.ogcComparisonOperators[t](n,P[n].startTag+e+P[n].endTag+"<"+n+":LowerBoundary><"+n+":Literal>"+i+"</"+n+":Literal></"+n+":LowerBoundary><"+n+":UpperBoundary><"+n+":Literal>"+l+"</"+n+":Literal></"+n+":UpperBoundary>")}}else if(r.startDate){var c=r.startDate.toISOString?r.startDate.toISOString():r.startDate;o=a.ogcComparisonOperators[t](n,P[n].startTag+e+P[n].endTag+"<"+n+":Literal>"+c+"</"+n+":Literal>")}return o},j=function(e,t,r,n){var o;return O(r,t)&&(o="isNull"===t?a.ogcComparisonOperators[t](n,P[n].startTag+e+P[n].endTag):"="===t?a.ogcComparisonOperators[t](n,P[n].startTag+e+P[n].endTag+"<"+n+":Literal>"+r+"</"+n+":Literal>"):a.ogcComparisonOperators[t](n,P[n].startTag+e+P[n].endTag+"<"+n+":Literal>*"+r+"*</"+n+":Literal>")),o},x=function(e,t,r,n){var o="";return O(r,t)&&"="===t&&""!==r&&(o=a.ogcComparisonOperators[t](n,P[n].startTag+e+P[n].endTag+"<"+n+":Literal>"+r+"</"+n+":Literal>")),o},_=function(e,t,r,n){var o;if("><"===t)(0,f.isNil)(r)||null===r.lowBound||void 0===r.lowBound||null!==r.upBound&&void 0!==r.upBound?(0,f.isNil)(r)||null===r.upBound||void 0===r.upBound||null!==r.lowBound&&void 0!==r.lowBound?(0,f.isNil)(r)||null===r.upBound||void 0===r.upBound||null===r.lowBound||void 0===r.lowBound||(o=a.ogcComparisonOperators[t](n,P[n].startTag+e+P[n].endTag+"<"+n+":LowerBoundary><"+n+":Literal>"+r.lowBound+"</"+n+":Literal></"+n+":LowerBoundary><"+n+":UpperBoundary><"+n+":Literal>"+r.upBound+"</"+n+":Literal></"+n+":UpperBoundary>")):o=a.ogcComparisonOperators["<="](n,P[n].startTag+e+P[n].endTag+"<"+n+":Literal>"+r.upBound+"</"+n+":Literal>"):o=a.ogcComparisonOperators[">="](n,P[n].startTag+e+P[n].endTag+"<"+n+":Literal>"+r.lowBound+"</"+n+":Literal>");else{var i=(0,f.isNil)(r)||null===r.lowBound||void 0===r.lowBound?r:r.lowBound;(0,f.isNil)(i)||(o=a.ogcComparisonOperators[t](n,P[n].startTag+e+P[n].endTag+"<"+n+":Literal>"+i+"</"+n+":Literal>"))}return o},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.typeName,r=e.geometryName,n=e.cqlFilter,o=void 0===n?"INCLUDE":n;return"queryCollection('".concat(t,"', '").concat(r,"','").concat(h(o),"')")},A=function(e){return"collectGeometries(".concat(e,")")},C=function(e,t,r){var n,l,u,p,d,m,y,g=[];if(e.filterFields&&e.filterFields.length>0)""!==(n=e.groupFields&&e.groupFields.length>0?b.processOGCFilterGroup(e.groupFields[0],e,r):b.processOGCFilterFields(null,e,r))&&g.push(n);else if(e.simpleFilterFields&&e.simpleFilterFields.length>0){var h=a.ogcLogicalOperators.AND(r,e.simpleFilterFields.map((function(e){return function(e,t){var r="";switch(e.type){case"date":r=S(e.attribute,e.operator,e.values,t);break;case"number":r=_(e.attribute,e.operator,e.values,t);break;case"string":r=j(e.attribute,e.operator,e.values,t);break;case"boolean":r=x(e.attribute,e.operator,e.values,t);break;case"list":e.values&&e.values.length>0&&(r=e.values.reduce((function(r,n){var o=null===n||"null"===n?"isNull":"=";return r+j(e.attribute,o,n,t)}),""),r=a.ogcLogicalOperators.OR(t,r))}return r}(e,r)})).join(""));g.push(h)}if((0,f.isArray)(e.spatialField)?(p=(0,f.find)(e.spatialField,(function(e){return"BBOX"===e.operation})))||(u=e.spatialField):e.spatialField&&("BBOX"===e.spatialField.operation?p=e.spatialField:u=[e.spatialField]),p){if((0,f.isArray)(p.geometry&&p.geometry.extent[0])){var O=p.geometry.extent.reduce((function(e,n){var o=Object.assign({},p);return p.geometry.extent=n,e+b.processOGCSpatialFilter(t,o,r)}),"");l=a.ogcLogicalOperators.OR(r,O)}g.push(l)}else if(u&&(u=u.filter((function(e){return e&&e.geometry&&e.operation}))).length>0){var E=u.map((function(e){return b.processOGCSpatialFilter(t,e,r)})).join("");l=u.length>1?a.ogcLogicalOperators[e.spatialFieldOperator||"AND"](r,E):E,g.push(l)}if(e.crossLayerFilter&&e.crossLayerFilter.operation){var w=v(v({},e.crossLayerFilter),{},{attribute:e.crossLayerFilter.attribute});Array.isArray()?w.forEach((function(e){return g.push(b.processOGCCrossLayerFilter(e,r))})):g.push(b.processOGCCrossLayerFilter(w,r))}return e.options&&e.options.cqlFilter&&g.push((d=e.options.cqlFilter,m={filterNS:r,wfsVersion:t,gmlVersion:(0,o.wfsToGmlVersion)(t)},y=s()(m),c()(y)((0,i.read)(d)))),g},T=function(e){var t;try{t=e instanceof Object?e:JSON.parse(e)}catch(e){return e}var r,n,o=[];if(t.filterFields&&t.filterFields.length>0)(r=b.processCQLFilterGroup(t.groupFields[0],t))&&o.push(r);else if(t.simpleFilterFields&&t.simpleFilterFields.length>0){var a=t.simpleFilterFields.reduce((function(e,t){var r=e,n=b.processCQLSimpleFilterField(t);return!1!==n&&(r=e.length>0?e+" AND ("+n+")":"("+n+")"),r}),"");a=a.length>0?a:"INCLUDE",o.push(a)}if(t.spatialField&&(n=b.processCQLSpatialFilter(t))&&o.push(n),t.crossLayerFilter){var i=t.crossLayerFilter,l=i.operation,c=i.attribute,u=i.collectGeometries&&i.collectGeometries.queryCollection;if(l&&c&&u){var s=u.typeName,p=u.geometryName,f=b.getCrossLayerCqlFilter(i),d=A(I({typeName:s,geometryName:p,cqlFilter:f}));o.push("".concat(l,"(").concat(c,",").concat(d,")"))}}return o.length?"("+(o.length>1?o.join(") AND ("):o[0])+")":null},N=function(e,t){return"string"==typeof e?e:"OGC"===e.filterType?b.toOGCFilter(e.featureTypeName,v(v({},e),{},{options:t}),e.ogcVersion,e.sortOptions,e.hits):b.toCQLFilter(e)},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.filterFields&&e.filterFields.length>0||e.simpleFilterFields&&e.simpleFilterFields.length>0||e.spatialField&&e.spatialField.geometry&&e.spatialField.operation||(0,f.isArray)(e.spatialField)&&(0,f.findIndex)(e.spatialField,(function(e){return e.operation&&e.geometry}))>-1||e.crossLayerFilter&&e.crossLayerFilter.collectGeometries&&e.crossLayerFilter.collectGeometries.queryCollection&&e.crossLayerFilter.collectGeometries.queryCollection.geometryName&&e.crossLayerFilter.collectGeometries.queryCollection.typeName};b={processOGCFilterGroup:function(e,t,r){var n=b.processOGCFilterFields(e,t,r),o=b.findSubGroups(e,t.groupFields);return o.length>0&&o.forEach((function(e){n+=b.processOGCFilterGroup(e,t,r)})),""!==n?a.ogcLogicalOperators[e.logic](r,n):""},processOGCFilterFields:function(e,t,r){var n=e?t.filterFields.filter((function(t){return t.groupId===e.id&&O(t.value,t.operator)})):t.filterFields.filter((function(e){return O(e.value,e.operator)}));return n.length?n.reduce((function(e,t){var n;switch(t.type){case"date":case"date-time":case"time":n=S(t.attribute,t.operator,t.value,r);break;case"number":n=_(t.attribute,t.operator,t.value,r);break;case"string":n=j(t.attribute,t.operator,t.value,r);break;case"boolean":n=x(t.attribute,t.operator,t.value,r);break;case"list":n=function(e,t,r,n){var o;return(0,f.isNil)(r)||(o=a.ogcComparisonOperators[t](n,P[n].startTag+e+P[n].endTag+"<"+n+":Literal>"+r+"</"+n+":Literal>")),o}(t.attribute,t.operator,t.value,r)}return"isNull"===t.operator&&(n=j(t.attribute,t.operator,t.operator,r)),n&&e.push(n),e}),[]).join(""):""},processOGCCrossLayerFilter:function(e,t){var r=t||"ogc",n=P[r].startTag+e.attribute+P[r].endTag;if(e.collectGeometries){var o=b.getCrossLayerCqlFilter(e);n+='<ogc:Function name="collectGeometries"><ogc:Function name="queryCollection">'+"<ogc:Literal>".concat(e.collectGeometries.queryCollection.typeName,"</ogc:Literal>")+"<ogc:Literal>".concat(e.collectGeometries.queryCollection.geometryName,"</ogc:Literal>")+"<ogc:Literal><![CDATA[".concat(o,"]]></ogc:Literal>")+"</ogc:Function></ogc:Function>"}return"DWITHIN"===e.operation&&(n+="<"+r+':Distance units="m">'+(e.distance||0)+"</"+r+":Distance>"),a.ogcSpatialOperators[e.operation](r,n)},getGetFeatureBase:function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=w(e),i="<wfs:GetFeature ";switch(i+=n?'outputFormat="'+n+'" ':"",i+=t&&(t.startIndex||0===t.startIndex)?'startIndex="'+t.startIndex+'" ':"",i+=o.viewParams?' viewParams="'.concat(o.viewParams,'" '):"",a){case"1.0.0":i+=t&&t.maxFeatures?'maxFeatures="'+t.maxFeatures+'" ':"",i=r?i+' resultType="hits"':i,i+='service="WFS" version="'+a+'" outputFormat="GML2" xmlns:gml="http://www.opengis.net/gml" xmlns:wfs="http://www.opengis.net/wfs" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" '+(o.noSchemaLocation?"":'xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/WFS-basic.xsd"')+">";break;case"1.1.0":i+=t&&t.maxFeatures?'maxFeatures="'+t.maxFeatures+'" ':"",i=r?i+' resultType="hits"':i,i+='service="WFS" version="'+a+'" xmlns:gml="http://www.opengis.net/gml" xmlns:wfs="http://www.opengis.net/wfs" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" '+(o.noSchemaLocation?"":'xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd"')+">";break;default:i+=t&&t.maxFeatures?'count="'+t.maxFeatures+'" ':"",i=r&&!t?i+' resultType="hits"':i,i+='service="WFS" version="'+a+'" xmlns:wfs="http://www.opengis.net/wfs/2.0" xmlns:fes="http://www.opengis.net/fes/2.0" xmlns:gml="http://www.opengis.net/gml/3.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" '+(o.noSchemaLocation?"":'xsi:schemaLocation="http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd http://www.opengis.net/gml/3.2 http://schemas.opengis.net/gml/3.2.1/gml.xsd"')+">"}return i},toOGCFilterParts:C,findSubGroups:function(e,t){return t.filter((function(t){return t.groupId===e.id}))},toCQLFilter:T,getCrossLayerCqlFilter:function(e){return(0,f.get)(e,"collectGeometries.queryCollection.cqlFilter")||((0,f.get)(e,"collectGeometries.queryCollection.filterFields")||[]).length>0&&((0,f.get)(e,"collectGeometries.queryCollection.groupFields")||[]).length>0&&b.toCQLFilter(e.collectGeometries.queryCollection)||"INCLUDE"},processCQLFilterGroup:function(e,t){var r="NOR"===e.logic?v(v({},e),{},{logic:"AND",negateAll:!0}):e,n=b.processCQLFilterFields(r,t),o=b.findSubGroups(r,t.groupFields);if(o.length>0){var a=o.map((function(e){return(r.negateAll?"NOT (":"(")+b.processCQLFilterGroup(e,t)+")"})).join(" "+r.logic+" ");return n?[n,a].join(" "+r.logic+" "):a}return n},processCQLSimpleFilterField:function(e){var t=!1;switch(e.type){case"date":t=b.cqlDateField(e.attribute,e.operator,e.values);break;case"number":t=b.cqlNumberField(e.attribute,e.operator,e.values);break;case"string":t=b.cqlStringField(e.attribute,e.operator,e.values);break;case"boolean":t=b.cqlBooleanField(e.attribute,e.operator,e.values);break;case"list":if(e.values.length!==e.optionsValues.length){var r=!1,n=e.values.reduce((function(e,t){return null===t||"null"===t?r=!0:e.push("'"+t+"'"),e}),[]);t=n.length>0?e.attribute+" IN("+n.join(",")+")":t,r&&(t=t?t+" OR isNull("+e.attribute+")=true":"isNull("+e.attribute+")=true")}}return!!(t&&t.length>0)&&t},processCQLSpatialFilter:function(e){var t=((0,f.isArray)(e.spatialField)?e.spatialField:[e.spatialField]).filter((function(e){return e&&e.geometry&&e.operation})),r="";return t.forEach((function(n,o){if(r+=n.operation+'("'+n.attribute+'",',n.collectGeometries&&n.collectGeometries.queryCollection)r+=A(I(n.collectGeometries.queryCollection));else{var a=n.geometry.projection||"";a=2===a.split(":").length?"SRID="+a.split(":")[1]+";":"",r+=a+b.getCQLGeometryElement(n.geometry.coordinates,n.geometry.type)}r+=")",o<t.length-1&&(r+=" ".concat(e.spatialFieldOperator||"AND"," "))})),r},processCQLFilterFields:function(e,t){var r=t.filterFields.filter((function(t){return t.groupId===e.id})),n=[];return r&&(r.forEach((function(t){var r;switch(t.type){case"date":case"time":case"date-time":r=b.cqlDateField(t.attribute,t.operator,t.value);break;case"number":r=b.cqlNumberField(t.attribute,t.operator,t.value);break;case"string":r=b.cqlStringField(t.attribute,t.operator,t.value);break;case"boolean":r=b.cqlBooleanField(t.attribute,t.operator,t.value);break;case"list":r=b.cqlListField(t.attribute,t.operator,t.value)}r&&n.push(e.negateAll?"NOT ("+r+")":r)})),n=n.join(" "+e.logic+" ")),n},getCQLGeometryElement:function(e,t){var r=t+"(";switch(t){case"Point":r+=e.join(" ");break;case"MultiPoint":e.forEach((function(t,n){r+=t.join(" "),r+=n<e.length-1?", ":""}));break;case"Polygon":e.forEach((function(t,o){r+="(";var a=(0,n.closePolygon)(t).map((function(e){return e[0]+" "+e[1]}));r+=a.join(", "),r+=")",r+=o<e.length-1?", ":""}));break;case"MultiPolygon":e.forEach((function(t,o){r+="(",t.forEach((function(e,o){r+="(";var a=(0,n.closePolygon)(e).map((function(e){return e[0]+" "+e[1]}));r+=a.join(", "),r+=")",r+=o<t.length-1?", ":""})),r+=")",r+=o<e.length-1?", ":""}))}return r+=")"},cqlStringField:function(e,t,r){var n,o=E(e);return(0,f.isNil)(r)||(n="isNull"===t?"isNull("+o+")=true":"="===t?o+t+"'"+h(r)+"'":"ilike"===t?"strToLowerCase("+o+") LIKE '%"+h(r).toLowerCase()+"%'":o+" LIKE '%"+h(r)+"%'"),n},cqlDateField:function(e,t,r){var n;return"><"===t?r.startDate&&r.endDate&&(n="("+e+">='"+(r.startDate.toISOString?r.startDate.toISOString():r.startDate)+"' AND "+e+"<='"+(r.endDate.toISOString?r.endDate.toISOString():r.endDate)+"')"):r.startDate&&(n=e+t+"'"+(r.startDate.toISOString?r.startDate.toISOString():r.startDate)+"'"),n},cqlNumberField:function(e,t,r){var n,o=E(e);if("><"===t)(0,f.isNil)(r)||null===r.lowBound||void 0===r.lowBound||null!==r.upBound&&void 0!==r.upBound?(0,f.isNil)(r)||null===r.upBound||void 0===r.upBound||null!==r.lowBound&&void 0!==r.lowBound?(0,f.isNil)(r)||null===r.upBound||void 0===r.upBound||null===r.lowBound||void 0===r.lowBound||(n="("+o+">='"+r.lowBound+"' AND "+o+"<='"+r.upBound+"')"):n="("+o+"<='"+r.upBound+"')":n="("+o+">='"+r.lowBound+"')";else{var a=(0,f.isNil)(r)||null===r.lowBound||void 0===r.lowBound?r:r.lowBound;(0,f.isNil)(a)||(n=o+" "+t+" '"+a+"'")}return n},cqlBooleanField:function(e,t,r){var n="";return(0,f.isNil)(r)||""===r||"="===t&&(n='"'+e+'"'+t+"'"+r+"'"),n},cqlListField:function(e,t,r){return b.cqlStringField(e,t,r)},toOGCFilter:function(e,t,r){var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"EPSG:4326";try{n=t instanceof Object?t:JSON.parse(t)}catch(e){return e}var u=w(r||"2.0"),s="2.0"===u?"fes":"ogc",p=b.getGetFeatureBase(u,n.pagination,a,i,t&&t.options),f=b.toOGCFilterParts(n,u,s),d="";return f.length>0&&(d="<"+s+":Filter>",1===f.length?d+=f[0]:(d+="<"+s+":And>",f.forEach((function(e){d+=e})),d+="</"+s+":And>"),d+="</"+s+":Filter>"),p+="<wfs:Query ".concat("2.0"===u?"typeNames":"typeName",'="').concat(e,'" ').concat("native"!==c&&'srsName="'.concat(c,'"')||"",">"),p+=d,l&&(p+=l.map((function(e){return P[s].startTag+e+P[s].endTag})).join("")),o&&o.sortBy&&o.sortOrder&&(p+="<"+s+":SortBy><"+s+":SortProperty>"+P[s].startTag+o.sortBy+P[s].endTag+"<"+s+":SortOrder>"+o.sortOrder+"</"+s+":SortOrder></"+s+":SortProperty></"+s+":SortBy>"),p+"</wfs:Query></wfs:GetFeature>"},reprojectFilterInNativeCrs:function(e,t){var r,n=e.spatialField.geometry.projection,o=e.spatialField.geometry.center,a=e.spatialField.geometry.radius,i=(0,p.reprojectGeoJson)(e.spatialField.geometry,e.spatialField.geometry.projection||"EPSG:3857",t).coordinates,l=o&&[(r=(0,p.reproject)(o,n,t)).x,r.y],c=a&&(0,p.reproject)([a,0],n,t).x;return v(v({},e),{},{spatialField:v(v({},e.spatialField),{},{geometry:v(v({},e.spatialField.geometry),{},{center:l,radius:c,coordinates:i,projection:t})})})},processOGCSpatialFilter:function(e,t,r){if(t.collectGeometries)return b.processOGCCrossLayerFilter(t);var i=P[r].startTag+t.attribute+P[r].endTag;switch(t.operation){case"INTERSECTS":case"DWITHIN":case"WITHIN":case"CONTAINS":i+=(0,n.processOGCGeometry)((0,o.wfsToGmlVersion)(e),t.geometry),"DWITHIN"===t.operation&&(i+="<"+r+':Distance units="m">'+(t.geometry.distance||0)+"</"+r+":Distance>");break;case"BBOX":var l=t.geometry.extent[0]+" "+t.geometry.extent[1],c=t.geometry.extent[2]+" "+t.geometry.extent[3];i+='<gml:Envelope srsName="'+t.geometry.projection+'"><gml:lowerCorner>'+l+"</gml:lowerCorner><gml:upperCorner>"+c+"</gml:upperCorner></gml:Envelope>"}return a.ogcSpatialOperators[t.operation](r,i)},mergeFiltersToOGC:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.nsPlaceholder,r=void 0===t?"ogc":t,n=e.ogcVersion,a=void 0===n?"2.0":n,l=e.addXmlnsToRoot,u=void 0!==l&&l,p=e.xmlnsToAdd,m=void 0===p?[]:p,y=s()({filterNS:r,wfsVersion:a,gmlVersion:(0,o.wfsToGmlVersion)(a)}),v=c()(y),g=arguments.length,b=new Array(g>1?g-1:0),h=1;h<g;h++)b[h-1]=arguments[h];var O=y.filter(y.and.apply(y,d((0,f.flatten)(b.filter((function(e){return!!e&&((0,f.isString)(e)||D(e)&&!e.disabled)})).map((function(e){return(0,f.isString)(e)?[v((0,i.read)(e))]:C(e,a,r)}))))));if(u){var E=O.indexOf(">");return"".concat(O.slice(0,E)).concat(m.length>0?" ".concat(m.join(" ")):"").concat(O.slice(E))}return O}}},60024:(e,t,r)=>{"use strict";r.d(t,{t8:()=>c,qC:()=>u,vy:()=>s});var n=r(86494),o=r(91577),a=r.n(o),i=(r(44436),r(2991)),l=r.n(i),c=a(),u=l(),s=function(e,t,r,o){var a=e?(0,n.get)(o,e)||[]:o,i=(0,n.findIndex)(a,r);if(i>=0){var l=a.slice();return l.splice(i,1,t),e?c(e,l,o):l}return e?c(e,a.concat(t),o):a.concat(t)}},95525:(e,t,r)=>{"use strict";r.r(t),r.d(t,{generateEnvString:()=>n});var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length?e.map((function(e){var t=e.name,r=e.value;return"".concat(t,":").concat(r)})).join(";"):""}},36515:(e,t,r)=>{"use strict";r.r(t),r.d(t,{getWpsUrl:()=>k,getNode:()=>U,getGroupNodes:()=>G,getNestedGroupTitle:()=>Z,deepChange:()=>q,getSourceId:()=>z,extractTileMatrixFromSources:()=>W,extractTileMatrixSetFromLayers:()=>H,extractSourcesFromLayers:()=>K,extractDataFromSources:()=>V,getURLs:()=>Y,getLayerUrl:()=>J,getGroupByName:()=>Q,getDimension:()=>$,getLayerId:()=>ee,normalizeLayer:()=>te,normalizeMap:()=>re,belongsToGroup:()=>ne,getLayersByGroup:()=>oe,removeEmptyGroups:()=>ae,getNotEmptyGroup:()=>ie,reorderFunc:()=>le,denormalizeGroups:()=>ce,sortLayers:()=>ue,toggleByType:()=>se,sortUsing:()=>pe,splitMapAndLayers:()=>fe,geoJSONToLayer:()=>de,saveLayer:()=>me,REG_GEOSERVER_RULE:()=>ye,setRegGeoserverRule:()=>ve,getRegGeoserverRule:()=>ge,findGeoServerName:()=>be,getCapabilitiesUrl:()=>he,getSearchUrl:()=>Oe,invalidateUnsupportedLayer:()=>Ee,isSupportedLayer:()=>we,getLayerTitleTranslations:()=>Pe,setCustomUtils:()=>Se,getAuthenticationParam:()=>je,excludeGoogleBackground:()=>xe,creditsToAttribution:()=>_e,formatCapabitiliesOptions:()=>Ie,getLayerTitle:()=>Ae});var n,o=r(51312),a=r.n(o),i=r(75820),l=r.n(i),c=r(55595),u=r.n(c),s=r(88042),p=r.n(s),f=r(20238),d=r.n(f),m=r(21389),y=r.n(m),v=r(81938),g=r.n(v),b=r(23317),h=r.n(b),O=r(8364),E=r.n(O),w=r(61394),P=r.n(w),S=r(97764),j=r.n(S),x=r(54702),_=r.n(x),I=r(36493);function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?D(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var R=/\/[\w- ]*geoserver[\w- ]*\//,L=function(e,t){return t.filter((function(t){return(t.group||"Default")===e})).map((function(e){return e.id})).reverse()},k=function(e){return e&&e.wpsUrl||e.search&&e.search.url||e.url},M=function e(t,r){return t.slice(0).reverse().reduce((function(t,n){return t.concat(n.nodes.slice(0).reverse().reduce((function(t,n){return d()(n)?t.concat(e([n],r)):t.concat(function(e,t){return g()(t.filter((function(t){return t.id===e})))}(n,r))}),[]))}),[])},F=function(e,t){return M(e,t)},B=function(e,t){var n=r(86570)("./"+t+"/Layers");return"mapquest"===e.type||"bing"===e.type?n.isSupported(e.type)&&e.apiKey&&"__API_KEY_MAPQUEST__"!==e.apiKey&&!e.invalid:"empty"===e.type||n.isSupported(e.type)&&!e.invalid},U=function e(t,r){return t&&y()(t)?t.reduce((function(t,n){return t||(!n||n.name!==r&&n.id!==r&&n!==r?n&&n.nodes&&n.nodes.length>0?e(n.nodes,r):t:n)}),null):null},G=function e(t){return t&&t.nodes?t.nodes.reduce((function(t,r){var n=[].concat(t);return r.nodes&&(n=t.concat(e(r))),p()(r)?[].concat(N(n),[r]):[].concat(N(n),[r.id])}),[]):[]},Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return y()(t)&&g()(t.map((function(t){var r=t.id===e?t:null;if(r)return r.title;var n=U(t.nodes,e);return n?n.title:null})))},q=function e(t,r,n,o){return t&&y()(t)&&t.length>0?t.map((function(t){if(d()(t)){if(t.id===r)return C(C({},t),d()(n)?n:T({},n,o));if(t.nodes)return C(C({},t),{},{nodes:e(t.nodes,r,n,o)})}return t})):[]},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.capabilitiesURL||g()(h()(e.url))},W=function(e,t){if(!e||!t)return{};!y()(t.matrixIds)&&d()(t.matrixIds)&&(t.matrixIds=N(Object.keys(t.matrixIds)));var r=z(t),n=t.matrixIds&&t.matrixIds.reduce((function(t,n){var o=e[r]&&e[r].tileMatrixSet&&e[r].tileMatrixSet[n]&&e[r].tileMatrixSet[n].TileMatrix.map((function(e){return{identifier:e["ows:Identifier"],ranges:e.ranges}}))||[];return 0===o.length?a()({},t):a()({},t,T({},n,N(o)))}),{})||null,o=t.tileMatrixSet&&t.matrixIds.map((function(t){return e[r].tileMatrixSet[t]})).filter((function(e){return e}))||null;return o&&n&&{tileMatrixSet:o,matrixIds:n}||{}},H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&Object.keys(e).reduce((function(r,n){var o=e[n].reduce((function(e,t){return a()(e,T({},t.id||t.name,{srs:N(Object.keys(t.matrixIds)),matrixIds:a()({},t.matrixIds)}))}),{}),i=e[n].reduce((function(e,t){var r=t.tileMatrixSet.reduce((function(e,t){return a()({},e,T({},t["ows:Identifier"],a()({},t)))}),{}),n=Object.keys(r).reduce((function(e,t){var n=Object.keys(o).filter((function(e){return g()(o[e].srs.filter((function(e){return e===t})))})).map((function(e){return o[e].matrixIds[t]})),i=n[0]&&r[t].TileMatrix.map((function(e,t){return n[0][t]&&n[0][t].ranges?a()({},e,{ranges:n[0][t].ranges}):a()({},e)}));return g()(n)?a()({},e,T({},t,a()({},r[t],{TileMatrix:i}))):a()({},e)}),{});return a()({},e,n)}),{});return a()({},r,T({},n,a()({},t[n]||{},{tileMatrixSet:a()({},r[n]&&r[n].tileMatrixSet||{},i)})))}),a()({},t))||t},K=function(e){var t=e.filter((function(e){return e.tileMatrixSet})).reduce((function(e,t){var r=z(t);return e[r]?a()({},e,T({},r,[].concat(N(e[r]),[t]))):a()({},e,T({},r,[t]))}),{});return H(t)},V=function(e){if(!e||!e.layers||!y()(e.layers))return null;var t=e.mapInitialConfig&&e.mapInitialConfig.sources&&a()({},e.mapInitialConfig.sources)||{};return E()(t)?N(e.layers):e.layers.map((function(e){var r=W(t,e);return a()({},e,r)}))},Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.map((function(e){return e.split("?")[0]+t}))},X={},J=function(e){return y()(e.url)?e.url[0]:e.url},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=g()(t.filter((function(t){return t.name===e})));return r||t.reduce((function(t,r){return t||!!r.nodes&&n.getGroupByName(e,r.nodes)}),void 0)},$=function(e,t){return"elevation"===t.toLowerCase()?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){return"elevation"===t.name.toLowerCase()||"depth"===t.name.toLowerCase()?a()({positive:"elevation"===t.name.toLowerCase()},t,{name:"elevation"===t.name.toLowerCase()?t.name:"DIM_"+t.name}):e}),null)}(e):null},ee=function(e,t){return e&&e.id||e.name+"__"+(t?t.length:Math.random().toString(36).substring(2,15))},te=function(e){return e.id?e:C(C({},e),{},{id:n.getLayerId(e)})},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[function(e){return(e.layers||[]).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id;return!t})).length>0?C(C({},e),{},{layers:(e.layers||[]).map((function(e){return n.normalizeLayer(e)}))}):e},function(e){return e.groups?e:C(C({},e),{},{groups:{id:"Default",expanded:!0}})}].reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))(e)},ne=function(e){return function(t){return(t.group||"Default")===e||0===(t.group||"").indexOf("".concat(e,"."))}},oe=function(e,t){var r=0,n=e.map((function(e){return a()({},e,{storeIndex:r++})}));return n.reduce((function(e,t){return-1===e.indexOf(t.group||"Default")?e.concat([t.group||"Default"]):e}),[]).filter((function(e){return"background"!==e})).reverse().reduce((function(e,r){var o=r||"Default";return o.split(".").reduce((function(e,r,i,l){var c=o.split(".",i+1).join("."),u=function(e,t){return g()(t.filter((function(t){return d()(t)&&t.id===e})))}(c,e),s=i===l.length-1;return u?s&&(u.nodes=u.nodes.concat(L(c,n))):(u=function(e,t,r,n){return a()({},{id:e,title:(t||"").replace(/\${dot}/g,"."),name:t,nodes:n?L(e,r):[],expanded:!0})}(c,Z(c,t)||r,n,s),e.push(u)),u.nodes}),e),e}),[])},ae=function(e){return e.reduce((function(e,t){return e.concat(n.getNotEmptyGroup(t))}),[])},ie=function(e){var t=e.nodes.reduce((function(e,t){return t.nodes?e.concat(n.getNotEmptyGroup(t)):e.concat(t)}),[]);return t.length>0?a()({},e,{nodes:t}):[]},le=function(e,t){return t.filter((function(e){return"background"===e.group})).concat(F(e,t))},ce=function(e,t){var r=function(e){var t=!0;return e.forEach((function(e){e.visibility||(t=!1)})),t},n=function e(t,n){var o=t.nodes.map((function(t){return d()(t)?e(t,n):n.filter((function(e){return e.id===t}))[0]}));return a()({},t,{nodes:o,visibility:r(o)})},o=e.map((function(e){return a()({},e,{expanded:e.expanded||!1})}));return{flat:o,groups:t.map((function(e){return n(e,o)}))}},ue=function(e,t){return t.filter((function(e){return"background"===e.group})).concat(F(e,t))},se=function(e,t){return function(r,n){return t(r,e,n)}},pe=function(e,t){return function(r,n){return t(r,n,e)}},fe=function(e){if(e&&y()(e.layers)){var t=n.getLayersByGroup(e.layers,e.groups);y()(e.groups)&&(t=e.groups.reduce((function(e,t){var r=e;if(t.title){var o={title:t.title,description:t.description,tooltipOptions:t.tooltipOptions,tooltipPlacement:t.tooltipPlacement};r=n.deepChange(r,t.id,o)}return n.deepChange(r,t.id,"expanded",t.expanded)}),[].concat(t)));var r=V(e);return a()({},e,{layers:{flat:n.reorder(t,r),groups:t}})}return e},de=function(e,t){var r,n=l()(e);return r="FeatureCollection"===e.type?e.features.map((function(e,t){return e.id||(e.id=t),e.geometry&&e.geometry.bbox&&isNaN(e.geometry.bbox[0])&&(e.geometry.bbox=[null,null,null,null]),e})):[j()(C(C({},e),{},{id:_()(e.id)?u()():e.id}),["geometry","type","style","id"])],{type:"vector",visibility:!0,group:"Local shape",id:t,name:e.fileName,hideLoading:!0,bbox:{bounds:{minx:n[0],miny:n[1],maxx:n[2],maxy:n[3]},crs:"EPSG:4326"},features:r}},me=function(e){return a()({id:e.id,features:e.features,format:e.format,thumbURL:e.thumbURL&&"blob"===e.thumbURL.split(":")[0]?void 0:e.thumbURL,group:e.group,search:e.search,source:e.source,name:e.name,opacity:e.opacity,provider:e.provider,description:e.description,styles:e.styles,style:e.style,styleName:e.styleName,availableStyles:e.availableStyles,layerFilter:e.layerFilter,title:e.title,transparent:e.transparent,tiled:e.tiled,type:e.type,url:e.url,bbox:e.bbox,visibility:e.visibility,singleTile:e.singleTile||!1,allowedSRS:e.allowedSRS,matrixIds:e.matrixIds,tileMatrixSet:e.tileMatrixSet,requestEncoding:e.requestEncoding,dimensions:e.dimensions||[],maxZoom:e.maxZoom,maxNativeZoom:e.maxNativeZoom,hideLoading:e.hideLoading||!1,handleClickOnLayer:e.handleClickOnLayer||!1,queryable:e.queryable,featureInfo:e.featureInfo,catalogURL:e.catalogURL,capabilitiesURL:e.capabilitiesURL,useForElevation:e.useForElevation||!1,hidden:e.hidden||!1,origin:e.origin,thematic:e.thematic,tooltipOptions:e.tooltipOptions,tooltipPlacement:e.tooltipPlacement,legendOptions:e.legendOptions,tileSize:e.tileSize,version:e.version},e.params?{params:e.params}:{},e.credits?{credits:e.credits}:{},e.extendedParams?{extendedParams:e.extendedParams}:{},e.localizedLayerStyles?{localizedLayerStyles:e.localizedLayerStyles}:{})},ye=R,ve=function(e){R=e},ge=function(){return R},be=function(e){var t=e.url,r=e.regexRule||n.getRegGeoserverRule(),o=y()(t)?t[0]:t;return r.test(o)&&o.match(r)[0]||null},he=function(e){var t,r,o,a=n.findGeoServerName({url:e.url}),i=J(e);if(a){var l=i.split(a);if(2===l.length){var c=e.name.split(":");2===c.length&&(i=l[0]+a+c[0]+"/"+c[1]+"/"+l[1])}}return t=i,r=C(C({},e.baseParams),e.params),o=Object.keys(r).map((function(e){return e+"="+encodeURIComponent(r[e])})).join("&"),-1===t.indexOf("?")?t+"?"+o:t+"&"+o},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.search&&e.search.url||e.url},Ee=function(e,t){return B(e,t)?function(e){return e&&e.invalid?a()({},e,{invalid:!1}):e}(e):a()({},e,{invalid:!0})},we=function(e,t){return!!B(e,t)},Pe=function(e){return X.getLayerTitleTranslations?X.getLayerTitleTranslations(e):e.Title},Se=function(e,t){X[e]=t},je=function(e){var t=Y(y()(e.url)?e.url:[e.url]),r={};return t.forEach((function(t){(0,I.addAuthenticationParameter)(t,r,e.securityToken)})),r},xe=function(e){var t=e.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,r=e.group,n=e.visibility;return"background"===r&&"google"===t&&n})).length>0,r=e.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type;return"google"!==t})),n=r.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.group;return"background"===t}));if(t&&0===n.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.visibility;return t})).length){if(n.length>0){var o=P()(r,{group:"background"});return r.map((function(e,t){return t===o?C(C({},e),{},{visibility:!0}):e}))}return[{type:"osm",title:"Open Street Map",name:"mapnik",source:"osm",group:"background",visibility:!0}].concat(N(r))}return r},_e=function(e){var t=e.imageUrl,r=e.link,n=e.title,o=t?'<img src="'.concat(t,'" ').concat(n?'title="'.concat(n,'"'):"",">"):n;return r&&o?'<a href="'.concat(r,'" target="_blank">').concat(o,"</a>"):o},Ie=function(e){return d()(e)?{capabilities:e,capabilitiesLoading:null,description:e._abstract,boundingBox:e.latLonBoundingBox,availableStyles:e.style&&(Array.isArray(e.style)?e.style:[e.style])}:{}},Ae=function(e){var t=e.title,r=e.name,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return(null==t?void 0:t[n])||(null==t?void 0:t.default)||t||r};n={getGroupByName:Q,getLayerId:ee,normalizeLayer:te,getNotEmptyGroup:ie,getLayersByGroup:oe,deepChange:q,reorder:le,getRegGeoserverRule:ge,findGeoServerName:be}},82979:(e,t,r)=>{"use strict";function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{S$:()=>O,mo:()=>E}),r(72500),r(86494).isObject;var a=r(68195).addLocaleData,i=r(83836),l=r(61017),c=r(67249),u=r(37179),s=r(2082),p=r(84425),f=r(41146),d=r(96864),m=r(39118),y=r(83416),v=r(75784);a([].concat(n(i),n(l),n(c),n(u),n(s),n(p),n(f),n(d),n(m),n(y),n(v)));var g,b={it:{code:"it-IT",description:"Italiano"},en:{code:"en-US",description:"English"},fr:{code:"fr-FR",description:"Français"},de:{code:"de-DE",description:"Deutsch"},es:{code:"es-ES",description:"Español"},zh:{code:"zh-ZH",description:"中文"},nl:{code:"nl-NL",description:"Nederlands"},hr:{code:"hr-HR",description:"Hrvatski"},pt:{code:"pt-PT",description:"Português"},vi:{code:"vi-VN",description:"tiếng Việt"},fi:{code:"fi-FI",description:"Suomi"}},h={},O=function(e,t){var r=e;return t.split(".").forEach((function(e){r=r?r[e]:null})),r||t},E=function(e,t){h[e]=t};g={getLocale:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(b)[0],r=b.en?{key:"en",locale:b.en}:{key:t,locale:b[t]},n=b[g.normalizeLocaleCode(e.locale||(navigator?navigator.language||navigator.browserLanguage:r.key))];return n?n.code:r.locale.code},normalizeLocaleCode:function(e){var t;if(null==e)t=void 0;else{var r=/^[a-z]+/i.exec(e);t=r&&r.length>0?r[0].toLowerCase():void 0}return t}}},80750:(e,t,r)=>{"use strict";r.d(t,{Fm:()=>je,y_:()=>Ae,K7:()=>Ne,lY:()=>we,wR:()=>Pe,pf:()=>xe,su:()=>Se,Te:()=>_e,gA:()=>Te,Qm:()=>Ie});var n=r(9865),o=r(57162),a=r.n(o),i=r(86494),l=r(67522),c=r.n(l),u=r(24852),s=r.n(u),p=r(67076),f=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=(0,i.isString)(t)&&(0,i.trim)(t.substring(r,t.length-n))||"";return(0,i.has)(e,o)},d=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){return""},l=(0,i.isString)(e)&&e.match(r),c=l&&l.map((function(e){var r=e.replace(/(<([^>]+)>)/gi,"");return{previous:e,next:f(t,r,n,o)?r:a(e)}}))||null;return c&&c.reduce((function(e,t){return e.replace(t.previous,t.next)}),e)||e||""};var m=r(77580),y=r.n(m);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function O(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(i,e);var t,r,n,o,a=(n=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(n);if(o){var r=w(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return O(this,e)});function i(){var e;g(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return P(E(e=a.call.apply(a,[this].concat(r))),"getSourceCode",(function(){return{__html:e.props.html}})),e}return t=i,(r=[{key:"render",value:function(){return s().createElement("div",{id:this.props.id,dangerouslySetInnerHTML:this.getSourceCode()})}}])&&b(t.prototype,r),i}(s().Component);P(S,"propTypes",{html:y().string,id:y().string});const j=S;var x=r(69723);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function C(e,t){return C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},C(e,t)}function T(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return N(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}function R(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var L=["exclude","titleStyle","listStyle","componentStyle","title","feature"],k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(l,e);var t,r,n,o,a=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=D(n);if(o){var r=D(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return T(this,e)});function l(){var e;I(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return R(N(e=a.call.apply(a,[this].concat(r))),"getBodyItems",(function(){return Object.keys(e.props).filter(e.toExclude).map((function(t){var r=e.renderProperty(e.props[t]);return s().createElement("tr",{key:t,style:e.props.listStyle},s().createElement("td",null,t),s().createElement("td",null,(0,x.Y)(r)?s().createElement("span",{dangerouslySetInnerHTML:{__html:r}}):r))}))})),R(N(e),"renderHeader",(function(){return e.props.title?s().createElement("thead",{key:e.props.title,style:e.props.titleStyle,className:"ms-properties-viewer-title"},s().createElement("tr",null,s().createElement("th",{colSpan:"2"},e.props.title))):null})),R(N(e),"renderBody",(function(){var t=e.getBodyItems();return 0===t.length?null:s().createElement("tbody",{className:"ms-properties-viewer-body"},t)})),R(N(e),"renderProperty",(function(e){return(0,i.isString)(e)?e:JSON.stringify(e)})),R(N(e),"toExclude",(function(t){return-1===L.concat(e.props.exclude).indexOf(t)})),e}return t=l,(r=[{key:"render",value:function(){return s().createElement("table",{className:"ms-properties-viewer",style:this.props.componentStyle},this.renderHeader(),this.renderBody())}}])&&A(t.prototype,r),l}(s().Component);R(k,"displayName","PropertiesViewer"),R(k,"propTypes",{title:y().string,exclude:y().array,titleStyle:y().object,listStyle:y().object,componentStyle:y().object}),R(k,"defaultProps",{exclude:[],titleStyle:{},listStyle:{},componentStyle:{}});const M=k;function F(){return F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F.apply(this,arguments)}var B={TEMPLATE:function(e){var t=e.layer,r=void 0===t?{}:t,n=e.response;return s().createElement("div",{className:"ms-template-viewer"},n.features.map((function(e,t){return s().createElement("div",{key:t},s().createElement(j,{html:(0,i.template)(d(r.featureInfo&&r.featureInfo.template||"",e,/\$\{.*?\}/g,2,1))(e)}))})))},PROPERTIES:function(e){var t=e.response,r=e.layer,n=e.rowViewer,o=r&&r.rowViewer||n||M;return s().createElement("div",{className:"mapstore-json-viewer"},((null==t?void 0:t.features)||[]).map((function(e,t){return s().createElement(o,F({key:t,feature:e,title:e.id+"",exclude:["bbox"]},e.properties))})))}};const U=(0,p.shouldUpdate)((function(e,t){return t.response!==e.response}))((function(e){var t=e.layer&&e.layer.featureInfo&&e.layer.featureInfo.format&&e.layer.featureInfo.template&&"<p><br></p>"!==e.layer.featureInfo.template&&e.layer.featureInfo.format||"PROPERTIES",r=B[t]||B.PROPERTIES;return s().createElement(r,e)}));function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function z(e,t){return z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},z(e,t)}function W(e,t){if(t&&("object"===G(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function H(e){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},H(e)}var K,V,Y,X=/^[\s\S]*<body>([\s\S]*)<\/body>[\s\S]*$/i,J=/(<style[\s\=\w\/\"]*>[^<]*<\/style>)/i,Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(i,e);var t,r,n,o,a=(n=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=H(n);if(o){var r=H(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return W(this,e)});function i(){return Z(this,i),a.apply(this,arguments)}return t=i,(r=[{key:"shouldComponentUpdate",value:function(e){return e.response!==this.props.response}},{key:"render",value:function(){var e=this.props.response||"",t=J.exec(e),r=t&&2===t.length?J.exec(e)[1]:"";r=r.replace(/body[,]+/g,"");var n=e.replace(X,"$1").trim();return s().createElement(j,{html:r+n})}}])&&q(t.prototype,r),i}(s().Component);K=Q,V="propTypes",Y={response:y().string},V in K?Object.defineProperty(K,V,{value:Y,enumerable:!0,configurable:!0,writable:!0}):K[V]=Y;const $=Q;function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ne(e,t){return ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ne(e,t)}function oe(e,t){if(t&&("object"===ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ae(e){return ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ae(e)}var ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(i,e);var t,r,n,o,a=(n=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ae(n);if(o){var r=ae(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return oe(this,e)});function i(){return te(this,i),a.apply(this,arguments)}return t=i,(r=[{key:"shouldComponentUpdate",value:function(e){return e.response!==this.props.response}},{key:"render",value:function(){return s().createElement("pre",null,this.props.response)}}])&&re(t.prototype,r),i}(s().Component);!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(ie,"propTypes",{response:y().string});const le=ie;var ce,ue=r(17337),se=r.n(ue),pe=r(30048),fe=r.n(pe),de=r(41537),me=r.n(de),ye=r(84109),ve=r.n(ye);function ge(e){return function(e){if(Array.isArray(e))return be(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return be(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?be(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function he(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?he(Object(r),!0).forEach((function(t){Ee(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var we=function(){return Object.keys(ce.getAvailableInfoFormat()).map((function(e){return n.O7[e]}))},Pe=function(){return n.O7[ce.AVAILABLE_FORMAT[0]]},Se=function(e,t,r,n,o){return Oe({type:"vector",visibility:!0,name:e||"GetFeatureInfo",styleName:r||"marker",label:o,features:ce.clickedPointToGeoJson(t)},n)},je=function(e,t){if(ce.services[e.type]){var r=ce.getDefaultInfoFormatValueFromLayer(e,t),n=ce.getLayerFeatureInfoViewer(e),o=ce.getLayerFeatureInfo(e);return ce.services[e.type].buildRequest(e,t,r,n,o)}return{}},xe=function(e,t,r){return ce.services[e.type]&&ce.services[e.type].getIdentifyFlow?ce.services[e.type].getIdentifyFlow(e,t,r):null},_e=function(e){var t={getValidResponses:function(e){return e},getNoValidResponses:function(){return[]}};return{getValidResponses:function(r){return r.reduce((function(r,o){if(o){var a;o.queryParams&&o.queryParams.hasOwnProperty("info_format")&&(a=o.queryParams.info_format),o.queryParams&&o.queryParams.hasOwnProperty("outputFormat")&&(a=o.queryParams.outputFormat);var i=(n.cX[o.format||n.so[a]||n.so[e]]||t).getValidResponses([o]);return[].concat(ge(r),ge(i))}return ge(r)}),[])},getNoValidResponses:function(r){return r.reduce((function(r,o){if(o){var a;o.queryParams&&o.queryParams.hasOwnProperty("info_format")&&(a=o.queryParams.info_format),o.queryParams&&o.queryParams.hasOwnProperty("outputFormat")&&(a=o.queryParams.outputFormat);var i=(n.cX[o.format||n.so[a]||n.so[e]]||t).getNoValidResponses([o]);return[].concat(ge(r),ge(i))}return ge(r)}),[])}}},Ie=function(){var e;return Ee(e={},n.O7.PROPERTIES,U),Ee(e,n.O7.JSON,U),Ee(e,n.O7.HTML,$),Ee(e,n.O7.TEXT,le),e},Ae=function(e){var t;return e.visibility&&ce.services[e.type]&&(void 0===e.queryable||e.queryable)&&"background"!==e.group&&"HIDDEN"!==(null==e||null===(t=e.featureInfo)||void 0===t?void 0:t.format)},Ce={wfs:se(),wms:fe(),wmts:me(),vector:ve()},Te=function(e){return ce.VIEWERS[e]?ce.VIEWERS[e]:null},Ne=function(e,t,r){var n=t||[],o=r||[];return Object.keys(e).reduce((function(t,r){if("params"!==r&&-1!==n.indexOf(r))t[r]=e[r];else if("params"===r&&o.length>0){var a=e[r];Object.keys(a).forEach((function(e){-1===(0,i.findIndex)(o,(function(t){return t===e}))&&(t[e]=a[e])}),{})}return t}),{})};ce={AVAILABLE_FORMAT:["TEXT","PROPERTIES","HTML","TEMPLATE"],getAvailableInfoFormatLabels:function(){return Object.keys(ce.getAvailableInfoFormat())},getAvailableInfoFormat:function(){return Object.keys(n.O7).filter((function(e){return-1!==ce.AVAILABLE_FORMAT.indexOf(e)})).reduce((function(e,t){return e[t]=n.O7[t],e}),{})},getDefaultInfoFormatValue:Pe,clickedPointToGeoJson:function(e){if(!e)return[];if("Feature"===e.type){var t=[a()(e)];return e&&e.geometry&&"Point"!==e.geometry.type&&t.push(e),t}return void 0===e.lng||void 0===e.lat?e.features||[]:[].concat(ge(e.features||[]),[{id:"get-feature-info-point",type:"Feature",geometry:{type:"Point",coordinates:[parseFloat(e.lng),parseFloat(e.lat)]},style:[{iconUrl:c(),iconAnchor:[12,41],iconSize:[25,41]}]}])},services:Ce,getDefaultInfoFormatValueFromLayer:function(e,t){return e.featureInfo&&e.featureInfo.format&&n.O7[e.featureInfo.format]||t.format||ce.getDefaultInfoFormatValue()},getLayerFeatureInfoViewer:function(e){return e.featureInfo&&e.featureInfo.viewer?e.featureInfo.viewer:{}},getLayerFeatureInfo:function(e){return e&&e.featureInfo&&Oe({},e.featureInfo)||{}},VIEWERS:{}}},42914:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DEFAULT_SCREEN_DPI:()=>O,METERS_PER_UNIT:()=>E,GOOGLE_MERCATOR:()=>w,EXTENT_TO_ZOOM_HOOK:()=>P,ZOOM_TO_EXTENT_HOOK:()=>S,RESOLUTIONS_HOOK:()=>j,RESOLUTION_HOOK:()=>x,COMPUTE_BBOX_HOOK:()=>_,GET_PIXEL_FROM_COORDINATES_HOOK:()=>I,GET_COORDINATES_FROM_PIXEL_HOOK:()=>A,registerHook:()=>T,getHook:()=>N,executeHook:()=>D,clearHooks:()=>R,dpi2dpm:()=>L,dpi2dpu:()=>k,getSphericalMercatorScale:()=>M,getGoogleMercatorScale:()=>F,getSphericalMercatorScales:()=>B,getGoogleMercatorScales:()=>U,getResolutionsForScales:()=>G,getGoogleMercatorResolutions:()=>Z,getResolutions:()=>q,getScales:()=>z,defaultGetZoomForExtent:()=>W,getZoomForExtent:()=>H,getCurrentResolution:()=>K,getCenterForExtent:()=>V,getBbox:()=>Y,isNearlyEqual:()=>X,mapUpdated:()=>J,transformExtent:()=>Q,groupSaveFormatted:()=>$,saveMapConfiguration:()=>ee,generateNewUUIDs:()=>te,mergeMapConfigs:()=>re,addRootParentGroup:()=>ne,isSimpleGeomType:()=>oe,getSimpleGeomType:()=>ae,getIdFromUri:()=>ie,parseLayoutValue:()=>le,prepareMapObjectToCompare:()=>ce,updateObjectFieldKey:()=>ue,compareMapChanges:()=>se,createRegisterHooks:()=>pe,default:()=>fe});var n=r(86494),o=r(55595),a=r.n(o),i=r(89735),l=r(60024),c=r(36515),u=r(51312),s=r.n(u),p=["id"],f=["group"];function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function m(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function y(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O=96,E={m:1,degrees:111194.87428468118,ft:.3048,"us-ft":1200/3937},w={RADIUS:6378137,TILE_WIDTH:256,ZOOM_FACTOR:2},P="EXTENT_TO_ZOOM_HOOK",S="ZOOM_TO_EXTENT_HOOK",j="RESOLUTIONS_HOOK",x="RESOLUTION_HOOK",_="COMPUTE_BBOX_HOOK",I="GET_PIXEL_FROM_COORDINATES_HOOK",A="GET_COORDINATES_FROM_PIXEL_HOOK",C={};function T(e,t){C[e]=t}function N(e){return C[e]}function D(e,t,r){var n=N(e);return n?t(n):r?r():null}function R(){C={}}function L(e){return e*(100/2.54)}function k(e,t){var r=(0,i.getUnits)(t||"EPSG:3857");return E[r]*L(e||O)}function M(e,t,r,n,o){return 2*Math.PI*e/(t*Math.pow(r,n)/L(o||O))}function F(e,t){return M(w.RADIUS,w.TILE_WIDTH,w.ZOOM_FACTOR,e,t)}function B(e,t,r,n,o,a){for(var i=[],l=n;l<=o;l++)i.push(M(e,t,r,l,a));return i}function U(e,t,r){return B(w.RADIUS,w.TILE_WIDTH,w.ZOOM_FACTOR,e,t,r)}function G(e,t,r){var n=k(r,t);return e.map((function(e){return e/n}))}function Z(e,t,r){return G(U(e,t,r),"EPSG:3857",r)}function q(){return N("RESOLUTIONS_HOOK")?N("RESOLUTIONS_HOOK")():Z(0,21,O)}function z(e,t){var r=k(t,e);return q().map((function(e){return e*r}))}function W(e,t,r,n,o,a){var i=e[2]-e[0],l=e[3]-e[1],c=Math.abs(i/t.width),u=Math.abs(l/t.height),s=Math.max(c,u),p=(a||G(U(r,n,o||O),"EPSG:3857",o)).reduce((function(e,t,r){var n=Math.abs(t-s);return n>e.diff?e:{diff:n,zoom:r}}),{diff:Number.POSITIVE_INFINITY,zoom:0}).zoom;return Math.max(0,Math.min(p,n))}function H(e,t,r,n,o){return N("EXTENT_TO_ZOOM_HOOK")?N("EXTENT_TO_ZOOM_HOOK")(e,t,r,n,o):W(e,t,r,n,o,N("RESOLUTIONS_HOOK")?N("RESOLUTIONS_HOOK")(e,t,r,n,o,L(o||O)):null)}function K(e,t,r,n){return N("RESOLUTION_HOOK")?N("RESOLUTION_HOOK")(e,t,r,n):Z(t,r,n)[e]}function V(e,t){var r=(e[2]-e[0])/2,n=(e[3]-e[1])/2;return{x:e[0]+r,y:e[1]+n,crs:t}}function Y(e,t){return D("COMPUTE_BBOX_HOOK",(function(r){return r(e,t)}))}var X=function(e,t){return void 0!==e&&void 0!==t&&e.toFixed(12)-t.toFixed(12)==0};function J(e,t){var r,o,a,i;return!(!e||(0,n.isEmpty)(e)||!t||(0,n.isEmpty)(t)||X(null==t||null===(r=t.center)||void 0===r?void 0:r.x,null==e||null===(o=e.center)||void 0===o?void 0:o.x)&&X(null==t||null===(a=t.center)||void 0===a?void 0:a.y,null==e||null===(i=e.center)||void 0===i?void 0:i.y)&&(null==t?void 0:t.zoom)===(null==e?void 0:e.zoom))}function Q(e,t,r,n){var o=(0,i.getUnits)(e);return"ft"===o?{width:r/E.ft,height:n/E.ft}:"us-ft"===o?{width:r/E["us-ft"],height:n/E["us-ft"]}:"degrees"===o?{width:r/(111132.92-559.82*Math.cos(2*t.y)+1.175*Math.cos(4*t.y)),height:n/(111412.84*Math.cos(t.y)-93.5*Math.cos(3*t.y))}:{width:r,height:n}}var $=function(e){return{id:e.id,title:e.title,description:e.description,tooltipOptions:e.tooltipOptions,tooltipPlacement:e.tooltipPlacement,expanded:e.expanded}};function ee(e,t,r,o,a,i,u){var p={center:e.center,maxExtent:e.maxExtent,projection:e.projection,units:e.units,mapInfoControl:e.mapInfoControl,zoom:e.zoom,mapOptions:e.mapOptions||{}},f=t.map((function(e){return(0,c.saveLayer)(e)})),d=r.reduce((function(e,t){return e.concat((0,c.getGroupNodes)(t))}),[].concat(r.map((function(e){return e.id})))).map((function(e){var t=(0,c.getNode)(r,e);return t&&t.nodes?$(t):null})).filter((function(e){return e})),m=o.filter((function(e){return!!e.thumbnail})),y=(0,c.extractSourcesFromLayers)(f),v=f.map((function(e){return s()({},e,{tileMatrixSet:e.tileMatrixSet&&e.tileMatrixSet.length>0,matrixIds:e.matrixIds&&Object.keys(e.matrixIds)})})),g=(0,n.findIndex)(v,(function(e){return"annotations"===e.id}));if(-1!==g){var h=v[g].features.map((function(e){return"FeatureCollection"===e.type?b(b({},e),{},{features:e.features.map((function(e){return e.properties.geometryGeodesic?(0,l.t8)("properties.geometryGeodesic",null,e):e}))}):e.properties.geometryGeodesic?(0,l.t8)("properties.geometryGeodesic",null,e):{}}));v[g]=(0,l.t8)("features",h,v[g])}return b({version:2,map:s()({},p,{layers:v,groups:d,backgrounds:m,text_search_config:a,bookmark_search_config:i},!(0,n.isEmpty)(y)&&{sources:y}||{})},u)}var te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,n.cloneDeep)(e),r=b(b({},(0,n.get)(e,"map.layers",[]).reduce((function(e,t){return b(b({},e),{},h({},t.id,"annotations"===t.id?t.id:a()()))}),{})),(0,n.get)(e,"widgetsConfig.widgets",[]).reduce((function(e,t){return b(b({},e),{},h({},t.id,a()()))}),{}));return(0,l.t8)("map.backgrounds",(0,n.get)(e,"map.backgrounds",[]).map((function(e){return b(b({},e),{},{id:r[e.id]})})),(0,l.t8)("widgetsConfig",{collapsed:(0,n.mapValues)((0,n.mapKeys)((0,n.get)(e,"widgetsConfig.collapsed",{}),(function(e,t){return r[t]})),(function(e){return b(b({},e),{},{layouts:(0,n.mapValues)(e.layouts,(function(e){return b(b({},e),{},{i:r[e.i]})}))})})),layouts:(0,n.mapValues)((0,n.get)(e,"widgetsConfig.layouts",{}),(function(e){return e.map((function(e){return b(b({},e),{},{i:r[e.i]})}))})),widgets:(0,n.get)(e,"widgetsConfig.widgets",[]).map((function(e){return b(b({},e),{},{id:r[e.id],layer:b(b({},(0,n.get)(e,"layer",{})),{},{id:r[(0,n.get)(e,"layer.id")]})})}))},(0,l.t8)("map.layers",(0,n.get)(e,"map.layers",[]).map((function(e){return b(b({},e),{},{id:r[e.id]})})),t)))},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return(0,n.pick)(e,(0,n.keys)(e).filter((function(t){return void 0!==e[t]})))}))},o=te(t),a=[].concat(y((0,n.get)(e,"map.backgrounds",[])),y((0,n.get)(o,"map.backgrounds",[]))),i=r((0,n.get)(e,"map.layers",[])),l=r((0,n.get)(o,"map.layers",[])),c=(0,n.find)(i,(function(e){return"annotations"===e.id})),u=(0,n.find)(l,(function(e){return"annotations"===e.id})),s=[].concat(y(l.filter((function(e){return"annotations"!==e.id}))),y(i.filter((function(e){return"annotations"!==e.id}))),y(c||u?[b(b(b({},c||{}),u||{}),{},{features:[].concat(y((0,n.get)(c,"features",[])),y((0,n.get)(u,"features",[])))})]:[])),p=s.filter((function(e){return"background"===e.group})),f=(0,n.findIndex)(p,(function(e){return e.visibility})),d=(0,n.get)(e,"map.sources",{}),m=(0,n.get)(o,"map.sources",{}),v=b(b({},d),m),g=(0,n.get)(e,"widgetsConfig",{}),O=(0,n.get)(o,"widgetsConfig",{});return b(b(b({},o),e),{},{catalogServices:b(b({},(0,n.get)(e,"catalogServices",{})),{},{services:b(b({},(0,n.get)(e,"catalogServices.services",{})),(0,n.get)(o,"catalogServices.services",{}))}),map:b(b(b({},o.map),e.map),{},{backgrounds:a,groups:(0,n.uniqWith)([].concat(y((0,n.get)(e,"map.groups",[])),y((0,n.get)(o,"map.groups",[]))),(function(e,t){return e.id===t.id})),layers:[].concat(y(p.slice(0,f+1)),y(p.slice(f+1).map((function(e){return b(b({},e),{},{visibility:!1})}))),y(s.filter((function(e){return"background"!==e.group})))),sources:(0,n.isEmpty)(v)?void 0:v}),widgetsConfig:{collapsed:b(b({},g.collapsed),O.collapsed),layouts:(0,n.uniq)([].concat(y((0,n.keys)(g.layouts)),y((0,n.keys)(O.layouts)))).reduce((function(e,t){return b(b({},e),{},h({},t,[].concat(y((0,n.get)(g,"layouts.".concat(t),[])),y((0,n.get)(O,"layouts.".concat(t),[])))))}),{}),widgets:[].concat(y((0,n.get)(g,"widgets",[])),y((0,n.get)(O,"widgets",[])))},timelineData:b(b({},(0,n.get)(e,"timelineData",{})),(0,n.get)(o,"timelineData",{})),dimensionData:b(b({},(0,n.get)(e,"dimensionData",{})),(0,n.get)(o,"dimensionData",{}))})},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"RootGroup",r=(0,n.get)(e,"map.groups",[]),o=r.filter((function(e){return"Default"!==e.id})),i=(0,n.find)(r,(function(e){return"Default"===e.id})),l=i&&{id:a()(),title:t,expanded:i.expanded},c=i?[].concat(y(o.map((function(e){var t=e.id,r=m(e,p);return b({id:"".concat(l.id,".").concat(t)},r)}))),[l]):o;return b(b({},e),{},{map:b(b({},e.map),{},{groups:c,layers:(0,n.get)(e,"map.layers",[]).map((function(e){var t,r=e.group;return b(b({},m(e,f)),{},{group:!i||"background"===r||"Default"!==r&&r?i&&(null===(t=(0,n.find)(c,(function(e){var t=e.id;return t.slice(t.indexOf(".")+1)===r})))||void 0===t?void 0:t.id)||r:l.id})}))})})};function oe(e){switch(e){case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":case"Text":return!1;default:return!0}}function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Point";switch(e){case"Point":case"LineString":case"Polygon":case"Circle":default:return e;case"MultiPoint":case"Marker":case"Text":return"Point";case"MultiLineString":return"LineString";case"MultiPolygon":return"Polygon";case"GeometryCollection":return"GeometryCollection"}}var ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/data\/(\d+)/,r=decodeURIComponent(e),n=t.exec(r);return n&&n.length&&n.length>1?n[1]:null},le=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,n.isString)(e)&&-1!==e.indexOf("%")?parseFloat((0,n.trim)(e))*t/100:(0,n.isNumber)(e)?e:0},ce=function e(t){var r=["apiKey","time","args","fixed"],n=function(e){return r.reduce((function(t,r){return t||e===r}),!1)};Object.keys(t).forEach((function(r){var o=t[r],a=d(o);"object"!==a||null===o||n(r)?"undefined"!==a&&o&&!n(r)||delete t[r]:(e(o),Object.keys(o).length||delete t[r])}))},ue=function(e,t,r){e[t]&&(Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(e,t)),delete e[t])},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=["map.layers","map.backgrounds","map.text_search_config","map.bookmark_search_config","map.text_serch_config","map.zoom","widgetsConfig"],o=(0,n.pick)((0,n.cloneDeep)(e),r),a=(0,n.pick)((0,n.cloneDeep)(t),r);return ue(o.map,"text_serch_config","text_search_config"),ue(a.map,"text_serch_config","text_search_config"),ce(o),ce(a),(0,n.isEqual)(o,a)},pe=function(){var e={};return{registerHook:function(t,r){e[t]=r},getHook:function(t){return e[t]},executeHook:function(t,r,n){var o=e[t];return o?r(o):n?n():null}}};const fe={createRegisterHooks:pe,EXTENT_TO_ZOOM_HOOK:P,RESOLUTIONS_HOOK:j,RESOLUTION_HOOK:x,COMPUTE_BBOX_HOOK:_,GET_PIXEL_FROM_COORDINATES_HOOK:I,GET_COORDINATES_FROM_PIXEL_HOOK:A,DEFAULT_SCREEN_DPI:O,ZOOM_TO_EXTENT_HOOK:S,registerHook:T,getHook:N,dpi2dpm:L,getSphericalMercatorScales:B,getSphericalMercatorScale:M,getGoogleMercatorScales:U,getGoogleMercatorResolutions:Z,getGoogleMercatorScale:F,getResolutionsForScales:G,getZoomForExtent:H,defaultGetZoomForExtent:W,getCenterForExtent:V,getResolutions:q,getScales:z,getBbox:Y,mapUpdated:J,getCurrentResolution:K,transformExtent:Q,saveMapConfiguration:ee,generateNewUUIDs:te,mergeMapConfigs:re,addRootParentGroup:ne,isSimpleGeomType:oe,getSimpleGeomType:ae,getIdFromUri:ie,parseLayoutValue:le,prepareMapObjectToCompare:ce,updateObjectFieldKey:ue,compareMapChanges:se,clearHooks:R}},59766:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{bh:()=>getMonitoredState});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24852),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),object_assign__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(51312),object_assign__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(object_assign__WEBPACK_IMPORTED_MODULE_1__),lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(86494),lodash__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__),react_redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(71703),react_redux__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_3__),url__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(72500),url__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(url__WEBPACK_IMPORTED_MODULE_4__),lodash_curry__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(85359),lodash_curry__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(lodash_curry__WEBPACK_IMPORTED_MODULE_5__),redux_observable__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1376),redux_observable__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(redux_observable__WEBPACK_IMPORTED_MODULE_6__),redux__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(70913),_EpicsUtils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(24357),_excluded=["pluginCfg"];function _extends(){return _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_extends.apply(this,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var r,n,o=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function loadScript(e){return new Promise((function(t,r){var n,o=document.createElement("script"),a=!1;o.type="text/javascript",o.src=e,o.async=!0,o.onerror=function(e){r(e,o)},o.onload=o.onreadystatechange=function(){a||this.readyState&&"complete"!==this.readyState||(a=!0,t())};var i=null===(n=document.getElementsByTagName("script"))||void 0===n?void 0:n[0];i?i.parentElement.insertBefore(o,i):document.head.appendChild(o)}))}var dynamicFederation=function(e,t){return new Promise((function(e){return e(__webpack_require__.I&&__webpack_require__.I("default"))})).then((function(){return window[e].init(__webpack_require__.S.default)})).then((function(){return window[e].get(t).then((function(e){return e()}))}))},defaultMonitoredState=[{name:"mapType",path:"maptype.mapType"},{name:"user",path:"security.user"}],getFromPlugins=lodash_curry__WEBPACK_IMPORTED_MODULE_5___default()((function(e,t){return Object.keys(t).map((function(r){return t[r][e]})).reduce((function(e,t){return _objectSpread(_objectSpread({},e),t)}),{})})),getReducers=getFromPlugins("reducers"),getEpics=getFromPlugins("epics"),combineReducers=function(e,t){var r=getReducers(e);return(0,redux__WEBPACK_IMPORTED_MODULE_7__.UY)(_objectSpread(_objectSpread({},t),r))},combineEpics=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=_objectSpread(_objectSpread({},getEpics(e)),t);return redux_observable__WEBPACK_IMPORTED_MODULE_6__.combineEpics.apply(void 0,_toConsumableArray((0,_EpicsUtils__WEBPACK_IMPORTED_MODULE_8__.f)(n,r)))},filterState=(0,lodash__WEBPACK_IMPORTED_MODULE_2__.memoize)((function(e,t){return t.reduce((function(t,r){return object_assign__WEBPACK_IMPORTED_MODULE_1___default()(t,_defineProperty({},r.name,(0,lodash__WEBPACK_IMPORTED_MODULE_2__.get)(e,r.path)))}),{})}),(function(e,t){return t.reduce((function(t,r){return t+JSON.stringify((0,lodash__WEBPACK_IMPORTED_MODULE_2__.get)(e,r.path))}),"")})),getPluginSimpleName=function(e){return(0,lodash__WEBPACK_IMPORTED_MODULE_2__.endsWith)(e,"Plugin")&&e.substring(0,e.length-6)||e},normalizeName=function(e){return(0,lodash__WEBPACK_IMPORTED_MODULE_2__.endsWith)(e,"Plugin")&&e||e+"Plugin"},getPluginConfiguration=function(e,t){var r=getPluginSimpleName(t);return(0,lodash__WEBPACK_IMPORTED_MODULE_2__.head)(e.filter((function(e){return e.name===r||e===r})).map((function(e){return(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isString)(e)?{name:e}:e})))||{}},parseExpression=function parseExpression(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},context=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},value=arguments.length>2?arguments[2]:void 0,searchExpression=/^\{(.*)\}$/,expression=searchExpression.exec(value),dispatch=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){return state("store").dispatch(e.apply(null,[e].concat(r)))}},request=url__WEBPACK_IMPORTED_MODULE_4___default().parse(location.href,!0);return null!==expression?eval(expression[1]):value},handleExpression=function(e,t,r){return(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isString)(r)&&0===r.indexOf("{")?parseExpression(e,t,r):r},filterDisabledPlugins=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(0,lodash__WEBPACK_IMPORTED_MODULE_2__.get)(e,"cfg.disablePluginIf")||(0,lodash__WEBPACK_IMPORTED_MODULE_2__.get)(e,"plugin.disablePluginIf");return!(n&&!(0,lodash__WEBPACK_IMPORTED_MODULE_2__.get)(e,"cfg.skipAutoDisable")&&handleExpression(t,r.requires,n))},isContainedInList=function(e,t,r,n){return e&&t&&-1!==handleExpression(r,n,t).indexOf(e)},showIn=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;return(isContainedInList(o,r.showIn,e,t)||isContainedInList(n,r.showIn,e,t)||!r.showIn&&a)&&!(isContainedInList(o,r.hideFrom,e,t)||isContainedInList(n,r.hideFrom,e,t))},includeLoaded=function(e,t,r){if(t[e]){var n=t[e],o=n.component||n;return object_assign__WEBPACK_IMPORTED_MODULE_1___default()(o,r,{loadPlugin:void 0},_objectSpread({},n.containers))}return r},getPriority=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return(0,lodash__WEBPACK_IMPORTED_MODULE_2__.get)(t,r+".priority")||(0,lodash__WEBPACK_IMPORTED_MODULE_2__.get)(e,r+".priority")||0},getMorePrioritizedContainer=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return r.reduce((function(r,n){var o=n.name||n,a=getPriority(e,t,o);return a>r.priority?{plugin:{name:o,impl:object_assign__WEBPACK_IMPORTED_MODULE_1___default()({},e[o],t[o])},priority:a}:r}),{plugin:null,priority:n})},parsePluginConfig=function e(t,r,n){return(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isArray)(n)?n.map((function(n){return e(t,r,n)})):(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isObject)(n)?Object.keys(n).reduce((function(o,a){var i=n[a];return object_assign__WEBPACK_IMPORTED_MODULE_1___default()(o,_defineProperty({},a,e(t,r,i)))}),{}):parseExpression(t,r,n)},canContain=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t[e]||r[e]||!1},isMorePrioritizedContainer=function(e,t,r,n){return null===getMorePrioritizedContainer(e,t,r,n).plugin},isValidConfiguration=function(e){return e&&(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isString)(e)||(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isObject)(e)&&e.name},executeDeferredProp=function(e,t,r){return e&&(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(e[r])?_objectSpread(_objectSpread({},e),{},_defineProperty({},r,e[r](t))):e},getPluginItems=function e(t,r,n,o,a,i,l,c){return Object.keys(r).map((function(e){var t=getPluginConfiguration(n,e);return{name:e,impl:executeDeferredProp(includeLoaded(getPluginSimpleName(e),l,r[e]),t,o),config:t}})).filter((function(e){return isValidConfiguration(e.config)})).filter((function(e){return canContain(o,e.impl,e.config.override)})).filter((function(e){return showIn(t,r.requires,e.config,o,a,i)})).filter((function(e){return isMorePrioritizedContainer(e.impl,e.config.override,n,getPriority(e.impl,e.config.override,o))})).map((function(a){var i=getPluginSimpleName(a.name),c=includeLoaded(i,l,a.impl),u=object_assign__WEBPACK_IMPORTED_MODULE_1___default()({},(0,lodash__WEBPACK_IMPORTED_MODULE_2__.get)(c,o+".impl")||(0,lodash__WEBPACK_IMPORTED_MODULE_2__.get)(c,o),(0,lodash__WEBPACK_IMPORTED_MODULE_2__.get)(a.config,"override."+o));return object_assign__WEBPACK_IMPORTED_MODULE_1___default()({name:i},u,{cfg:object_assign__WEBPACK_IMPORTED_MODULE_1___default()({},c.cfg||{},parsePluginConfig(t,r.requires,a.config.cfg||{})||void 0)},{plugin:c,items:e(t,r,n,i,null,!0,l)})})).filter((function(e){return filterDisabledPlugins(e,t,r)})).filter((function(e){return!c||c(e)}))},pluginsMergeProps=function(e,t,r){var n=r.pluginCfg,o=_objectWithoutProperties(r,_excluded);return object_assign__WEBPACK_IMPORTED_MODULE_1___default()({},o,e,t,n||{})},isMapStorePlugin=function(e){var t;return e.loadPlugin||e.displayName||(null===(t=e.prototype)||void 0===t?void 0:t.isReactComponent)||e.isMapStorePlugin},getPluginImplementation=function(e,t){return isMapStorePlugin(e)?e:e(t)},importPlugin=function(e){return dynamicFederation(e,"./plugin")},getMonitoredState=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return filterState(e,defaultMonitoredState.concat(t))},mapPluginsPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){var r=t.cfg&&t.cfg.containerPosition||"bodyPlugins";return _objectSpread(_objectSpread({},e),{},_defineProperty({},r,e[r]?[].concat(_toConsumableArray(e[r]),[t]):[t]))}),{})},getPlugins=function(e){return Object.keys(e).map((function(t){return e[t]})).reduce((function(e,t){return object_assign__WEBPACK_IMPORTED_MODULE_1___default()({},e,(0,lodash__WEBPACK_IMPORTED_MODULE_2__.omit)(t,"reducers","epics"))}),{})},getPluginDescriptor=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isObject)(n)?n.name:n,i=(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isObject)(n)?n.id:null,l=(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isObject)(n)?n.stateSelector:i||void 0,c=!(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isObject)(n)||void 0===n.isDefault||n.isDefault,u=((0,lodash__WEBPACK_IMPORTED_MODULE_2__.isObject)(n)?n.name:n)+"Plugin",s=t[u];return s?{id:i||a,name:a,impl:includeLoaded(a,o,getPluginImplementation(s,l)),cfg:object_assign__WEBPACK_IMPORTED_MODULE_1___default()({},s.cfg||{},(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isObject)(n)?parsePluginConfig(e,t.requires,n.cfg):{}),items:getPluginItems(e,t,r,a,i,c,o)}:null},getConfiguredPlugin=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(e){var n=t[e.name]||!e.plugin.loadPlugin&&e.plugin,o=(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isObject)(e)?e.id:null,a=(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isObject)(e)?e.stateSelector:o||void 0,i=getPluginImplementation(n,a),l=function(t){return i?react__WEBPACK_IMPORTED_MODULE_0___default().createElement(i,_extends({key:e.id},t,e.cfg,{pluginCfg:e.cfg,items:e.items||[]})):r};return l.loaded=!!n,l}return e},setRefToWrappedComponent=function(e){return function(t){t&&(window["".concat(e,"Plugin")]=t)}},connect=function(e,t,r,n){return(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.connect)(e,t,r||pluginsMergeProps,n)},createPlugin=function(e,t){var r,n=t.component,o=t.options,a=void 0===o?{}:o,i=t.containers,l=void 0===i?{}:i,c=t.reducers,u=void 0===c?{}:c,s=t.epics,p=void 0===s?{}:s,f=t.lazy,d=void 0!==f&&f,m=t.enabler,y=void 0===m?function(){return!0}:m,v=t.loader,g=normalizeName(e),b=d?{loadPlugin:function(e){v().then((function(t){var r=t.default||t;e(object_assign__WEBPACK_IMPORTED_MODULE_1___default()(r,{isMapStorePlugin:!0}))}))},enabler:y}:object_assign__WEBPACK_IMPORTED_MODULE_1___default()(n,{isMapStorePlugin:!0});return _defineProperty(r={},g,object_assign__WEBPACK_IMPORTED_MODULE_1___default()(b,l,a)),_defineProperty(r,"reducers",u),_defineProperty(r,"epics",p),r},loadPlugin=function(e,t){return loadScript(e).then((function(){return importPlugin(t)})).then((function(e){return{name:t,plugin:e}}))},__WEBPACK_DEFAULT_EXPORT__={combineReducers,combineEpics,filterState,filterDisabledPlugins,getMonitoredState,mapPluginsPosition,getPlugins,getPluginDescriptor,getPluginItems,getConfiguredPlugin,setRefToWrappedComponent,connect,createPlugin,importPlugin,loadPlugin,handleExpression,getMorePrioritizedContainer,getPluginConfiguration,isMapStorePlugin}},36493:(e,t,r)=>{"use strict";r.r(t),r.d(t,{addAuthenticationParameter:()=>L,addAuthenticationToSLD:()=>F,addAuthenticationToUrl:()=>k,cleanAuthParamsFromURL:()=>B,clearNilValuesForParams:()=>M,default:()=>U,findUserAttribute:()=>I,findUserAttributeValue:()=>A,getAuthKeyParameter:()=>R,getAuthenticationMethod:()=>N,getAuthenticationRule:()=>D,getAuthenticationRules:()=>C,getBasicAuthHeader:()=>S,getRefreshToken:()=>x,getSecurityInfo:()=>w,getToken:()=>j,getUser:()=>P,getUserAttributes:()=>_,isAuthenticationActivated:()=>T,setStore:()=>E});var n=r(59154),o=r(72500),a=r.n(o),i=r(51312),l=r.n(i),c=r(81938),u=r.n(c),s=r(54702),p=r.n(s),f=r(21389),d=r.n(f),m=(r(70913),r(46569),r(54863),r(1376),r(8364)),y=r.n(m);r(49977);var v="persisted.reduxStore",g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"persisted.reduxStore";return n.ZP.getConfigProp(e)||{}};function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;n.ZP.setConfigProp(t,e)}(e)}function w(){return(!y()(g(e))&&(null===(t=g(e))||void 0===t?void 0:t.getState())||{}).security||{};var e,t}function P(){var e;return null===(e=w())||void 0===e?void 0:e.user}function S(){var e;return null===(e=w())||void 0===e?void 0:e.authHeader}function j(){var e;return null===(e=w())||void 0===e?void 0:e.token}function x(){var e;return null===(e=w())||void 0===e?void 0:e.refresh_token}function _(e){var t=e||P();if(!t||!t.attribute)return[];var r=t.attribute;return d()(r)?r:[r]}function I(e){var t=_();return t&&e?u()(t.filter((function(t){return t.name&&t.name.toLowerCase()===e.toLowerCase()}))):null}function A(e){var t=I(e);return null==t?void 0:t.value}function C(){return n.ZP.getConfigProp("authenticationRules")||[]}function T(){return n.ZP.getConfigProp("useAuthenticationRules")||!1}function N(e){var t=u()(C().filter((function(t){return t&&t.urlPattern&&e.match(new RegExp(t.urlPattern,"i"))})));return null==t?void 0:t.method}function D(e){return u()(C().filter((function(t){return t&&t.urlPattern&&e.match(new RegExp(t.urlPattern,"i"))})))}function R(e){var t,r=D(e);return null!==(t=null==r?void 0:r.authkeyParamName)&&void 0!==t?t:"authkey"}function L(e,t,r){if(!e||!T())return t;switch(N(e)){case"authkey":var n=p()(r)?j():r;if(!n)return t;var o=R(e);return l()(t||{},O({},o,n));case"test":var a=D(e),i=a?a.token:"",c=R(e);return l()(t||{},O({},c,i));default:return t}}function k(e){if(!e||!T())return e;var t=a().parse(e,!0);return t.query=L(e,t.query),delete t.search,a().format(t)}function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,r){return p()(e[r])?t:h(h({},t),{},O({},r,e[r]))}),{})}function F(e,t){if(e.SLD){var r=a().parse(e.SLD,!0),n=L(e.SLD,r.query,t.securityToken);return l()({},e,{SLD:a().format(l()({},r,{query:n,search:void 0}))})}return e}function B(e){return n.ZP.filterUrlParams(e,[R(e)].filter((function(e){return e})))}const U={setStore:E,getSecurityInfo:w,getUser:P,getBasicAuthHeader:S,getToken:j,getRefreshToken:x,getUserAttributes:_,findUserAttribute:I,findUserAttributeValue:A,getAuthenticationRules:C,isAuthenticationActivated:T,getAuthenticationMethod:N,getAuthenticationRule:D,addAuthenticationToUrl:k,addAuthenticationParameter:L,clearNilValuesForParams:M,addAuthenticationToSLD:F,getAuthKeyParameter:R,cleanAuthParamsFromURL:B}},69723:(e,t,r)=>{"use strict";r.d(t,{Y:()=>n,v:()=>o});var n=function(e){return new RegExp("<(.|\\n)*?>","g").test(e)},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;return t.test(e)}},93537:(e,t,r)=>{"use strict";r.r(t),r.d(t,{optionsToVendorParams:()=>l});var n=r(16056);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=t.layerFilter,i=t.filterObj,l=[(0,n.AS)(o)&&!o.disabled&&(0,n.m5)(o),(0,n.AS)(i)&&(0,n.m5)(i),t&&t.params&&t.params.CQL_FILTER,r];return(e=(l=l.filter((function(e){return!!e}))).length>1?l.map((function(e){return"(".concat(e,")")})).join(" AND "):l.pop())?a(a({},t.params),{},{CQL_FILTER:e}):t.params}},64973:(e,t,r)=>{"use strict";r.r(t),r.d(t,{needsReload:()=>s,toDescribeURL:()=>p,extractGeometryType:()=>f,extractGeometryAttributeName:()=>d});var n=r(93537),o=r(72500),a=r.n(o),i=r(86494);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(e,t){var r=c(c({},(0,n.optionsToVendorParams)(e)||{}),{},{_v_:e._v_}),o=c(c({},(0,n.optionsToVendorParams)(t)||{}),{},{_v_:t._v_});return["_v_","CQL_FILTER","VIEWPARAMS"].reduce((function(e,t){return r[t]!==o[t]||e}),!1)},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,r=e.search,n=void 0===r?{}:r,o=e.url,i=e.describeFeatureTypeURL,l=a().parse(i||n.url||o,!0);return a().format(c(c({},l),{},{search:void 0,query:c(c({},l.query),{},{service:"WFS",version:"1.1.0",typeName:t,outputFormat:"application/json",request:"DescribeFeatureType"})}))},f=function(e){var t=(0,i.get)(e,"featureTypes[0].properties")||[];return t&&(0,i.head)(t.filter((function(e){return 0===e.type.indexOf("gml:")})).map((function(e){return e.type.split(":")[1]})))},d=function(e){var t=(0,i.get)(e,"featureTypes[0].properties")||[];return t&&(0,i.head)(t.filter((function(e){return 0===e.type.indexOf("gml:")})).map((function(e){return e.name})))}},73418:(e,t,r)=>{"use strict";r.r(t),r.d(t,{getDefaultMatrixId:()=>u,getMatrixIds:()=>s,limitMatrix:()=>p,getTileMatrixSet:()=>f,getRequestEncoding:()=>d,getOperations:()=>m,getOperation:()=>y,getGetTileURL:()=>v,getCapabilitiesURL:()=>g,getDefaultStyleIdentifier:()=>b,getDefaultFormat:()=>h,sortTileMatrix:()=>O,getTileMatrix:()=>E});var n,o=r(89735),a=r(86494);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(e){for(var t=new Array(30),r=0;r<30;++r)t[r]=e.tileMatrixPrefix+r;return t},s=function(e,t){return(0,a.isObject)(e)&&(0,a.isArray)(e[t])&&e[t]||(0,a.isArray)(e)&&e||[]},p=function(e,t){return e.length>t?(0,a.slice)(e,0,t):e.length<t?e.concat(new Array(t-e.length)):e},f=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t;return e&&(0,a.isString)(e)?e:e?(0,o.getEquivalentSRS)(t,r).reduce((function(t,r){if((0,a.isArray)(e)){var i=(0,a.head)(e.filter((function(e){return(e["ows:Identifier"]===r||(0,o.getEPSGCode)(e["ows:SupportedCRS"])===r)&&n[e["ows:Identifier"]]})));return i&&i["ows:Identifier"]?i["ows:Identifier"]:t}return(0,a.isObject)(e)&&e[r]||t}),i):i},d=function(e){var t=n.getOperations(e);return n.getOperation(t,"GetTile","KVP")?"KVP":n.getOperation(t,"GetTile","RESTful")&&"RESTful"},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.castArray)(e.Capabilities["ows:OperationsMetadata"]["ows:Operation"])},y=function(e,t,r){return(0,a.head)((0,a.castArray)((0,a.head)(e.filter((function(e){return e.$.name===t})).map((function(e){return(0,a.castArray)(e["ows:DCP"]["ows:HTTP"]["ows:Get"])})))||[]).filter((function(e){return(e["ows:Constraint"]&&e["ows:Constraint"]["ows:AllowedValues"]["ows:Value"])===r})).map((function(e){return e.$["xlink:href"]})))},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ResourceURL,r=e.GetTileURL,n=e.requestEncoding;return"KVP"===n?r:t&&(0,a.castArray)(t).map((function(e){var t=e.$,r=void 0===t?{}:t;return r.template||r.value}))||r},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.head)((0,a.castArray)(e.capabilitiesURL||e.GetTileURL))},b=function(e){return(0,a.head)((0,a.castArray)(e.Style).filter((function(e){var t=e.$;return"true"===(void 0===t?{}:t).isDefault})).map((function(e){return e["ows:Identifier"]})))},h=function(e){return(0,a.head)((0,a.castArray)(e.Format))},O=function(e,t){return e?l(l({},e),{},{TileMatrix:(0,a.sortBy)(null==e?void 0:e.TileMatrix.map((function(e){return l(l({},e),{},{ScaleDenominator:Number(e.ScaleDenominator)})})),"ScaleDenominator").reverse().filter((function(e){return!t||t.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.identifier;return t})).indexOf(e["ows:Identifier"])>=0}))}):e},E=function(e,t){var r,n,o=f(e.tileMatrixSet,t,e.allowedSRS,e.matrixIds),i=e.matrixIds&&s(e.matrixIds,o||t),l=O((0,a.head)(e.tileMatrixSet.filter((function(e){return e["ows:Identifier"]===o}))),i),c=null==l||null===(r=(n=l.TileMatrix).map)||void 0===r?void 0:r.call(n,(function(e){return e["ows:Identifier"]}));return{matrixIds:c&&i?i.sort((function(e,t){return c.indexOf(e.identifier)-c.indexOf(t.identifier)})):i,tileMatrixSetName:o,tileMatrixSet:l}};n={getOperations:m,getOperation:y}},13530:e=>{var t={},r={registerType:function(e,r){t[e]=r},createLayer:function(e,r,n){var o=t[e];return o&&o.create?o.create(r,n):o?o(r,n):null},renderLayer:function(e,r,n,o,a){var i=t[e];return i&&i.render?i.render(r,n,o,a):null},updateLayer:function(e,r,n,o,a){var i=t[e];return i&&i.update?i.update(r,n,o,a):null},isSupported:function(e){return!!t[e]}};e.exports=r},27415:e=>{var t={},r={registerType:function(e,r){t[e]=r},createLayer:function(e,r){var n=t[e];return n&&n.create?n.create(r):n?n(r):null},renderLayer:function(e,r,n,o,a){var i=t[e];return i&&i.render?i.render(r,n,o,a):null},updateLayer:function(e,r,n,o){var a=t[e];return a&&a.update?a.update(r,n,o):null},isValid:function(e,r){var n=t[e];return!n||!n.isValid||n.isValid(r)},isSupported:function(e){return!!t[e]}};e.exports=r},84109:(e,t,r)=>{var n=r(42914).getCurrentResolution;e.exports={buildRequest:function(e,t){var r,o;return{request:{lat:t.point.latlng.lat,lng:t.point.latlng.lng},metadata:{fields:(null===(r=e.features)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.properties)&&Object.keys(e.features[0].properties)||[],title:e.name,resolution:t.map&&t.map&&t.map.zoom&&n(t.map.zoom,0,21,96),buffer:t.buffer||2,units:t.map&&t.map.units,rowViewer:e.rowViewer,viewer:e.viewer},url:""}}}},17337:(e,t,r)=>{var n=["point"];function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=r(49977).Observable,c=r(89735).normalizeSRS,u=r(36515).getLayerUrl,s=r(86494).isObject,p=r(93537).optionsToVendorParams,f=r(83358),d=f.describeFeatureType,m=f.getFeature,y=r(64973).extractGeometryAttributeName,v=r(36493).addAuthenticationToSLD,g=r(51312);e.exports={buildRequest:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.map,n=void 0===r?{}:r,o=t.point,i=t.currentLocale,l=t.params,p=t.maxItems,f=void 0===p?10:p,d=arguments.length>3?arguments[3]:void 0,m=arguments.length>4?arguments[4]:void 0;return{request:v(a({point:o,service:"WFS",version:"1.1.1",request:"GetFeature",outputFormat:"application/json",exceptions:"application/json",id:e.id,typeName:e.name,srs:c(n.projection)||"EPSG:4326",feature_count:f},g({params:l})),e),metadata:{title:s(e.title)?e.title[i]||e.title.default:e.title,regex:e.featureInfoRegex,viewer:d,featureInfo:m},url:u(e).replace(/[?].*$/g,"")}},getIdentifyFlow:function(e,t,r){var o=r.point,a=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(r,n),i=function(e){var t,r,n=null==e||null===(t=e.geometricFilter)||void 0===t||null===(r=t.value)||void 0===r?void 0:r.geometry;if(n)return n;var o=e.latlng.lng;return{coordinates:[o-360*Math.floor(o/360+.5),e.latlng.lat],projection:"EPSG:4326",type:"Point"}}(o);return l.defer((function(){return d(e.url,e.name).then((function(r){var n=y(r),o=p({layerFilter:e.layerFilter,filterObj:{spatialField:{attribute:n,operation:"INTERSECTS",geometry:i}},params:g({},e.baseParams,e.params,a)});return m(t,e.name,o)}))}))}}},30048:(e,t,r)=>{function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(42914).getCurrentResolution,l=r(89735),c=l.reproject,u=l.getProjectedBBox,s=l.normalizeSRS,p=r(36515).getLayerUrl,f=r(86494).isObject,d=r(93537).optionsToVendorParams,m=r(95525).generateEnvString,y=r(36493).addAuthenticationToSLD,v=r(51312);e.exports={buildRequest:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.sizeBBox,n=t.map,a=void 0===n?{}:n,l=t.point,g=t.currentLocale,b=t.params,h=t.maxItems,O=void 0===h?10:h,E=t.env,w=arguments.length>2?arguments[2]:void 0,P=arguments.length>3?arguments[3]:void 0,S=arguments.length>4?arguments[4]:void 0,j=r&&r.height||101,x=r&&r.width||101,_=[j,x],I=0,A=i(Math.ceil(a.zoom),0,21,96),C=l.latlng.lng,T=C-360*Math.floor(C/360+.5),N={x:T,y:l.latlng.lat},D=c(N,"EPSG:4326",a.projection),R=u(D,A,I,_,null),L=e.name;e.queryLayers&&(L=e.queryLayers.join(","));var k=m(E),M=d({layerFilter:e.layerFilter,filterObj:e.filterObj,params:v({},e.baseParams,e.params,b)});return{request:y(o({service:"WMS",version:"1.1.1",request:"GetFeatureInfo",exceptions:"application/json",id:e.id,layers:e.name,query_layers:L,styles:e.style,x:x%2==1?Math.ceil(x/2):x/2,y:x%2==1?Math.ceil(x/2):x/2,height:j,width:x,srs:s(a.projection)||"EPSG:4326",bbox:R.minx+","+R.miny+","+R.maxx+","+R.maxy,feature_count:O,info_format:w,ENV:k},v({},M)),e),metadata:{title:f(e.title)?e.title[g]||e.title.default:e.title,regex:e.featureInfoRegex,viewer:P,featureInfo:S},url:p(e).replace(/[?].*$/g,"")}}}},41537:(e,t,r)=>{function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(42914),l=i.getCurrentResolution,c=i.getResolutions,u=r(89735),s=u.reproject,p=u.normalizeSRS,f=r(73418),d=f.getTileMatrixSet,m=f.limitMatrix,y=f.getMatrixIds,v=f.getDefaultMatrixId,g=r(36515).getLayerUrl,b=r(93537).optionsToVendorParams,h=r(86494).isObject,O=r(51312);e.exports={buildRequest:function(e,t){var r=l(Math.round(t.map.zoom),0,21,96),n=e.resolutions||c(),a=e.tileSize||256,i=[e.originX||-20037508.3428,e.originY||20037508.3428],u=t.point.latlng.lng,f={x:u-360*Math.floor(u/360+.5),y:t.point.latlng.lat},E=s(f,"EPSG:4326",t.map.projection),w=p(e.srs||t.map.projection||"EPSG:3857",e.allowedSRS),P=d(e.tileMatrixSet,w,e.allowedSRS,e.matrixIds),S=(E.x-i[0])/(r*a),j=(i[1]-E.y)/(r*a),x=Math.floor(S),_=Math.floor(j),I=Math.floor((S-x)*a),A=Math.floor((j-_)*a),C=m(e.matrixIds&&y(e.matrixIds,P||w)||v(e),n.length),T=b({layerFilter:e.layerFilter,filterObj:e.filterObj,params:O({},e.baseParams,e.params,t.params)});return{request:o(o({service:"WMTS",request:"GetFeatureInfo",layer:e.name,infoformat:t.format,style:e.style||""},O({},T)),{},{tilecol:x,tilerow:_,tilematrix:C[Math.round(t.map.zoom)],tilematrixset:P,i:I,j:A}),metadata:{title:h(e.title)?e.title[t.currentLocale]||e.title.default:e.title,regex:e.featureInfoRegex},url:g(e).replace(/[?].*$/g,"")}}}},70831:e=>{var t={PROPERTY:/^[_a-zA-Z]\w*/,COMPARISON:/^(=|<>|<=|<|>=|>|LIKE)/i,IS_NULL:/^IS NULL/i,COMMA:/^,/,LOGICAL:/^(AND|OR)/i,VALUE:/^('([^']|'')*'|-?\d+(\.\d*)?|\.\d+)/,LPAREN:/^\(/,RPAREN:/^\)/,SPATIAL:/^(BBOX|INTERSECTS|DWITHIN|WITHIN|CONTAINS)/i,NOT:/^NOT/i,BETWEEN:/^BETWEEN/i,GEOMETRY:function(e){var t=/^(POINT|LINESTRING|POLYGON|MULTIPOINT|MULTILINESTRING|MULTIPOLYGON|GEOMETRYCOLLECTION)/.exec(e);if(t){var r=e.length,n=e.indexOf("(",t[0].length);if(n>-1)for(var o=1;n<r&&o>0;)switch(n++,e.charAt(n)){case"(":o++;break;case")":o--}return[e.substr(0,n+1)]}return null},END:/^$/},r={LPAREN:["GEOMETRY","SPATIAL","PROPERTY","VALUE","LPAREN"],RPAREN:["NOT","LOGICAL","END","RPAREN"],PROPERTY:["COMPARISON","BETWEEN","COMMA","IS_NULL"],BETWEEN:["VALUE"],IS_NULL:["END"],COMPARISON:["VALUE"],COMMA:["GEOMETRY","VALUE","PROPERTY"],VALUE:["LOGICAL","COMMA","RPAREN","END"],SPATIAL:["LPAREN"],LOGICAL:["NOT","VALUE","SPATIAL","PROPERTY","LPAREN"],NOT:["PROPERTY","LPAREN"],GEOMETRY:["COMMA","RPAREN"]},n={"=":"=","<>":"<>","<":"<","<=":"<=",">":">",">=":">=",LIKE:"like",ILIKE:"ilike",BETWEEN:"><","IS NULL":"isNull"},o={AND:"and",OR:"or",NOT:"not"},a={RPAREN:3,LOGICAL:2,COMPARISON:1},i=function(e,t){return t instanceof RegExp?t.exec(e):t(e)},l=function(e,r){var n,o,a=r.length;for(n=0;n<a;n++){o=r[n];var l=i(e,t[o]);if(l){var c=l[0];return{type:o,text:c,remainder:e.substr(c.length).replace(/^\s*/,"")}}}var u="ERROR: In parsing: ["+e+"], expected one of: ";for(n=0;n<a;n++)u+="\n    "+(o=r[n])+": "+t[o];throw new Error(u)};e.exports={read:function(e){return function(e){for(var t=[],r=[];e.length;){var i=e.shift();switch(i.type){case"PROPERTY":case"GEOMETRY":case"VALUE":r.push(i);break;case"COMPARISON":case"BETWEEN":case"IS_NULL":case"LOGICAL":for(var l=a[i.type];t.length>0&&a[t[t.length-1].type]<=l;)r.push(t.pop());t.push(i);break;case"SPATIAL":case"NOT":case"LPAREN":t.push(i);break;case"RPAREN":for(;t.length>0&&"LPAREN"!==t[t.length-1].type;)r.push(t.pop());t.pop(),t.length>0&&"SPATIAL"===t[t.length-1].type&&r.push(t.pop());break;case"COMMA":case"END":break;default:throw new Error("Unknown token type "+i.type)}}for(;t.length>0;)r.push(t.pop());var c=function e(){var t=r.pop();switch(t.type){case"LOGICAL":var a=e();return{filters:[e(),a],type:o[t.text.toUpperCase()]};case"NOT":return{filters:[e()],type:o.NOT};case"BETWEEN":r.pop();var i=e(),l=e();return{property:e(),lowerBoundary:l,upperBoundary:i,type:n.BETWEEN};case"COMPARISON":var c=e();return{property:e(),value:c,type:n[t.text.toUpperCase()]};case"IS_NULL":return{property:e(),type:n[t.text.toUpperCase()]};case"VALUE":var u=t.text.match(/^'(.*)'$/);return u?u[1].replace(/''/g,"'"):Number(t.text);case"SPATIAL":switch(t.text.toUpperCase()){case"BBOX":var s=e(),p=e(),f=e(),d=e();return{type:"BBOX",property:e(),value:[d,f,p,s]};case"INTERSECTS":var m=e();return{type:"INTERSECTS",property:e(),value:m};case"WITHIN":var y=e();return{type:"WITHIN",property:e(),value:y};case"CONTAINS":var v=e();return{type:"CONTAINS",property:e(),value:v};case"DWITHIN":var g=e();return{type:"DWITHIN",value:e(),property:e(),distance:Number(g)};default:return null}case"GEOMETRY":return function(){throw new Error("WKT parsing for CQL filter not supported yet")}(t.text);default:return t.text}}();if(r.length>0){for(var u="Remaining tokens after building AST: \n",s=r.length-1;s>=0;s--)u+=r[s].type+": "+r[s].text+"\n";throw new Error(u)}return c}(function(e){var t,n=[],o=e,a=["NOT","GEOMETRY","SPATIAL","PROPERTY","LPAREN"];do{if(o=(t=l(o,a)).remainder,a=r[t.type],"END"!==t.type&&!a)throw new Error("No follows list for "+t.type);n.push(t)}while("END"!==t.type);return n}(e))}}},97240:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(57784),a=o.logical,i=o.spatial,l=o.comparison,c=o.literal,u=o.propertyName,s=o.valueReference,p=o.distance,f=o.lower,d=o.upper,m=r(11168),y=m.filter,v=m.fidFilter,g=r(89223).processOGCGeometry;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.filterNS,r=void 0===t?"ogc":t,o=e.gmlVersion,m=e.wfsVersion,b=void 0===m?"1.1.0":m,h=o||"3.1.1",O=function(e){return g(h,e)},E=function(e){return"object"===n(e)&&Date,c(r,e)},w=0===b.indexOf("2.")?s:u;return{filter:y.bind(null,r),fidFilter:v.bind(null,r),and:a.and.bind(null,r),or:a.or.bind(null,r),not:a.not.bind(null,r),property:function(e){return{equalTo:function(t){return l.equal(r,w(r,e),E(t))},greaterThen:function(t){return l.greater(r,w(r,e),E(t))},greaterThenOrEqualTo:function(t){return l.greaterOrEqual(r,w(r,e),E(t))},lessThen:function(t){return l.less(r,w(r,e),E(t))},lessThenOrEqualTo:function(t){return l.lessOrEqual(r,w(r,e),E(t))},notEqualTo:function(t){return l.notEqual(r,w(r,e),E(t))},between:function(t,n){return l.between(r,w(r,e),f(r,E(t)),d(r,E(n)))},like:function(t,n){return l.like(r,w(r,e),E(t),n)},ilike:function(t,n){return l.ilike(r,w(r,e),E(t),n)},isNull:function(){return l.isNull(r,w(r,e))},intersects:function(t){return i.intersects(r,w(r,e),O(t))},within:function(t){return i.within(r,w(r,e),O(t))},dwithin:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";return i.dwithin(r,w(r,e),O(t),p(r,n,o))},contains:function(t){return i.contains(r,w(r,e),O(t))}}}}}},11168:e=>{var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ogc",t=arguments.length>1?arguments[1]:void 0;return"<".concat(e,":Filter>").concat(Array.isArray(t)?t.join(""):t,"</").concat(e,":Filter>")};e.exports={fidFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ogc",r=arguments.length>1?arguments[1]:void 0;return t(e,"<".concat(e,':FeatureId fid="').concat(r,'"/>'))},filter:t}},96191:(e,t,r)=>{function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a=r(86494),i=a.includes,l=a.isNil,c=["and","or","not"],u={"=":"equalTo","<>":"notEqualTo","><":"between","<":"lessThen","<=":"lessThenOrEqualTo",">":"greaterThen",">=":"greaterThenOrEqualTo",like:"like",ilike:"ilike"};e.exports=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(r){var o=r.type,a=r.filters,s=void 0===a?[]:a,p=r.value,f=r.property,d=r.lowerBoundary,m=r.upperBoundary;return i(c,o)?t[o].apply(t,n(s.map(e(t)))):t.property(f)[u[o]](l(p)?d:p,m)}}},57784:e=>{var t={"=":function(e,t){return"<".concat(e,":PropertyIsEqualTo>").concat(t,"</").concat(e,":PropertyIsEqualTo>")},">":function(e,t){return"<".concat(e,":PropertyIsGreaterThan>").concat(t,"</").concat(e,":PropertyIsGreaterThan>")},"<":function(e,t){return"<".concat(e,":PropertyIsLessThan>").concat(t,"</").concat(e,":PropertyIsLessThan>")},">=":function(e,t){return"<".concat(e,":PropertyIsGreaterThanOrEqualTo>").concat(t,"</").concat(e,":PropertyIsGreaterThanOrEqualTo>")},"<=":function(e,t){return"<".concat(e,":PropertyIsLessThanOrEqualTo>").concat(t,"</").concat(e,":PropertyIsLessThanOrEqualTo>")},"<>":function(e,t){return"<".concat(e,":PropertyIsNotEqualTo>").concat(t,"</").concat(e,":PropertyIsNotEqualTo>")},"><":function(e,t){return"<".concat(e,":PropertyIsBetween>").concat(t,"</").concat(e,":PropertyIsBetween>")},like:function(e,t){return"<".concat(e,':PropertyIsLike matchCase="true" wildCard="*" singleChar="." escapeChar="!">').concat(t,"</").concat(e,":PropertyIsLike>")},ilike:function(e,t){return"<".concat(e,':PropertyIsLike matchCase="false" wildCard="*" singleChar="." escapeChar="!">').concat(t,"</").concat(e,":PropertyIsLike>")},isNull:function(e,t){return"<".concat(e,":PropertyIsNull>").concat(t,"</").concat(e,":PropertyIsNull>")}},r={AND:function(e,t){return"<".concat(e,":And>").concat(t,"</").concat(e,":And>")},OR:function(e,t){return"<".concat(e,":Or>").concat(t,"</").concat(e,":Or>")},NOR:function(e,t){return"<".concat(e,":Not><").concat(e,":Or>").concat(t,"</").concat(e,":Or></").concat(e,":Not>")},NOT:function(e,t){return"<".concat(e,":Not>").concat(t,"</").concat(e,":Not>")}},n={INTERSECTS:function(e,t){return"<".concat(e,":Intersects>").concat(t,"</").concat(e,":Intersects>")},BBOX:function(e,t){return"<".concat(e,":BBOX>").concat(t,"</").concat(e,":BBOX>")},CONTAINS:function(e,t){return"<".concat(e,":Contains>").concat(t,"</").concat(e,":Contains>")},DWITHIN:function(e,t){return"<".concat(e,":DWithin>").concat(t,"</").concat(e,":DWithin>")},WITHIN:function(e,t){return"<".concat(e,":Within>").concat(t,"</").concat(e,":Within>")}},o=function(e,t,r){return t(e,Array.isArray(r)?r.join(""):r)},a={and:function(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];return a&&a.length>0?o(e,r.AND,[t].concat(a)):o(e,r.AND,t)},or:function(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];return a&&a.length>0?o(e,r.OR,[t].concat(a)):o(e,r.OR,t)},not:function(e,t){return o(e,r.NOT,t)},nor:function(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];return a&&a.length>0?o(e,r.NOR,[t].concat(a)):o(e,r.NOR,t)}},i={intersects:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return o(e,n.INTERSECTS,r)},within:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return o(e,n.WITHIN,r)},bbox:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return o(e,n.BBOX,r)},dwithin:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return o(e,n.DWITHIN,r)},contains:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return o(e,n.CONTAINS,r)}},l={equal:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return o(e,t["="],n)},greater:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return o(e,t[">"],n)},less:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return o(e,t["<"],n)},greaterOrEqual:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return o(e,t[">="],n)},lessOrEqual:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return o(e,t["<="],n)},notEqual:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return o(e,t["<>"],n)},between:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return o(e,t["><"],n)},like:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return o(e,t.like,n)},ilike:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return o(e,t.ilike,n)},isNull:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return o(e,t.isNull,n)}};e.exports={ogcComparisonOperators:t,ogcLogicalOperators:r,ogcSpatialOperators:n,propertyName:function(e,t){return"<".concat(e,":PropertyName>").concat(t,"</").concat(e,":PropertyName>")},valueReference:function(e,t){return"<".concat(e,":ValueReference>").concat(t,"</").concat(e,":ValueReference>")},distance:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";return"<".concat(e,':Distance units="').concat(r,'">').concat(t,"</").concat(e,":Distance>")},literal:function(e,t){return"<".concat(e,":Literal>").concat(t,"</").concat(e,":Literal>")},logical:a,spatial:i,comparison:l,lower:function(e,t){return"<".concat(e,":LowerBoundary>").concat(t,"</").concat(e,":LowerBoundary>")},upper:function(e,t){return"<".concat(e,":UpperBoundary>").concat(t,"</").concat(e,":UpperBoundary>")}}},89223:(e,t,r)=>{var n=r(86494).isArray,o=function(e){return 0===e.indexOf("2.")},a=function(e){if(e.length>=3){var t=e[0],r=e[e.length-1];if(t[0]!==r[0]||t[1]!==r[1])return e.concat([e[0]])}return e},i=function(e,t,r){var n='<gml:Point srsDimension="2"';return n+=t?' srsName="'+t+'">':">",(n+=o(r)?"<gml:coord><X>"+e[0]+"</X><Y>"+e[1]+"</Y></gml:coord>":"<gml:pos>"+e.join(" ")+"</gml:pos>")+"</gml:Point>"},l=function(e,t,r){var i=o(r),l="<gml:Polygon";return l+=t?' srsName="'+t+'">':">",(e.length&&n(e[0])&&e[0].length&&n(e[0][0])?e:[e]).forEach((function(e,t){var r=a(e).map((function(e){return e[0]+(i?",":" ")+e[1]})),n=i?"outerBoundaryIs":"exterior",o=i?"innerBoundaryIs":"exterior";l+=(t<1?"<gml:"+n+">":"<gml:"+o+">")+"<gml:LinearRing>"+(i?"<gml:coordinates>":"<gml:posList>")+r.join(" ")+(i?"</gml:coordinates>":"</gml:posList>")+"</gml:LinearRing>"+(t<1?"</gml:"+n+">":"</gml:"+o+">")})),l+="</gml:Polygon>"},c=function(e,t,r){var n=o(r),a="<gml:LineString";a+=t?' srsName="'+t+'">':">";var i=e.map((function(e){return e[0]+(n?",":" ")+e[1]}));return(a+=(n?"<gml:coordinates>":"<gml:posList>")+i.join(" ")+(n?"</gml:coordinates>":"</gml:posList>"))+"</gml:LineString>"};e.exports={closePolygon:a,pointElement:i,polygonElement:l,lineStringElement:c,processOGCGeometry:function(e,t){var r="",n=t.projection||"EPSG:4326";switch(t.type){case"Point":r+=i(t.coordinates,n,e);break;case"MultiPoint":r+='<gml:MultiPoint srsName="'+(t.projection||"EPSG:4326")+'">',t.coordinates.forEach((function(t){t&&(r+="<gml:pointMember>",r+=i(t,n,e),r+="</gml:pointMember>")})),r+="</gml:MultiPoint>";break;case"LineString":r+=c(t.coordinates,n,e);break;case"MultiLineString":var o="3.2"===e?"MultiCurve":"MultiLineString",a="3.2"===e?"curveMember":"lineStringMember";r+="<gml:".concat(o,' srsName="').concat(n,'">'),t.coordinates.forEach((function(t){t&&(r+="<gml:"+a+">",r+=c(t,n,e),r+="</gml:"+a+">")})),r+="</gml:"+o+">";break;case"Polygon":r+=l(t.coordinates,n,e);break;case"MultiPolygon":var u="3.2"===e?"MultiSurface":"MultiPolygon",s="3.2"===e?"surfaceMembers":"polygonMember";r+="<gml:".concat(u,' srsName="').concat(n,'">'),t.coordinates.forEach((function(t){t&&(r+="<gml:"+s+">",r+=l(t,n,e),r+="</gml:"+s+">")})),r+="</gml:"+u+">"}return r}}},82687:(e,t,r)=>{function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(97240),l=r(86494).castArray,c=r(67451).wfsToGmlVersion,u=function(e){return'service="WFS" version="'+e+'" '+("1.0.0"===e?'outputFormat="GML2" ':"")+'xmlns:gml="http://www.opengis.net/gml" xmlns:wfs="http://www.opengis.net/wfs" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/wfs '+"http://schemas.opengis.net/wfs/".concat(e,"1.0.0"===e?'/WFS-basic.xsd"':'/wfs.xsd"')},s=function(e){return'service="WFS" version="'+e+'" xmlns:wfs="http://www.opengis.net/wfs/2.0" xmlns:fes="http://www.opengis.net/fes/2.0" xmlns:gml="http://www.opengis.net/gml/3.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd http://www.opengis.net/gml/3.2 http://schemas.opengis.net/gml/3.2.1/gml.xsd"'};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.wfsVersion,r=void 0===t?"1.1.0":t,n=e.gmlVersion,a=e.filterNS,p=e.wfsNS,f=void 0===p?"wfs":p,d=n;!d&&r?d=c(r):d||(d="3.1.1");var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.viewParams,n=e.resultType,o=e.outputFormat,a=e.startIndex,i=e.maxFeatures,l=function(e){return 0===r.indexOf("2.")?'count="'.concat(e,'"'):'maxFeatures="'.concat(e,'"')};return(0===r.indexOf("1.")?u(r):s(r))+(n?' resultType="'.concat(n,'"'):"")+(o?' outputFormat="'.concat(o,'"'):"")+(a||0===a?' startIndex="'.concat(a,'"'):"")+(i||0===i?" ".concat(l(i)):"")+(t?' viewParams="'.concat(t,'"'):"")},y=function(e){return l(e).map((function(e){return"<".concat("2.0"===r?"fes":"ogc",":PropertyName>").concat(e,"</").concat("2.0"===r?"fes":"ogc",":PropertyName>")})).join("")};return o(o({propertyName:y},i({gmlVersion:d,wfsVersion:r,filterNS:a||"2.0"===r?"fes":"ogc"})),{},{getFeature:function(e,t){return"<".concat(f,":GetFeature ").concat(m(t),">").concat(Array.isArray(e)?e.join(""):e,"</").concat(f,":GetFeature>")},sortBy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ASC";return"<".concat(f,":SortBy><").concat(f,":SortProperty>").concat(y(e),"<").concat(f,":SortOrder>").concat(t,"</").concat(f,":SortOrder></").concat(f,":SortProperty></").concat(f,":SortBy>")},query:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.srsName,a=void 0===o?"EPSG:4326":o;return"<".concat(f,":Query ").concat("2.0"===r?"typeNames":"typeName",'="').concat(e,'" srsName="').concat(a,'">')+"".concat(Array.isArray(t)?t.join(""):t)+"</".concat(f,":Query>")}})}},67451:(e,t,r)=>{var n=r(86494),o=n.head,a=n.get,i=function(e){return/[<>&'"]/.test(e)?"<![CDATA[".concat(e,"]]>"):e},l=r(89223).processOGCGeometry,c={"1.0.0":"2.0","1.1.0":"3.1.1","2.0":"3.2","2.0.0":"3.2"},u=function(e){return a(e,"featureTypes[0].properties")},s=function(e,t){return o((u(t)||[]).filter((function(t){return t.name===e})))},p=function(e){return e.targetNamespace},f=function(e){return 0===e.type.indexOf("gml:")},d=function(e,t){return null==t||t&&!0===t.nillable||t&&!1===t.nillable&&null!=e},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.geom,r=e.properties,n=arguments.length>1?arguments[1]:void 0;return d(f(n)?t:r[n.name],n)};e.exports={schemaLocation:p,isGeometryType:f,featureTypeSchema:function(e){return"xmlns:".concat(e.targetPrefix,'="').concat(p(e),'"')},getValue:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"1.1.0",o=f(s(t,r));return o?e?l(n,{type:e.type,coordinates:e.coordinates}):"":null==e?"":"string"==typeof e?i(e):e},getPropertyDesciptor:s,findGeometryProperty:function(e){return o((u(e)||[]).filter((function(e){return 0===e.type.indexOf("gml:")})))},getFeatureTypeProperties:u,getTypeName:function(e){return e.targetPrefix?e.targetPrefix+":"+e.featureTypes[0].typeName:e.featureTypes[0].typeName},wfsToGmlVersion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1.1.0";return c[e]},processOGCGeometry:l,isValid:function(e,t){return u(t).map((function(t){return m(e,t)}))},isValidProperty:m,isValidValueForPropertyName:function(e,t,r){return d(e,s(t,r))},isValidValue:d}},75866:(e,t,r)=>{"use strict";r.r(t),r.d(t,{registerType:()=>o,createLayer:()=>a,updateLayer:()=>i,removeLayer:()=>l,renderLayer:()=>c,isValid:()=>u,isSupported:()=>s,isCompatible:()=>p,default:()=>f});var n={},o=function(e,t){n[e]=t},a=function(e,t,r,o){var a=n[e];return a?a.create(t,r,o):null},i=function(e,t,r,o,a,i){var l=n[e];if(l&&l.update)return l.update(t,r,o,a,i);if(o&&t&&t.getSource()&&t.getSource().updateParams){var c=!1;o.params&&r.params?c=Object.keys(o.params).reduce((function(e,t){return r.params[t]!==o.params[t]||e}),!1):!o.params&&r.params&&(c=!0),c&&t.getSource().updateParams(r.params)}return null},l=function(e,t,r,o,a){var i=n[e];return i&&i.remove?i.remove(t,r,o,a):null},c=function(e,t,r,o,a){var i=n[e];return i&&i.render?i.render(t,r,o,a):null},u=function(e,t){var r=n[e];return!r||!r.isValid||r.isValid(t)},s=function(e){return!!n[e]},p=function(e,t){var r=n[e];return!r||!r.isCompatible||r.isCompatible(t)};const f={registerType:o,createLayer:a,updateLayer:i,removeLayer:l,renderLayer:c,isValid:u,isSupported:s,isCompatible:p}},52567:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>dd});var n={};r.r(n),r.d(n,{cadastrappAutoClose:()=>kp,cadastrappMapLayout:()=>Lp,cadastrappMapSelection:()=>Kf,cadastrappOwnersSearch:()=>id,cadastrappSearch:()=>ad,cadastrappSetup:()=>Rp,cadastrappTearDown:()=>Mp,cadastrappZoomToSelection:()=>Jf,loadParcelleInformationData:()=>ud,mouseMovePopupEpic:()=>Yf,saveInformationRequestEpic:()=>sd,showLandedPropertyByParcelle:()=>Vf,showPopupEpic:()=>Xf,syncLayerForPlots:()=>Gp,zoomToExtentAllResultsEpic:()=>Zp});var o=r(24852),a=r.n(o),i=r(71703),l=r(86494);function c(e,t){return{type:"TOGGLE_CONTROL",control:e,property:t}}var u=r(7066),s=r(12684);function p(e){var t=e.isShown,r=e.configuration,n=(r=void 0===r?{}:r).dateValiditeEDIGEO,o=void 0===n?"":n,i=r.dateValiditeMajic,l=void 0===i?"":i,c=t?"welcome-message":"collapse";return e.data.length>0&&(c="collapse"),a().createElement("div",{className:c},a().createElement("div",null,a().createElement(u.gG,{glyph:"search-coords",style:{margin:"0px",fontSize:"36px"}}),a().createElement("h3",{className:"welcome-message-items"},a().createElement(s.Z,{msgId:"cadastrapp.title"})),a().createElement("h4",{className:"welcome-message-items"},a().createElement(s.Z,{msgId:"cadastrapp.selectTool"}))),a().createElement("table",{className:"welcome-message-versions"},a().createElement("tr",null,a().createElement("td",null,a().createElement(s.Z,{msgId:"cadastrapp.dateValiditeEDIGEO"}),": "),a().createElement("td",null,o)),a().createElement("tr",null,a().createElement("td",null,a().createElement(s.Z,{msgId:"cadastrapp.dateValiditeMajic"}),": "),a().createElement("td",null,l))),a().createElement("div",{className:"welcome-message-build"},"build  ",a().createElement("a",{target:"_blank",href:"".concat(null==="git@github.com:georchestra/mapstore2-cadastrapp.git"?void 0:"git@github.com:georchestra/mapstore2-cadastrapp.git".replace(".git",""),"/commit/").concat("ddba0e195c0a0ff4287eb236c9f46c35d8771d93")},null==="ddba0e195c0a0ff4287eb236c9f46c35d8771d93"?void 0:"ddba0e195c0a0ff4287eb236c9f46c35d8771d93".substr(0,8))))}var f=r(89942),d=r(6607),m="__CADASTRAPP_RASTER_LAYER__",y="__CADASTRAPP_VECTOR_LAYER__",v="CADASTRAPP",g="cadastrapp",b={POINT:"POINT",LINE_STRING:"LINE_STRING",POLYGON:"POLYGON",LANDED_PROPERTY:"LANDED_PROPERTY"},h={PLOT:"PLOT",OWNER:"OWNER",COOWNER:"COOWNER"},O={selected:{fillColor:"#00FF18",opacity:.6,fillOpacity:.6,color:"#0112FF",weight:2},default:{fillColor:"#F78B97",opacity:.4,fillOpacity:.4,color:"#FF0000",weight:2}},E="reference",w="address",P="id",S="lot",j="user",x="ownerId",_="ownerLot",I="coowner",A="compteCommunal",C="mousemove",T=function(e){return(0,l.get)(e,"additionallayers")||[]},N=r(51312),D=r.n(N),R=r(24024);function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(e){return null==e?void 0:e.cadastrapp.configuration}function B(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pdfbasemaptitles,r=e.pdfbasemapthumbnails;return(0,R.sortBy)((t||[]).map((function(e){var t=e.value,n=e.key;return{title:t,index:n.split(".").reverse()[1],thumbnail:(0,R.head)((r||[]).filter((function(e){return 0===e.key.indexOf(n)})).map((function(e){return e.value})))}})),"index")}(F(e))}function U(e){var t=F(e);return null==t?void 0:t.cadastreLayerIdParcelle}function G(e){var t,r,n;return null===(r=(null!==(t=T(e))&&void 0!==t?t:[]).filter((function(e){return e.id===m})))||void 0===r||null===(n=r[0])||void 0===n?void 0:n.options}function Z(e){var t,r,n;return null===(r=(null!==(t=T(e))&&void 0!==t?t:[]).filter((function(e){return e.id===y})))||void 0===r||null===(n=r[0])||void 0===n?void 0:n.options}function q(e){var t,r,n=null!==(t=F(e))&&void 0!==t?t:{},o=n.cnil1RoleName,a=n.cnil2RoleName,i=null!==(r=function(e){return(0,l.get)(e,"security.user.groups.group")}(e))&&void 0!==r?r:[],c=i.map((function(e){var t=e.groupName;return"ROLE_".concat(t)}));return{isCNIL1:c.includes(o),isCNIL2:c.includes(a)}}function z(e){return null==e?void 0:e.cadastrapp.selectionType}function W(e){return null==e?void 0:e.cadastrapp.searchType}function H(e){var t;return null==e||null===(t=e.cadastrapp)||void 0===t?void 0:t.plots}function K(e){var t=H(e);return t?t.map((function(e){return e.data})):[]}function V(e){return(null==e?void 0:e.cadastrapp.activePlotSelection)||0}function Y(e){return H(e)[V(e)]}function X(e){var t=Y(e);return null==t?void 0:t.selected}function J(e){var t,r=Y(e);return null!==(t=null==r?void 0:r.data)&&void 0!==t?t:[]}function Q(e){var t;return null===(t=e.cadastrapp)||void 0===t?void 0:t.styles}function $(e){var t;return null===(t=Q(e))||void 0===t?void 0:t.selected}function ee(e){var t;return null===(t=Q(e))||void 0===t?void 0:t.default}function te(e){var t=$(e),r=ee(e);return J(e).map((function(n){var o=n.feature,a=n.parcelle,i=X(e).includes(a);return k(k({},o),{},{style:i?t:r})}))}function re(e){var t,r;return null==e||null===(t=e.cadastrapp)||void 0===t||null===(r=t.loadFlags)||void 0===r?void 0:r.plotSelection}function ne(e){var t;return(null==e||null===(t=e.cadastrapp)||void 0===t?void 0:t.owners)||{}}function oe(e){var t,r;return null==e||null===(t=e.cadastrapp)||void 0===t||null===(r=t.landedProperty)||void 0===r?void 0:r.parcelle}function ae(e){var t,r,n;return null!==(t=null==e||null===(r=e.cadastrapp)||void 0===r||null===(n=r.loadFlags)||void 0===n?void 0:n.info)&&void 0!==t?t:{}}function ie(e){var t,r;return null!==(t=null===(r=ae(e))||void 0===r?void 0:r.count)&&void 0!==t?t:0}function le(e){var t,r;return null!==(t=null==e||null===(r=e.cadastrapp)||void 0===r?void 0:r.infoBulle)&&void 0!==t?t:{}}function ce(e){var t,r,n;return null!==(t=null==e||null===(r=e.cadastrapp)||void 0===r||null===(n=r.loadFlags)||void 0===n?void 0:n.popupLoading)&&void 0!==t?t:{}}function ue(e){var t,r;return null!==(t=null==e||null===(r=e.cadastrapp)||void 0===r?void 0:r.pluginCfg)&&void 0!==t?t:{}}function se(e){var t,r;return null!==(t=null===(r=ue(e))||void 0===r?void 0:r.popup)&&void 0!==t?t:{}}var pe=r(60024);function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const de=function(){var e,t,r=(e=(0,o.useState)({}),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=r[0],a=r[1];return[n,function(e,t,r){var o="['".concat(e,"'].").concat(t);a((0,pe.t8)(o,r,n))},function(e){a((0,pe.t8)(e,void 0,n))}]};function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){return e&&t.section&&t.plot}),!0)}function ye(e){return e.length>=14}function ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split(",").reduce((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e&&ye(t)}),!0)}function ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.parcelle,r=void 0===t?"":t;return r&&ve(r)}function be(e,t){switch(e){case E:return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.references,r=void 0===t?[]:t;return e.commune&&r.length>0&&me(r)}(t);case P:return ge(t);case S:return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.parcelle,r=e.file;return t&&ve(t)||!!r}(t);case w:return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.commune,r=e.road;return t&&r}(t);case j:return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.proprietaire,r=e.commune;return t&&r}(t);case x:return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.commune,r=e.dnupro,n=void 0===r?[]:r;return t&&n.filter((function(e){return e})).length>0}(t);case _:return function(){return!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).file}(t);case I:return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.commune,r=e.parcelle,n=e.proprietaire,o=e.comptecommunal;return t&&(n||r&&ve(r)||o)}(t);default:return!1}}var he=r(10306),Oe=r.n(he);function Ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(r),!0).forEach((function(t){Pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Se="/cadastrapp";function je(e){var t=e.parcelle,r=e.cgocommune,n=e.dnupla,o=e.ccopre,a=e.ccosec,i=e.dvoilib,l=e.dnvoiri,c=e.dindic,u=e.unitefonciere;return Oe().get("".concat(Se,"/services/getParcelle"),{params:{parcelle:t,cgocommune:r,dvoilib:i,dnvoiri:l,dindic:c,dnupla:n,ccopre:o,ccosec:a,unitefonciere:u}}).then((function(e){return e.data}))}function xe(e){var t=e.comptecommunal,r=new URLSearchParams;return(0,R.castArray)(t).forEach((function(e){return r.append("comptecommunal",e)})),Oe().post("".concat(Se,"/services/getParcelle"),r).then((function(e){return e.data}))}function _e(e){return Oe().get("".concat(Se,"/services/getSection"),{params:{cgocommune:e}}).then((function(e){return e.data}))}function Ie(e){var t=function(e){var t=new URLSearchParams;return Object.keys(e).filter((function(t){return!!e[t]})).forEach((function(r){return(0,R.isArray)(e[r])?e[r].forEach((function(e){return t.append(r,e)})):t.append(r,e[r])})),t}({cgocommune:e.cgocommune,ddenom:e.ddenom,dnupro:e.dnupro,birthsearch:e.birthsearch,details:e.details,comptecommunal:e.comptecommunal});return Oe().get("".concat(Se,"/services/getProprietaire"),{params:t}).then((function(e){return e.data}))}function Ae(e){var t={comptecommunal:e.comptecommunal,cgocommune:e.cgocommune,ddenom:e.ddenom,details:e.details};return Oe().get("".concat(Se,"/services/getCoProprietaireList"),{params:t}).then((function(e){return e.data}))}function Ce(e){var t={parcelle:e.parcelle,onglet:e.onglet};return Oe().get("".concat(Se,"/services/getFIC"),{params:t}).then((function(e){return e.data}))}function Te(e){var t={parcelle:e.parcelle};return Oe().get("".concat(Se,"/services/getBatimentsByParcelle"),{params:t}).then((function(e){return e.data}))}function Ne(e){var t=e.compteCommunal,r=e.parcelleId,n=e.exportType,o={compteCommunal:t,parcelleId:r,exportType:void 0===n?"on":n};return Oe().get("".concat(Se,"/services/createRelevePropriete"),{params:o,responseType:"arraybuffer"})}function De(e){var t=e.compteCommunal,r=e.parcelleId,n=e.exportType,o={compteCommunal:t,parcelleId:r,exportType:void 0===n?"on":n};return Oe().get("".concat(Se,"/services/createReleveProprieteAsCSV"),{params:o,responseType:"arraybuffer"})}function Re(e){var t=e.parcelle,r=e.dnubat,n=new URLSearchParams;return(0,R.castArray)(t).forEach((function(e){return n.append("parcelle",e)})),(0,R.castArray)(r).forEach((function(e){return n.append("dnubat",e)})),Oe().post("".concat(Se,"/services/exportLotsAsCSV"),n,{responseType:"arraybuffer"})}function Le(e){var t=e.parcelle,r=e.dnubat,n=new URLSearchParams;return(0,R.castArray)(t).forEach((function(e){return n.append("parcelle",e)})),(0,R.castArray)(r).forEach((function(e){return n.append("dnubat",e)})),Oe().post("".concat(Se,"/services/exportLotsAsPDF"),n,{responseType:"arraybuffer"})}function ke(e){var t=e.parcelles,r=new URLSearchParams;return r.append("parcelles",(0,R.castArray)(t).join(",")),Oe().post("".concat(Se,"/services/exportParcellesAsCSV"),r,{responseType:"arraybuffer"})}var Me=r(77580),Fe=r.n(Me),Be=r(50099),Ue=r(82979),Ge=r(67076),Ze=["messages"];function qe(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(r),!0).forEach((function(t){He(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function He(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ke=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label";if((0,l.isArray)(t))return t.map((function(n){var o=(0,Ue.S$)(e,n[r]||(0,l.isString)(n)&&n||"");return We(We({},n),{},He({},r,(0,l.isNil)(o)?t:o))}));var n=(0,Ue.S$)(e,t);return(0,l.isNil)(n)?t:n},Ve=function(e,t,r){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;return We(We({},n),{},He({},o,e[o]&&Ke(t,e[o],r)))}};const Ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"label";return(0,Ge.compose)((0,Ge.getContext)({messages:Fe().object}),(0,Ge.mapProps)((function(r){var n=r.messages,o=qe(r,Ze);return We(We({},o),(0,l.castArray)(e).reduce(Ve(o,n,t),{}))})))};var Xe=["messages"],Je=["value","valueField","minLength","onChange","search","onSelect","disabled","hideRemove","additionalStyle","placeholder","dropUp"];function Qe(){return Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qe.apply(this,arguments)}function $e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return et(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?et(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(r),!0).forEach((function(t){nt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ot(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var at=(0,f.compose)((0,f.getContext)({messages:Fe().object}),(0,f.mapProps)((function(e){var t=e.messages;return rt(rt({},ot(e,Xe)),{},{messages:{emptyList:(0,Ue.S$)(t,"cadastrapp.nodata"),emptyFilter:(0,Ue.S$)(t,"cadastrapp.nodata")}})}))),it=Ye("placeholder")(at(Be.Combobox));const lt=function(e){var t=e.value,r=void 0===t?{}:t,n=e.valueField,i=e.minLength,l=e.onChange,c=void 0===l?function(){}:l,s=e.search,p=void 0===s?function(){}:s,f=e.onSelect,d=void 0===f?function(){}:f,m=e.disabled,y=void 0!==m&&m,v=e.hideRemove,g=void 0!==v&&v,b=e.additionalStyle,h=void 0===b?{}:b,O=e.placeholder,E=void 0===O?"":O,w=e.dropUp,P=void 0!==w&&w,S=ot(e,Je),j=$e((0,o.useState)(""),2),x=j[0],_=j[1],I=$e((0,o.useState)(!1),2),A=I[0],C=I[1],T=$e((0,o.useState)([]),2),N=T[0],D=T[1];return(0,o.useEffect)((function(){x.length>=i&&(C(!0),p(x).then((function(e){D(e),C(!1)})))}),[x]),a().createElement("div",{style:rt({position:"relative"},h)},a().createElement(it,Qe({dropUp:P,busy:A,disabled:y,placeholder:E,valueField:n,value:(0,R.isObject)(r)?r[n]:r,onSelect:function(e){var t;d(null!==(t=(0,R.find)(N,nt({},n,e)))&&void 0!==t?t:e)},onChange:function(e){c(e),_(e)},data:N,minLength:i},S)),g||!x&&!r?null:a().createElement(u.gG,{glyph:"remove",bsSize:"xsmall",style:{position:"absolute",top:9,opacity:.4,right:35,zIndex:2,cursor:"pointer"},onClick:function(){_(""),d(void 0)}}))};function ct(){return ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ct.apply(this,arguments)}function ut(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(r),!0).forEach((function(t){pt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ut(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ft=function(e){return a().createElement(lt,ct({minLength:3,valueField:"cgocommune",textField:"label",search:function(e){return function(e){return r=(t={libcom:e}).libcom,n=t.cgocommune,Oe().get("".concat(Se,"/services/getCommune"),{params:{libcom:r,cgocommune:n}}).then((function(e){return e.data}));var t,r,n}(e).then((function(e){return e.map((function(e){return st(st({},e),{},{label:"".concat(e.libcom_min," (").concat(e.cgocommune,")")})}))}))}},e))};var dt=["cgocommune","birthsearch","onSelect"];function mt(){return mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mt.apply(this,arguments)}function yt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(r),!0).forEach((function(t){gt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const bt=function(e){var t=e.cgocommune,r=e.birthsearch,n=void 0!==r&&r,o=e.onSelect,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,dt);return a().createElement(lt,mt({minLength:3,valueField:"value",textField:"label",onSelect:o,search:function(e){return Ie({cgocommune:t,ddenom:e,birthsearch:n}).then((function(e){return e.map((function(e){return vt(vt({},e),{},{label:n?null==e?void 0:e.app_nom_naissance:null==e?void 0:e.app_nom_usage,value:n?null==e?void 0:e.app_nom_naissance:null==e?void 0:e.app_nom_usage})}))}))}},i))};var ht=r(56394),Ot=r.n(ht);function Et(e){var t=e.loading,r=e.valid,n=e.onClear,o=void 0===n?function(){}:n,i=e.onSearch,l=void 0===i?function(){}:i;return a().createElement(u.hE,{style:{margin:"10px",float:"right"}},t?a().createElement(Ot(),{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}):null,a().createElement(u.zx,{onClick:o},a().createElement(s.Z,{msgId:"cadastrapp.search.clear"})," "),a().createElement(u.zx,{disabled:t||!r,bsStyle:"primary",onClick:l},a().createElement(u.gG,{glyph:"search"})," ",a().createElement(s.Z,{msgId:"cadastrapp.search.title"})))}function wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pt(e){var t,r,n=e.values,o=e.setValue,i=void 0===o?function(){}:o;return a().createElement(a().Fragment,null,a().createElement("div",{className:"item-row"},a().createElement("div",{className:"label-col"},a().createElement(u.J$,null,a().createElement(s.Z,{msgId:"cadastrapp.proprietaire.city"}))),a().createElement("div",{className:"form-col"},a().createElement(ft,{value:null==n?void 0:n.commune,onSelect:function(e){return i("commune",e)}}),a().createElement("div",{className:"text-muted"},a().createElement(s.Z,{msgId:"cadastrapp.proprietaire.cityExample"})))),a().createElement("div",{className:"item-row"},a().createElement("div",{className:"label-col"},a().createElement(u.J$,null,a().createElement(s.Z,{msgId:"cadastrapp.proprietaire.name.title"}))),a().createElement("div",{className:"form-col"},a().createElement(bt,{birthsearch:null!==(t=null==n?void 0:n.birthsearch)&&void 0!==t&&t,value:null==n?void 0:n.proprietaire,disabled:!(null!=n&&n.commune),cgocommune:null==n||null===(r=n.commune)||void 0===r?void 0:r.cgocommune,onSelect:function(e){return i("proprietaire",e)},onChange:function(e){return i("proprietaire",e)}}),a().createElement("div",{className:"text-muted"},a().createElement(s.Z,{msgId:"cadastrapp.proprietaire.name.example"})))),a().createElement("div",{className:"item-row"},a().createElement("div",{className:"label-col"},a().createElement(u.J$,null)),a().createElement("div",{className:"form-col"},a().createElement(u.XZ,{value:null==n?void 0:n.birthsearch,onChange:function(e){i("birthsearch",e.target.checked)}},a().createElement(s.Z,{msgId:"cadastrapp.proprietaire.search.birth"})),a().createElement("div",{className:"text-muted"},a().createElement(s.Z,{msgId:"cadastrapp.proprietaire.name.tooltip"})))))}function St(e){var t=e.items,r=void 0===t?[]:t,n=e.onAdd,o=e.onRemove,i=e.onSetValue;return a().createElement(a().Fragment,null,a().createElement("div",{style:{width:"100%",float:"left"}},a().createElement(u.zx,{onClick:function(){return n()},className:"pull-left"},a().createElement(u.gG,{glyph:"plus"})),a().createElement("span",{style:{marginLeft:6,marginTop:4},className:"pull-left"},a().createElement(s.Z,{msgId:"cadastrapp.proprietaire.proprietaires.addMoreProprietaire"}))),a().createElement("div",{style:{width:"100%",height:"calc(50vh - 290px)",minHeight:96,overflowY:"auto"}},r.map((function(e,t){return a().createElement("div",{style:{width:"100%",float:"left"}},a().createElement(u.NI,{value:e,className:"pull-left",style:{width:240,marginTop:5,marginRight:5},onChange:function(e){return i(t,e.target.value)}}),a().createElement(u.zx,{style:{marginTop:5,marginRight:5},className:"pull-right",onClick:function(){return o(t)}},a().createElement(u.gG,{glyph:"trash"})))}))))}function jt(e){return function(e){if(Array.isArray(e))return xt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return xt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _t(e){var t,r=e.values,n=e.setValue,o=void 0===n?function(){}:n;return a().createElement(a().Fragment,null,a().createElement("div",{className:"item-row"},a().createElement("div",{className:"label-col"},a().createElement(u.J$,null,a().createElement(s.Z,{msgId:"cadastrapp.proprietaire.city"}))),a().createElement("div",{className:"form-col"},a().createElement(ft,{value:null==r?void 0:r.commune,onSelect:function(e){return o("commune",e)}}),a().createElement("div",{className:"text-muted"},a().createElement(s.Z,{msgId:"cadastrapp.proprietaire.cityExample"})))),a().createElement("div",{className:"item-row"},a().createElement("div",{className:"label-col"},a().createElement(u.J$,null,a().createElement(s.Z,{msgId:"cadastrapp.proprietaire.proprietaires.title"}))),a().createElement("div",{className:"form-col"},a().createElement(St,{items:null!==(t=null==r?void 0:r.dnupro)&&void 0!==t?t:[],onAdd:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";o("dnupro",[].concat(jt(null!==(e=null==r?void 0:r.dnupro)&&void 0!==e?e:[]),[t]))},onRemove:function(e){var t,n=null!==(t=null==r?void 0:r.dnupro)&&void 0!==t?t:[],a=[].concat(jt(n.slice(0,e)),jt(n.slice(e+1)));o("dnupro",a)},onSetValue:function(e,t){o("dnupro[".concat(e,"]"),t)}}))))}var It=r(74379),At=r.n(It);function Ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Nt={width:"100%",height:"auto",border:"dashed lightgrey",minHeight:100,padding:30},Dt=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(r),!0).forEach((function(t){Tt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({background:"lightblue"},Nt);function Rt(e){var t,r=e.values,n=void 0===r?{}:r,o=e.setValue,i=void 0===o?function(){}:o,l=null===(t=n.file)||void 0===t?void 0:t.name;return a().createElement("div",{className:"item-row"},a().createElement("div",{className:"label-col"},a().createElement(u.J$,null,a().createElement(s.Z,{msgId:"cadastrapp.proprietaire.file.title"}))),a().createElement("div",{className:"form-col",style:{position:"relative"}},a().createElement(At(),{style:Nt,activeStyle:Dt,multiple:!1,accept:["text/csv","text/plain",".csv"],onDrop:function(e){i("file",e[0])}},l?a().createElement("span",null,a().createElement(u.gG,{glyph:"remove",onClick:function(e){i("file",void 0),e.stopPropagation(),e.preventDefault()}})," ",l," "):a().createElement(s.Z,{msgId:"cadastrapp.parcelle.file.example"})),a().createElement("div",{style:{width:"100%",float:"left"},className:"text-muted"},a().createElement(s.Z,{msgId:"cadastrapp.proprietaire.file.explanation"}))))}function Lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return kt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.fileName,n=void 0===r?"unknown":r,o=new Blob([e.data],{type:e.data.type}),a=window.URL.createObjectURL(o),i=document.createElement("a");i.href=a;var l=e.headers["content-disposition"],c=n;if(l){var u=l.match(/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/);u.length>2&&u[1]&&(c=u[1])}i.setAttribute("download",c),document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(a)}function Ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Bt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ut(e){var t=e.showParcelle,r=void 0===t||t,n=e.expanded,i=e.parcelle,l=e.data,c=void 0===l?[]:l,p=e.selected,f=void 0===p?[]:p,d=n?"":"collapse",m=Ft((0,o.useState)(r),2),y=m[0],v=m[1],g=Ft((0,o.useState)("pdf"),2),b=g[0],h=g[1],O=Ft((0,o.useState)(!1),2),E=O[0],w=O[1];return a().createElement("div",{className:d},a().createElement("hr",null),a().createElement("div",{style:{width:"70%"},className:"pull-left"},r?a().createElement(u.cw,null,a().createElement("b",{style:{float:"left",width:150,marginRight:15}},a().createElement(s.Z,{msgId:"cadastrapp.relevepropriete.data"}),": "),a().createElement(u.Y8,{checked:y,value:"true",onChange:function(){return v(!0)},inline:!0},a().createElement(s.Z,{msgId:"cadastrapp.relevepropriete.partial"})),"s",a().createElement(u.Y8,{checked:!y,value:"false",onChange:function(){return v(!1)},inline:!0},a().createElement(s.Z,{msgId:"cadastrapp.relevepropriete.full"}))):null,a().createElement(u.cw,null,a().createElement("b",{style:{float:"left",width:150,marginRight:15}},a().createElement(s.Z,{msgId:"cadastrapp.relevepropriete.type.title"}),":"),a().createElement(u.Y8,{checked:"pdf"===b,value:"pdf",onChange:function(){return h("pdf")},inline:!0},a().createElement(s.Z,{msgId:"cadastrapp.relevepropriete.type.pdf"})),a().createElement(u.Y8,{checked:"csv"===b,value:"csv",onChange:function(){return h("csv")},inline:!0},a().createElement(s.Z,{msgId:"cadastrapp.relevepropriete.type.csv"})))),a().createElement("div",{style:{width:"30%"},className:"pull-left"},a().createElement(u.zx,{disabled:0===f.length||E,onClick:function(){w(!0),("csv"===b?De:Ne)({parcelleId:y?i:void 0,compteCommunal:c.filter((function(e,t){return f.includes(t)})).map((function(e){return e.comptecommunal})).filter((function(e,t,r){return r.indexOf(e)===t})).join(",")}).then((function(e){w(!1),Mt(e)})).catch((function(){w(!1)}))},className:"pull-right"},E?a().createElement(Ot(),{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}):null,a().createElement(s.Z,{msgId:"cadastrapp.relevepropriete.export"}))),a().createElement("hr",null))}r(92397);var Gt=r(59154);function Zt(){return Zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zt.apply(this,arguments)}const qt=function(e){return function(t){return a().createElement(e,Zt({},t,{container:document.querySelector("."+(Gt.ZP.getConfigProp("themePrefix")||"ms2")+" > div")||document.body}))}};function zt(e){return zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zt(e)}function Wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ht(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Kt(e,t){return Kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Kt(e,t)}function Vt(e,t){if(t&&("object"===zt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Yt(e){return Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yt(e)}var Xt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kt(e,t)}(i,e);var t,r,n,o,a=(n=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Yt(n);if(o){var r=Yt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Vt(this,e)});function i(){return Wt(this,i),a.apply(this,arguments)}return t=i,(r=[{key:"handleDialogClick",value:function(e){e.target===e.currentTarget&&this.props.onHide(e)}}])&&Ht(t.prototype,r),i}(u.u_);const Jt=D()(qt(Xt),{Body:u.u_.Body,Dialog:u.u_.Dialog,Footer:u.u_.Footer,Header:u.u_.Header,Title:u.u_.Title});var Qt=r(75594),$t=r.n(Qt),er=r(53849),tr=r.n(er);function rr(e){return rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rr(e)}function nr(){return nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nr.apply(this,arguments)}function or(e,t){return or=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},or(e,t)}function ar(e,t){if(t&&("object"===rr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ir(e){return ir=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ir(e)}function lr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ur(e,t,r){return t&&cr(e.prototype,t),r&&cr(e,r),e}function sr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pr={minWidth:40,maxWidth:500,hPaddingCell:16,hPaddingSort:22,vPaddingCell:16,lineHeight:24,font:'700 16px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'},fr=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};lr(this,e),sr(this,"_getLineWidth",(function(e){return Math.ceil(r._ctx.measureText(e).width)})),sr(this,"_getColumnHorizontalPadding",(function(e){return r._config.hPaddingCell+(e.sortable?r._config.hPaddingSort:0)+4})),sr(this,"_updateLines",(function(e,t){var n=[e],o=0;do{r._getLineWidth(n[o])>t?(n.length===o+1&&n.push(""),n[o+1]=(n[o].substring(n[o].lastIndexOf(" ")+1)+" "+n[o+1]).trim(),n[o]=n[o].substring(0,n[o].lastIndexOf(" "))):o+=1}while(n.some((function(e){return r._getLineWidth(e)>t})));r._lines=Math.max(r._lines,n.length)})),sr(this,"_setColumnWidth",(function(e){var t=r._getColumnHorizontalPadding(e),n=(e.width||r._config.maxWidth)-t,o=r._getLineWidth(e.name);if(o<=n)e.width=Math.max(r._config.minWidth,o+t);else{var a=e.name.split(" ").reduce((function(e,t){return Math.max(e,r._getLineWidth(t))}),0),i=Math.max(n,a);e.width=i+t,r._updateLines(e.name,i)}return e})),this._columns=t,this._config=Object.assign(pr,n),this._lines=1,this._ctx=document.createElement("canvas").getContext("2d"),this._ctx.font=this._config.font}return ur(e,[{key:"headerRowHeight",get:function(){return this._lines*this._config.lineHeight+this._config.vPaddingCell}},{key:"columns",get:function(){return this._columns.map(this._setColumnWidth)}}]),e}(),dr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&or(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=ir(t);if(r){var o=ir(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ar(this,e)});function o(e){var t;return lr(this,o),(t=n.call(this,e)).helper=new fr(t.props.columns),t}return ur(o,[{key:"componentDidMount",value:function(){var e;if(void 0!==this.grid&&"select-all-checkbox"===(null===(e=this.grid.selectAllCheckbox)||void 0===e?void 0:e.id)){var t=tr().v4();this.grid.selectAllCheckbox.id+="-".concat(t),this.grid.selectAllCheckbox.nextSibling.htmlFor+="-".concat(t)}}},{key:"render",value:function(){var e=this;return a().createElement("div",{className:"react-grid-multiline-header"},a().createElement($t(),nr({ref:function(t){e.grid=t},headerRowHeight:this.helper.headerRowHeight,columns:this.helper.columns},this.props)))}}]),o}(a().Component);dr.propTypes={columns:Fe().array};const mr=Ye("columns","name")(dr);var yr={textAlign:"center",padding:"50px"},vr=function(e){return e.loading?a().createElement("div",{style:yr},a().createElement(s.Z,{msgId:"cadastrapp.loading"})):a().createElement("div",{style:yr},a().createElement(s.Z,{msgId:"cadastrapp.nodata"}))},gr=[{name:"cadastrapp.result.owner.comptecommunal",width:130,resizable:!0,key:"comptecommunal"},{name:"cadastrapp.result.owner.ddenom",resizable:!0,key:"app_nom_usage"}];function br(e){var t=e.loading,r=e.onRowClick,n=void 0===r?function(){}:r,o=e.onRowsSelected,i=void 0===o?function(){}:o,l=e.onRowsDeselected,c=void 0===l?function(){}:l,u=e.data,s=e.selected,p=void 0===s?[]:s;if(!u)return null;var f=t?[]:u;return a().createElement(mr,{onRowClick:n,emptyRowsView:function(){return a().createElement(vr,{loading:t})},rowGetter:function(e){return f[e]},rowsCount:f.length,minHeight:350,columns:gr,rowSelection:{showCheckbox:!1,enableShiftSelect:!1,onRowsSelected:i,onRowsDeselected:c,selectBy:{indexes:p}}})}br.propTypes={data:Fe().array};const hr=br;function Or(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Or(Object(r),!0).forEach((function(t){wr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Or(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||Sr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sr(e,t){if(e){if("string"==typeof e)return jr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jr(e,t):void 0}}function jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xr=r(8364),_r=r.n(xr),Ir=["ccosec"];function Ar(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ar(Object(r),!0).forEach((function(t){Tr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ar(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Dr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Dr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Rr=Ye("placeholder")(Be.DropdownList);function Lr(e){var t=e.row,r=void 0===t?{}:t,n=e.sections,i=e.onSetValue,l=void 0===i?function(){}:i,c=e.onRemove,s=e.hideRemove,p=void 0!==s&&s,f=e.containerStyle,d=void 0===f?{}:f,m=e.fieldStyle,y=void 0===m?{width:120,marginTop:5,marginRight:5}:m,v=e.dropUp,g=void 0!==v&&v,b=Nr((0,o.useState)(),2),h=b[0],O=b[1],E=Nr((0,o.useState)(),2),w=E[0],P=E[1],S=Nr((0,o.useState)(!1),2),j=S[0],x=S[1],_=r.section,I=r.plot;return(0,o.useEffect)((function(){var e,t,r,n;_&&(P(!0),(e={ccopre:_.ccopre,ccosec:_.ccosec,cgocommune:_.cgocommune},t=e.cgocommune,r=e.ccopre,n=e.ccosec,Oe().get("".concat(Se,"/services/getDnuplaList"),{params:{cgocommune:t,ccopre:r,ccosec:n}}).then((function(e){return e.data}))).then((function(e){O(e),P(!1),x(!0),l("plot",void 0)})))}),[_]),a().createElement("div",{style:Cr({width:"100%",float:"left",display:"flex"},d)},a().createElement(Rr,{dropUp:g,defaultOpen:!0,disabled:_r()(n),style:y,textField:"ccosec",placeholder:"cadastrapp.parcelle.result.ccosec",value:_,onChange:function(){},onSelect:function(e){l("section",e)},filter:"contains",data:n.map((function(e){var t=e.ccosec;return Cr(Cr({ccosec:t},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Ir)),{},{label:""+t})}))}),a().createElement(Rr,{dropUp:g,onToggle:function(e){return x(e)},open:j,busy:w,disabled:!h,style:y,value:I,placeholder:"cadastrapp.parcelle.libcom",textField:"dnupla",filter:"contains",onSelect:function(e){l("plot",e)},data:h}),!p&&a().createElement(u.zx,{style:{marginTop:3,marginRight:3},className:"pull-right",onClick:c},a().createElement(u.gG,{glyph:"trash"})))}function kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mr(e){var t,r,n=e.references,i=void 0===n?[]:n,l=e.cgocommune,c=e.onAddReference,p=e.onRemoveReference,f=e.onSetValue,d=(t=(0,o.useState)(),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return kr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kr(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=d[0],y=d[1];(0,o.useEffect)((function(){l&&_e(l).then((function(e){y(e),c({})}))}),[l]);var v=me(i);return a().createElement(a().Fragment,null,a().createElement("div",{style:{width:"100%",float:"left"}},a().createElement(u.zx,{disabled:!m||!l||m&&l&&i.length>0&&!v,onClick:function(){return c({})},className:"pull-left"},a().createElement(u.gG,{glyph:"plus"})),a().createElement("span",{style:{marginLeft:6,marginTop:4},className:"pull-left"},a().createElement(s.Z,{msgId:"cadastrapp.parcelle.addMoreReference"}))),a().createElement("div",{style:{width:"100%",height:"calc(50vh - 290px)",minHeight:96,overflowY:"visible"}},m&&i.map((function(e,t){return a().createElement(Lr,{row:e,sections:m,onRemove:function(){return p(t)},onSetValue:function(e,r){return f(t,e,r)}})}))))}function Fr(e){return function(e){if(Array.isArray(e))return Br(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Br(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Br(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Br(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const Ur=function(e){var t,r,n=e.values,o=void 0===n?{}:n,i=e.setValue,l=void 0===i?function(){}:i,c=null==o||null===(t=o.commune)||void 0===t?void 0:t.cgocommune;return a().createElement(a().Fragment,null,a().createElement("div",{className:"item-row"},a().createElement("div",{className:"label-col"},a().createElement(u.J$,null,a().createElement(s.Z,{msgId:"cadastrapp.parcelle.city"}))),a().createElement("div",{className:"form-col"},a().createElement(ft,{value:null==o?void 0:o.commune,onSelect:function(e){return l("commune",e)}}),a().createElement("div",{className:"text-muted"},a().createElement(s.Z,{msgId:"cadastrapp.parcelle.cityExample"})))),a().createElement("div",{className:"item-row"},a().createElement("div",{className:"label-col"},a().createElement(u.J$,null,a().createElement(s.Z,{msgId:"cadastrapp.parcelle.references"}))),a().createElement("div",{className:"form-col"},a().createElement(Mr,{cgocommune:c,references:null!==(r=null==o?void 0:o.references)&&void 0!==r?r:[],onAddReference:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l("references",[].concat(Fr(null!==(e=null==o?void 0:o.references)&&void 0!==e?e:[]),[t]))},onRemoveReference:function(e){var t,r=null!==(t=null==o?void 0:o.references)&&void 0!==t?t:[],n=[].concat(Fr(r.slice(0,e)),Fr(r.slice(e+1)));l("references",n)},onSetValue:function(e,t,r){l("references[".concat(e,"][").concat(t,"]"),r)}}))))};var Gr=["cgocommune"];function Zr(){return Zr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zr.apply(this,arguments)}function qr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qr(Object(r),!0).forEach((function(t){Wr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Hr=function(e){var t=e.cgocommune,r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Gr);return a().createElement(lt,Zr({minLength:3,valueField:"dvoilib",textField:"label",search:function(e){return function(e){var t=e.cgocommune,r=e.dvoilib;return Oe().get("".concat(Se,"/services/getVoie"),{params:{cgocommune:t,dvoilib:r}}).then((function(e){return e.data}))}({cgocommune:t,dvoilib:e}).then((function(e){return e.map((function(e){return zr(zr({},e),{},{label:e.cconvo?"".concat(e.cconvo," ").concat(e.dvoilib):"".concat(e.dvoilib)})}))}))}},r))};var Kr=[{label:"--",value:""},{label:"bis",value:"B"},{label:"ter",value:"T"},{label:"quater",value:"Q"},{label:"A",value:"A"},{label:"B",value:"B"},{label:"C",value:"C"},{label:"D",value:"D"},{label:"E",value:"E"},{label:"F",value:"F"},{label:"G",value:"G"},{label:"H",value:"H"}];function Vr(e){var t,r,n=e.values,i=e.setValue,l=void 0===i?function(){}:i;return(0,o.useEffect)((function(){_r()(n)&&l("dindic","")}),[n]),a().createElement(a().Fragment,null,a().createElement("div",{className:"item-row"},a().createElement("div",{className:"label-col"},a().createElement(u.J$,null,a().createElement(s.Z,{msgId:"cadastrapp.parcelle.city"}))),a().createElement("div",{className:"form-col"},a().createElement(ft,{value:null==n?void 0:n.commune,onSelect:function(e){return l("commune",e)}}),a().createElement("div",{className:"text-muted"},a().createElement(s.Z,{msgId:"cadastrapp.parcelle.cityExample"})))),a().createElement("div",{className:"item-row"},a().createElement("div",{className:"label-col"},a().createElement(u.J$,null,a().createElement(s.Z,{msgId:"cadastrapp.parcelle.town"}))),a().createElement("div",{className:"form-col"},a().createElement(Hr,{value:null==n?void 0:n.road,disabled:!(null!=n&&n.commune),cgocommune:null==n||null===(t=n.commune)||void 0===t?void 0:t.cgocommune,onSelect:function(e){return l("road",e)}}),a().createElement("div",{className:"text-muted"},a().createElement(s.Z,{msgId:"cadastrapp.parcelle.townExample"})))),a().createElement("div",{className:"item-row"},a().createElement("div",{className:"label-col"},a().createElement(u.J$,null,a().createElement(s.Z,{msgId:"cadastrapp.parcelle.street"}))),a().createElement("div",{className:"form-col"},a().createElement(u.NI,{value:null!==(r=null==n?void 0:n.dnvoiri)&&void 0!==r?r:"",style:{height:34,width:100,float:"left"},type:"text",bsSize:"sm",onChange:function(e){return l("dnvoiri",e.target.value)}}),a().createElement("div",{className:"pull-left"},a().createElement(Be.DropdownList,{style:{width:100,marginLeft:5},valueField:"value",textField:"label",value:null==n?void 0:n.dindic,onSelect:function(e){l("dindic",e.value)},data:Kr})),a().createElement("div",{style:{float:"left",marginLeft:5,marginTop:5},className:"text-muted "},a().createElement(s.Z,{msgId:"cadastrapp.parcelle.streetExample"})))))}const Yr=function(e){var t,r=e.values,n=void 0===r?{}:r,o=e.setValue,i=void 0===o?function(){}:o;return a().createElement("div",{className:"item-row"},a().createElement("div",{className:"label-col"},a().createElement(u.J$,null,a().createElement(s.Z,{msgId:"cadastrapp.parcelle.ident.title"}))),a().createElement("div",{className:"form-col"},a().createElement(u.NI,{type:"text",bsSize:"sm",value:null!==(t=null==n?void 0:n.parcelle)&&void 0!==t?t:"",onChange:function(e){return i("parcelle",e.target.value)}}),n.parcelle&&!ge(n)?a().createElement(u.bZ,{variant:"warning"},a().createElement(s.Z,{msgId:"cadastrapp.parcelle.ident.control"})):null,a().createElement("div",{className:"text-muted"},a().createElement(s.Z,{msgId:"cadastrapp.parcelle.ident.example"})),a().createElement("div",null)))};function Xr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Qr={width:"100%",height:"auto",border:"dashed lightgrey",minHeight:100,padding:30},$r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xr(Object(r),!0).forEach((function(t){Jr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({background:"lightblue"},Qr);function en(e){var t,r,n=e.values,o=void 0===n?{}:n,i=e.setValue,l=void 0===i?function(){}:i,c=null===(t=o.file)||void 0===t?void 0:t.name;return a().createElement(a().Fragment,null,a().createElement("div",{className:"item-row"},a().createElement("div",{className:"label-col"},a().createElement(u.J$,null,a().createElement(s.Z,{msgId:"cadastrapp.parcelle.lot.title"}))),a().createElement("div",{className:"form-col"},a().createElement(u.NI,{componentClassName:"textarea",type:"text",bsSize:"sm",value:null!==(r=null==o?void 0:o.parcelle)&&void 0!==r?r:"",onChange:function(e){return t=e.target.value,l("file",void 0),void l("parcelle",t);var t}}),a().createElement("div",{className:"text-muted"},a().createElement(s.Z,{msgId:"cadastrapp.parcelle.lot.example"})))),a().createElement("div",{className:"item-row"},a().createElement("div",{className:"label-col"},a().createElement(u.J$,null)),a().createElement("div",{className:"form-col"},a().createElement("div",{style:{textAlign:"center"},className:"text-muted"},"or"))),a().createElement("div",{className:"item-row"},a().createElement("div",{className:"label-col"},a().createElement(u.J$,null,a().createElement(s.Z,{msgId:"cadastrapp.parcelle.file.title"}))),a().createElement("div",{className:"form-col",style:{position:"relative"}},a().createElement(At(),{accept:["text/csv","text/plain",".csv"],style:Qr,activeStyle:$r,multiple:!1,onDrop:function(e){l("parcelle",void 0),l("file",e[0])}},c?a().createElement("span",null,a().createElement(u.gG,{glyph:"remove",onClick:function(e){l("file",void 0),e.stopPropagation(),e.preventDefault()}})," ",c," "):a().createElement(s.Z,{msgId:"cadastrapp.parcelle.file.example"})),a().createElement("div",{style:{width:"100%",float:"left"},className:"text-muted"},a().createElement(s.Z,{msgId:"cadastrapp.parcelle.file.explanation"})))))}function tn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var nn="CADASTRAPP:SETUP",on="CADASTRAPP:SETUP_COMPLETED",an="CADASTRAPP:TEAR_DOWN",ln="CADASTRAPP:LOADING",cn="CADASTRAPP:SET_CONFIGURATION",un="CADASTRAPP:TOGGLE_SELECTION",sn="CADASTRAPP:TOGGLE_SEARCH",pn="CADASTRAPP:ADD_PLOTS",fn="CADASTRAPP:REMOVE_PLOTS",dn="CADASTRAPP:SET_ACTIVE_PLOT_SELECTION",mn="CADASTRAPP:ADD_PLOT_SELECTION",yn="CADASTRAPP:REMOVE_PLOT_SELECTION",vn="CADASTRAPP:SELECT_PLOTS",gn="CADASTRAPP:DESELECT_PLOTS",bn="CADASTRAPP:ZOOM_TO_SELECTION",hn="CADASTRAPP:ZOOM_TO_RESULTS",On="CADASTRAPP:SET_LAYER_STYLE",En="CADASTRAPP:UPDATE_LAYER_STYLE",wn="CADASTRAPP:SET_STYLES",Pn="CADASTRAPP:SEARCH",Sn="CADASTRAPP:OWNERS_SEARCH",jn="CADASTRAPP:SHOW_OWNERS",xn="CADASTRAPP:CLEAR_OWNERS",_n="CADASTRAPP:SHOW_LANDED_PROPERTIES_INFORMATION",In="CADASTRAPP:SHOW_LANDED_PROPERTIES_INFORMATION_BY_PARCELLE",An="CADASTRAPP:LOAD_INFO",Cn="CADASTRAPP:INFORMATION_UPDATE",Tn="CADASTRAPP:INFORMATION_CLEAR",Nn="CADASTRAPP:SAVE_BUBBLE_INFO",Dn="CADASTRAPP:SHOW_POPUP",Rn="CADASTRAPP:PRINT_SUBMITTED",Ln="CADASTRAPP:PRINT_RESPONSE",kn=function(e,t,r){return{type:ln,mode:r,value:e,name:t}},Mn=function(e){return{type:un,selectionType:e}},Fn=function(e,t){return{type:pn,plots:e,target:t}},Bn=function(e,t){return{type:Pn,searchType:e,rawParams:t}},Un=function(e,t){return{type:Sn,searchType:e,rawParams:t}},Gn=function(e){return{type:_n,parcelle:e}},Zn=function(e,t,r){return{type:Cn,parcelle:e,path:t,data:r}},qn=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:Ln,allowDocument:t,requestId:e}},zn=(0,d.P1)((function(e){var t,r;return null==e||null===(t=e.cadastrapp)||void 0===t||null===(r=t.loadFlags)||void 0===r?void 0:r.search}),(function(e){return{loading:e}})),Wn=(0,i.connect)(zn,{onSearch:Bn})((function(e){var t,r,n,i,l=e.onSearch,c=void 0===l?function(){}:l,p=e.loading,f=tn((0,o.useState)("reference"),2),d=f[0],m=f[1],y=tn(de(),3),v=y[0],g=y[1],b=y[2];return a().createElement("div",{className:"plots-search"},a().createElement("h3",null,a().createElement(s.Z,{msgId:"cadastrapp.parcelle.title"})),a().createElement(u.mQ,{className:"not-scrolled-tab",onSelect:function(e){return m(e)},activeKey:d,defaultActiveKey:d},a().createElement(u.OK,{eventKey:E,title:a().createElement(s.Z,{msgId:"cadastrapp.parcelle.tab1"})},a().createElement(Ur,{values:null!==(t=null==v?void 0:v.reference)&&void 0!==t?t:{},setValue:function(e,t){return g(E,e,t)}})),a().createElement(u.OK,{eventKey:w,title:a().createElement(s.Z,{msgId:"cadastrapp.parcelle.tab2"}),style:{height:220}},a().createElement(Vr,{values:null!==(r=null==v?void 0:v.address)&&void 0!==r?r:{},setValue:function(e,t){return g(w,e,t)}})),a().createElement(u.OK,{eventKey:P,title:a().createElement(s.Z,{msgId:"cadastrapp.parcelle.tab3"})},a().createElement(Yr,{values:null!==(n=null==v?void 0:v.id)&&void 0!==n?n:{},setValue:function(e,t){return g(P,e,t)}})),a().createElement(u.OK,{eventKey:S,title:a().createElement(s.Z,{msgId:"cadastrapp.parcelle.tab4"})},a().createElement(en,{values:null!==(i=null==v?void 0:v.lot)&&void 0!==i?i:{},setValue:function(e,t){return g(S,e,t)}}))),a().createElement(Et,{loading:p,valid:be(d,v[d]),onClear:function(){return b(d)},onSearch:function(){return c(d,v[d])}}))})),Hn=(0,i.connect)(zn,{onSearch:Bn,onOwnersSearch:Un})((function(e){var t,r,n,i=e.loading,l=(e.onSearch,e.onOwnersSearch),c=void 0===l?function(){}:l,p=Lt((0,o.useState)(j),2),f=p[0],d=p[1],m=Lt(de(),3),y=m[0],v=m[1],g=m[2];return a().createElement("div",{className:"owners-search"},a().createElement("h3",null,a().createElement(s.Z,{msgId:"cadastrapp.proprietaire.title"})),a().createElement(u.mQ,{onSelect:function(e){return d(e)},className:"not-scrolled-tab",activeKey:f,defaultActiveKey:j},a().createElement(u.OK,{eventKey:j,title:a().createElement(s.Z,{msgId:"cadastrapp.proprietaire.tab1"})},a().createElement(Pt,{values:null!==(t=null==y?void 0:y.user)&&void 0!==t?t:{},setValue:function(e,t){return v(j,e,t)}})),a().createElement(u.OK,{eventKey:x,title:a().createElement(s.Z,{msgId:"cadastrapp.proprietaire.tab2"})},a().createElement(_t,{values:null!==(r=null==y?void 0:y.ownerId)&&void 0!==r?r:{},setValue:function(e,t){return v(x,e,t)}})),a().createElement(u.OK,{eventKey:_,title:a().createElement(s.Z,{msgId:"cadastrapp.proprietaire.tab3"})},a().createElement(Rt,{values:null!==(n=null==y?void 0:y.ownerLot)&&void 0!==n?n:{},setValue:function(e,t){return v(_,e,t)}}))),a().createElement(Et,{loading:i,valid:be(f,y[f]),onClear:function(){return g(f)},onSearch:function(){c(j,y[f])}}))})),Kn=(0,i.connect)(zn,{onSearch:Bn,onOwnersSearch:Un})((function(e){var t,r,n,o,i,l=e.loading,c=e.onSearch,p=void 0===c?function(){}:c,f=e.onOwnersSearch,d=void 0===f?function(){}:f,m=(o=de(),i=3,function(e){if(Array.isArray(e))return e}(o)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(o,i)||function(e,t){if(e){if("string"==typeof e)return wt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wt(e,t):void 0}}(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=m[0],v=m[1],g=m[2],b=y.coowner,h=function(e,t){return v(I,e,t)};return a().createElement("div",{className:"coownership-search"},a().createElement("h3",null,a().createElement(s.Z,{msgId:"cadastrapp.search.copropriete.title"})),a().createElement("div",{style:{padding:"10px",height:242}},a().createElement("div",{className:"item-row"},a().createElement("div",{className:"label-col"},a().createElement(u.J$,null,a().createElement(s.Z,{msgId:"cadastrapp.parcelle.city"}))),a().createElement("div",{className:"form-col"},a().createElement(ft,{value:null==b?void 0:b.commune,onSelect:function(e){return h("commune",e)}}),a().createElement("div",{className:"text-muted"},a().createElement(s.Z,{msgId:"cadastrapp.parcelle.cityExample"})))),a().createElement("div",{className:"item-row"},a().createElement("div",{className:"label-col"},a().createElement(u.J$,null,a().createElement(s.Z,{msgId:"cadastrapp.proprietaire.name.title"}))),a().createElement("div",{className:"form-col"},a().createElement(bt,{value:null==b?void 0:b.proprietaire,disabled:!(null!=b&&b.commune),cgocommune:null==b||null===(t=b.commune)||void 0===t?void 0:t.cgocommune,onSelect:function(e){return h("proprietaire",e)},onChange:function(e){return h("proprietaire",e)}}),a().createElement("div",{className:"text-muted"},a().createElement(s.Z,{msgId:"cadastrapp.proprietaire.name.example"})))),a().createElement("div",{className:"item-row"},a().createElement("div",{className:"label-col"},a().createElement(u.J$,null,a().createElement(s.Z,{msgId:"cadastrapp.search.copropriete.parcelle.ident"}))),a().createElement("div",{className:"form-col"},a().createElement(u.NI,{value:null!==(r=null==b?void 0:b.parcelle)&&void 0!==r?r:"",onChange:function(e){return h("parcelle",e.target.value)},type:"text",bsSize:"sm"}),a().createElement("div",{className:"text-muted"},a().createElement(s.Z,{msgId:"cadastrapp.parcelle.ident.example"})))),a().createElement("div",{className:"item-row"},a().createElement("div",{className:"label-col"},a().createElement(u.J$,null,a().createElement(s.Z,{msgId:"cadastrapp.search.copropriete.comptecommunal.ident"}))),a().createElement("div",{className:"form-col"},a().createElement(u.NI,{value:null!==(n=null==b?void 0:b.comptecommunal)&&void 0!==n?n:"",onChange:function(e){return h("comptecommunal",e.target.value)},type:"text",bsSize:"sm"}),a().createElement("div",{className:"text-muted"},a().createElement(s.Z,{msgId:"cadastrapp.search.copropriete.comptecommunal.example"}))))),a().createElement(Et,{loading:l,valid:be(I,y.coowner),onClear:function(){return g(I)},onSearch:function(){var e;!(0,R.isString)(null===(e=y.coowner)||void 0===e?void 0:e.proprietaire)||null!=b&&b.parcelle?p(I,y.coowner):d(I,y.coowner)}}))})),Vn=(0,i.connect)((0,d.P1)((function(e){var t;return null===(t=ne(e))||void 0===t?void 0:t.show}),(function(e){var t;return null===(t=ne(e))||void 0===t?void 0:t.data}),(function(e,t){return{show:e,owners:t}})),{onSearch:Bn,onClose:function(){return{type:xn}}})((0,f.branch)((function(e){return!e.show}),f.renderNothing)((function(e){var t=e.loading,r=e.show,n=e.onSearch,i=void 0===n?function(){}:n,l=e.owners,c=void 0===l?[]:l,p=e.onClose,f=Pr((0,o.useState)(!1),2),d=f[0],m=f[1],y=Pr((0,o.useState)([]),2),v=y[0],g=y[1],b=Pr((0,o.useState)(!1),2),h=b[0],O=b[1],E=1===v.length;return a().createElement(Jt,{className:"cadastrapp-owners-modal",style:{maxHeight:"100%",overflowY:"auto",zIndex:1e4},show:r,onHide:p},a().createElement(Jt.Header,{closeButton:!0},a().createElement(Jt.Title,null,a().createElement(s.Z,{msgId:"cadastrapp.result.owner.title"}))),a().createElement(Jt.Body,{style:{maxHeight:700,overflow:"auto"}},a().createElement("div",{style:{margin:10}},a().createElement(u.zx,{disabled:t||!E,bsStyle:h?"primary":void 0,onClick:function(){O(!h)}},a().createElement(u.gG,{style:{marginRight:4},glyph:"1-pdf"}),a().createElement(s.Z,{msgId:"cadastrapp.result.owner.rp"})),a().createElement(Ut,{showParcelle:!1,expanded:h,data:c,selected:v})),a().createElement(hr,{onRowClick:function(e){e>=0&&g(1===v.length&&v[0]===e?[]:[e])},onRowsSelected:function(e){return g(v.concat(e.map((function(e){return e.rowIdx}))))},onRowsDeselected:function(e){return g(v.filter((function(t){return-1===e.map((function(e){return e.rowIdx})).indexOf(t)})))},data:c,selected:v})),a().createElement(Jt.Footer,null,a().createElement(u.zx,{disabled:t||!E,bsStyle:"primary",onClick:function(){p(),i(A,c[v[0]])}},a().createElement(s.Z,{msgId:"cadastrapp.result.owner.show.parcelle"})),a().createElement(u.zx,{disabled:t||d,bsStyle:"primary",onClick:function(){var e,t,r,n=["Owner id","Full name information"],o=(E?[c[v[0]]]:c).map((function(e){return[e.comptecommunal,e.app_nom_usage]}));m(!0),(e={data:[n,o[0]]},t=e.data,r=new URLSearchParams,(0,R.castArray)(t).forEach((function(e){return r.append("data",(0,R.castArray)(e).join(","))})),Oe().get("".concat(Se,"/services/exportAsCsv"),{params:r},{responseType:"arraybuffer"})).then((function(e){if(m(!1),E)Mt(e,{});else{var t=e.data[e.data.indexOf(n[1])-1],r=[n.join(t)].concat((a=o.map((function(e){return e.join(t)})),function(e){if(Array.isArray(e))return jr(e)}(a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||Sr(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).join("\n");Mt(Er(Er({},e),{},{data:r}))}var a})).catch((function(){m(!1)}))}},E?a().createElement(s.Z,{msgId:"cadastrapp.selection.proprietaires.export.row"}):a().createElement(s.Z,{msgId:"cadastrapp.selection.proprietaires.export.list"}))))})));function Yn(e){switch(e.selectedSearchTool){case h.PLOT:return a().createElement(Wn,null);case h.OWNER:return a().createElement(a().Fragment,null,a().createElement(Hn,null),a().createElement(Vn,null));case h.COOWNER:return a().createElement(a().Fragment,null,a().createElement(Kn,null),a().createElement(Vn,null));default:return null}}function Xn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xn(Object(r),!0).forEach((function(t){Qn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var eo=[{key:"cgocommune",sortable:!0,width:80,name:"cadastrapp.parcelle.result.commune",resizable:!0},{key:"ccosec",width:80,sortable:!0,name:"cadastrapp.parcelle.result.ccosec",resizable:!0},{key:"dnupla",width:100,sortable:!0,name:"cadastrapp.parcelle.result.dnupla",resizable:!0},{key:"cadastralAddr",sortable:!0,name:"cadastrapp.parcelle.result.adresse",width:100,resizable:!0},{key:"dcntpa",width:98,sortable:!0,name:"cadastrapp.parcelle.result.surface",resizable:!0}];function to(e){var t,r,n=e.onRowDoubleClick,i=void 0===n?function(){}:n,l=e.onRowsSelected,c=void 0===l?function(){}:l,u=e.onRowsDeselected,s=void 0===u?function(){}:u,p=e.data,f=e.selectedKeys,d=(t=(0,o.useState)(),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return $n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$n(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=d[0],y=d[1];if(!p)return null;var v=p.map((function(e){return Jn(Jn({},e),{},{cadastralAddr:e.dnvoiri+" "+e.dvoilib})})),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sortColumn,r=e.sortDirection;return"ASC"===r?(0,R.sortBy)(v,t):"DESC"===r?(0,R.sortBy)(v,t).reverse():v}(m);return a().createElement(mr,{sortable:!0,onRowDoubleClick:i,rowGetter:function(e){return g[e]},rowsCount:g.length,minHeight:230,columns:eo,onGridSort:function(e,t){y("NONE"===t?void 0:{sortColumn:e,sortDirection:t})},rowSelection:{showCheckbox:!0,enableShiftSelect:!0,onRowsSelected:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return c(e.map((function(e){return e.row})))},onRowsDeselected:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s(e.map((function(e){return e.row})))},selectBy:{keys:{rowKey:"parcelle",values:f}}}})}to.propTypes={data:Fe().array};const ro=to;var no=r(75451),oo=r.n(no),ao=r(19881);const io=qt(u.Ox);var lo=["tooltip","tooltipId","tooltipPosition","tooltipTrigger","keyProp","idDropDown","args"];function co(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const uo=(0,Ge.branch)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tooltip,r=e.tooltipId;return t||r}),(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.tooltip,n=t.tooltipId,o=t.tooltipPosition,i=void 0===o?"top":o,l=t.tooltipTrigger,c=t.keyProp,p=t.idDropDown,f=t.args,d=co(t,lo);return a().createElement(io,{trigger:l,id:p,key:c,placement:i,overlay:a().createElement(u.u,{id:"tooltip-"+c},n?a().createElement(s.Z,{msgId:n,msgParams:{data:f}}):r)},a().createElement(e,d))}}),(function(e){return function(t){return a().createElement(e,(0,l.omit)(t,["tooltipId","tooltip"]),t.children)}})),so=(0,Ge.branch)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disabled,r=e.noTooltipWhenDisabled,n=void 0!==r&&r;return!(n&&t)}),uo,(function(e){return function(t){return a().createElement(e,(0,l.omit)(t,["tooltipId","tooltip","noTooltipWhenDisabled"]),t.children)}}));function po(e){return po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},po(e)}function fo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yo(e,t){return yo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},yo(e,t)}function vo(e,t){if(t&&("object"===po(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function go(e){return go=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},go(e)}function bo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ho=(0,Ge.branch)((function(e){return e.popover}),(function(e){var t,r;return r=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yo(e,t)}(s,t);var r,n,o,i,c=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=go(o);if(i){var r=go(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return vo(this,e)});function s(){return fo(this,s),c.apply(this,arguments)}return r=s,(n=[{key:"renderPopover",value:function(){return a().createElement(u.J2,(0,l.omit)(this.props.popover,["trigger","placement","text"]),this.props.popover.text)}},{key:"renderContent",value:function(){var t=(0,Ge.toClass)(e);return a().createElement(t,(0,l.omit)(this.props,["popover"]))}},{key:"render",value:function(){var e=!0===this.props.popover.trigger?["hover","focus"]:this.props.popover.trigger;return a().createElement("span",null,a().createElement(io,{trigger:e,placement:this.props.popover.placement,overlay:this.renderPopover()},this.renderContent()))}}])&&mo(r.prototype,n),s}(a().Component),bo(t,"propTypes",{popover:Fe().object}),bo(t,"defaultProps",{popover:{trigger:!0}}),r}));var Oo=r(53129),Eo=["glyph","loading","text","textId","glyphClassName","loaderProps","children"];function wo(){return wo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wo.apply(this,arguments)}function Po(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const So=(0,Ge.compose)(so,ho)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.glyph,r=e.loading,n=e.text,o=void 0===n?"":n,i=e.textId,c=e.glyphClassName,p=void 0===c?"":c,f=e.loaderProps,d=void 0===f?{}:f,m=e.children,y=Po(e,Eo);return a().createElement(Oo.Z,(0,l.omit)(y,["pullRight","confirmNo","confirmYes"]),t&&!r?a().createElement(u.gG,{glyph:t,className:p}):null,i?a().createElement(s.Z,{msgId:i}):o,r?a().createElement(ao.Z,wo({className:"ms-loader".concat(y.bsStyle&&" ms-loader-"+y.bsStyle||"").concat(y.bsSize&&" ms-loader-"+y.bsSize||"")},d)):null,m)}));var jo=["visible","Element","renderButton"];function xo(){return xo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xo.apply(this,arguments)}function _o(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const Io=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.buttons,r=void 0===t?[]:t,n=e.btnGroupProps,o=void 0===n?{}:n,i=e.btnDefaultProps,l=void 0===i?{}:i,c=e.transitionProps,s=void 0===c?{transitionName:"toolbar-btn-transition",transitionEnterTimeout:300,transitionLeaveTimeout:300}:c,p=function(){return r.map((function(e,t){var r=e.visible,n=void 0===r||r,o=e.Element,i=e.renderButton,c=_o(e,jo);return n?i||o&&a().createElement(o,xo({key:c.key||t},c))||a().createElement(So,xo({key:c.key||t},l,c)):null}))};return a().createElement(u.hE,o,s?a().createElement(oo(),s,p()):p())};function Ao(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Co(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Co(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Co(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function To(e){var t=e.show,r=e.parcelle,n=e.onClose,i=Ao((0,o.useState)(!1),2),l=i[0],c=i[1],p=Ao((0,o.useState)("pdf"),2),f=p[0],d=p[1],m=Ao((0,o.useState)([]),2),y=m[0],v=m[1],g=Ao((0,o.useState)(!1),2),b=g[0],h=g[1];(0,o.useEffect)((function(){t&&r&&(h(!1),Te({parcelle:r}).then((function(e){return v(e)})))}),[t,r]);var O=Ao((0,o.useState)(),2),E=O[0],w=O[1];return(0,o.useEffect)((function(){y.length>0&&!b&&(h(!0),w(y[0].dnubat))}),[y]),a().createElement(Jt,{style:{maxHeight:"100%",overflowY:"auto",zIndex:1e4},dialogClassName:"cadastrapp-modal",show:t,onHide:n},a().createElement(Jt.Header,{closeButton:!0},a().createElement(Jt.Title,null,a().createElement(s.Z,{msgId:"cadastrapp.lots.title"})," ",r)),a().createElement(Jt.Body,null,a().createElement("div",null,a().createElement(s.Z,{msgId:"cadastrapp.lots.batiments"})),y.map((function(e){var t=e.dnubat;return a().createElement(u.zx,{bsStyle:E===t?"primary":void 0,onClick:function(){return w(t)}},t)}))),a().createElement(u.cw,null,a().createElement("b",{style:{float:"left",width:150,marginRight:15}},a().createElement(s.Z,{msgId:"cadastrapp.lots.type.title"}),":"),a().createElement(u.Y8,{checked:"pdf"===f,value:"pdf",onChange:function(){return d("pdf")},inline:!0},a().createElement(s.Z,{msgId:"cadastrapp.lots.type.pdf"})),a().createElement(u.Y8,{checked:"csv"===f,value:"csv",onChange:function(){return d("csv")},inline:!0},a().createElement(s.Z,{msgId:"cadastrapp.lots.type.csv"}))),a().createElement(Jt.Footer,null,a().createElement(u.zx,{disabled:l,bsStyle:"primary",onClick:function(){c(!0),("csv"===f?Re({parcelle:r,dnubat:E}):Le({parcelle:r,dnubat:E})).then((function(e){Mt(e),c(!1)})).catch((function(){c(!1)}))}},l?a().createElement(Ot(),{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}):null," Export")))}var No=r(44142),Do=r.n(No);function Ro(){return Ro=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ro.apply(this,arguments)}function Lo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ko(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lo(Object(r),!0).forEach((function(t){Mo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Bo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Uo=function(e){var t=e.item,r=void 0===t?{}:t;return a().createElement("span",null,a().createElement("img",{style:{width:"50px",height:"50px",borderRadius:"25px",margin:"5px 10px 5px 0"},src:r.thumbnail}),a().createElement("span",null,r.title))};function Go(e){var t=e.isCNIL1,r=e.isCNIL2,n=e.baseMaps,i=void 0===n?[]:n,l=e.parcelle,c=e.selectedStyle,p=void 0===c?{}:c,f=e.isShown,d=e.modalStyle,m=Fo((0,o.useState)(),2),y=m[0],v=m[1],g=Fo((0,o.useState)("0"),2),b=g[0],h=g[1],O=Fo((0,o.useState)(!1),2),E=O[0],w=O[1],P=f?"":"collapse",S=d?null:a().createElement("hr",null),j=function(e){var t=e.fillOpacity,r=e.fillColor,n=e.weight,o=e.color;return{opacity:t,fillcolor:Do()(r).toHex(),strokewidth:n,strokecolor:Do()(o).toHex()}}(p),x=j.opacity,_=j.fillcolor,I=j.strokewidth,A=j.strokecolor;return a().createElement("div",Ro({},d&&{style:d},{className:P}),S,a().createElement("div",{style:{width:d?"100%":"70%"},className:"pull-left"},t||r?a().createElement(u.cw,null,a().createElement("b",{className:"cadastrapp-formgroup-label"},a().createElement(s.Z,{msgId:"cadastrapp.bordereauparcellaire.data.title"}),": "),a().createElement(u.Y8,{inline:!0,checked:"0"===b,onChange:function(){return h("0")},value:"0"},a().createElement(s.Z,{msgId:"cadastrapp.bordereauparcellaire.data.without"})),a().createElement(u.Y8,{inline:!0,checked:"1"===b,onChange:function(){return h("1")},value:"1"},a().createElement(s.Z,{msgId:"cadastrapp.bordereauparcellaire.data.with"}))):null,a().createElement(u.cw,null,a().createElement("b",{className:"cadastrapp-formgroup-label"},a().createElement(s.Z,{msgId:"cadastrapp.bordereauparcellaire.basemap"}),":"),a().createElement("div",{style:{float:"left"}},a().createElement(Be.DropdownList,{style:{width:300},value:y,defaultValue:i[0],onSelect:function(e){return v(e)},textField:"title",data:i,itemComponent:Uo})))),a().createElement("div",{style:{width:d?"100%":"30%"},className:"pull-left"},a().createElement(u.zx,{disabled:E,onClick:function(){var e,n,o=i.indexOf(y),a=o>=0?o:0;w(!0),(e=ko(ko({fillcolor:_,opacity:x,strokecolor:A,strokewidth:I,parcelle:l},(t||r)&&{personaldata:b}),{},{basemapindex:a}),n={parcelle:e.parcelle,personaldata:e.personaldata,basemapindex:e.basemapindex,fillcolor:e.fillcolor,opacity:e.opacity,strokecolor:e.strokecolor,strokewidth:e.strokewidth},Oe().get("".concat(Se,"/services/createBordereauParcellaire"),{params:n,responseType:"arraybuffer"})).then((function(e){w(!1),Mt(e)})).catch((function(){w(!1)}))},className:"pull-right"},E?a().createElement(Ot(),{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}):null,a().createElement(s.Z,{msgId:"cadastrapp.bordereauparcellaire.export"}))),S)}function Zo(e){var t,r,n=e.isCNIL1,i=e.isCNIL2,l=e.selectedStyle,c=e.parcelle,p=e.fiuc,f=e.onGeneratePlotInformation,d=void 0===f?function(){}:f,m=e.baseMaps,y=void 0===m?[]:m,v=Fo((0,o.useState)(!1),2),g=v[0],b=v[1];return p?a().createElement(a().Fragment,null,a().createElement("div",{style:{margin:10}},a().createElement(u.zx,{bsStyle:g?"primary":"default",onClick:function(){b(!g)}},a().createElement(u.gG,{style:{marginRight:4},glyph:"1-pdf"}),a().createElement(s.Z,{msgId:"cadastrapp.bordereauparcellaire.title"}))),a().createElement(Go,{isCNIL1:n,isCNIL2:i,parcelle:c,isShown:g,baseMaps:y,onGeneratePlotInformation:d,selectedStyle:l}),a().createElement(u.iA,{condensed:!0},a().createElement("thead",null,a().createElement("tr",null,a().createElement("th",null,a().createElement(s.Z,{msgId:"cadastrapp.ficu.description"})),a().createElement("th",null,a().createElement(s.Z,{msgId:"cadastrapp.ficu.value"})))),a().createElement("tbody",null,a().createElement("tr",null,a().createElement("td",null,a().createElement(s.Z,{msgId:"cadastrapp.ficu.commune"})),a().createElement("td",null,p.libcom+" ("+p.cgocommune+")")),a().createElement("tr",null,a().createElement("td",null,a().createElement(s.Z,{msgId:"cadastrapp.ficu.section"})),a().createElement("td",null,p.ccopre+p.ccosec)),a().createElement("tr",null,a().createElement("td",null,a().createElement(s.Z,{msgId:"cadastrapp.ficu.parcelle"})),a().createElement("td",null,p.dnupla)),a().createElement("tr",null,a().createElement("td",null,a().createElement(s.Z,{msgId:"cadastrapp.ficu.voie"})),a().createElement("td",null,p.ccoriv)),a().createElement("tr",null,a().createElement("td",null,a().createElement(s.Z,{msgId:"cadastrapp.ficu.adresse"})),a().createElement("td",null,p.dnvoiri+p.dindic+" "+p.cconvo+" "+p.dvoilib)),a().createElement("tr",null,a().createElement("td",null,a().createElement(s.Z,{msgId:"cadastrapp.ficu.contenancedgfip"})),a().createElement("td",null,null==p||null===(t=p.dcntpa)||void 0===t?void 0:t.toLocaleString())),a().createElement("tr",null,a().createElement("td",null,a().createElement(s.Z,{msgId:"cadastrapp.ficu.contenancesig"})),a().createElement("td",null,null==p||null===(r=p.surfc)||void 0===r?void 0:r.toLocaleString())),a().createElement("tr",null,a().createElement("td",null,a().createElement(s.Z,{msgId:"cadastrapp.ficu.batie"})),a().createElement("td",null,a().createElement(s.Z,{msgId:"1"===p.gparbat?"cadastrapp.ficu.yes":"cadastrapp.ficu.no"}))),a().createElement("tr",null,a().createElement("td",null,a().createElement(s.Z,{msgId:"cadastrapp.ficu.urbain"})),a().createElement("td",null,a().createElement(s.Z,{msgId:"U"===p.gurbpa?"cadastrapp.ficu.yes":"cadastrapp.ficu.no"})))))):"Loading"}var qo=["show","onClose","parcelle"];function zo(){return zo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zo.apply(this,arguments)}const Wo=(0,i.connect)((function(e){return{baseMaps:B(e),selectedStyle:$(e)}}))((function(e){var t=e.show,r=e.onClose,n=e.parcelle,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,qo),i=n.join(",");return a().createElement(Jt,{dialogClassName:"cadastrapp-export-modal",show:t,onHide:r},a().createElement(Jt.Header,{closeButton:!0},a().createElement(u.Ox,{placement:"bottom",overlay:a().createElement(u.u,null,i)},a().createElement(Jt.Title,{className:"cadastrapp-export-plots"},"Plot information - ".concat(i)))),a().createElement(Jt.Body,{style:{minHeight:100}},a().createElement(Go,zo({isShown:!0,modalStyle:{display:"flex",flexDirection:"column"},parcelle:i},o))))}));function Ho(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||Ko(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ko(e,t){if(e){if("string"==typeof e)return Vo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vo(e,t):void 0}}function Vo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yo(e){var t,r=e.foncier,n=e.authLevel,i=void 0===n?{}:n,l=e.currentData,c=void 0===l?[]:l,p=e.loadInfo,f=void 0===p?function(){}:p,d=e.zoomToSelection,m=void 0===d?function(){}:d,y=e.removePlots,v=void 0===y?function(){}:y,g=e.showLandedPropertyInformationByParcelle,b=void 0===g?function(){}:g,h=e.selectedPlots,O=void 0===h?[]:h,E=O.length>0,w=1===O.length,P=c.length>0,S=i.isCNIL1,j=i.isCNIL2,x=Ho((0,o.useState)(!1),2),_=x[0],I=x[1],A=Ho((0,o.useState)(!1),2),C=A[0],T=A[1];return a().createElement(a().Fragment,null,a().createElement(Io,{btnGroupProps:{className:"pull-right"},btnDefaultProps:{tooltipPosition:"bottom"},buttons:[{disabled:!P,glyph:"zoom-in",tooltipId:E?"cadastrapp.result.parcelle.zoom.selection":"cadastrapp.result.parcelle.zoom.list",onClick:m}].concat((t=r?[{disabled:!w,glyph:"th-list",tooltipId:"cadastrapp.result.parcelle.uf",onClick:function(){b((0,R.find)(c,{parcelle:O[0]}))}}]:[],function(e){if(Array.isArray(e))return Vo(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||Ko(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{disabled:!E,glyph:"trash",tooltipId:"cadastrapp.result.parcelle.delete",onClick:function(){v(O)}},{disabled:!E,glyph:"info-sign",tooltipId:"cadastrapp.result.parcelle.fiche",onClick:function(){f(O)}},S||j?{renderButton:a().createElement(u.PS,{disabled:!E,pullRight:!0,title:a().createElement(u.gG,{glyph:"export"})},a().createElement(u.sN,{onClick:function(){return ke({parcelles:O}).then(Mt)}},a().createElement(s.Z,{msgId:"cadastrapp.result.csv.button.parcelles"})),a().createElement(u.sN,{onClick:function(){return(e={parcelles:O},t=e.parcelles,r=new URLSearchParams,r.append("parcelles",(0,R.castArray)(t).join(",")),Oe().post("".concat(Se,"/services/exportProprietaireByParcelles"),r,{responseType:"arraybuffer"})).then(Mt);var e,t,r}},a().createElement(s.Z,{msgId:"cadastrapp.result.csv.button.owner"})),a().createElement(u.sN,{onClick:function(){return(e={parcelles:O},t=e.parcelles,r=new URLSearchParams,r.append("parcelles",(0,R.castArray)(t).join(",")),Oe().post("".concat(Se,"/services/exportCoProprietaireByParcelles"),r,{responseType:"arraybuffer"})).then(Mt);var e,t,r}},a().createElement(s.Z,{msgId:"cadastrapp.result.csv.button.coowner"})),a().createElement(u.sN,{disabled:!w,onClick:function(){w&&I(!0)}},a().createElement(s.Z,{msgId:"cadastrapp.result.csv.button.bundle"})),a().createElement(u.sN,{onClick:function(){return T(!0)}},a().createElement(s.Z,{msgId:"cadastrapp.result.pdf.export"})))}:{renderButton:a().createElement(u.PS,{disabled:!P||!E,pullRight:!0,title:a().createElement(u.gG,{glyph:"export"})},a().createElement(u.sN,{onClick:function(){return ke({parcelles:O}).then(Mt)}},a().createElement(s.Z,{msgId:"cadastrapp.result.csv.export"})),a().createElement(u.sN,{onClick:function(){return T(!0)}},a().createElement(s.Z,{msgId:"cadastrapp.result.pdf.export"})))}])}),a().createElement(To,{show:_,onClose:function(){return I(!1)},parcelle:O[0]}),a().createElement(Wo,{show:C,onClose:function(){return T(!1)},parcelle:O,isCNIL1:S,isCNIL2:j}))}var Xo=r(80307),Jo=r.n(Xo),Qo=r(75232),$o=r.n(Qo);function ea(e){return ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ea(e)}function ta(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ra(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ta(Object(r),!0).forEach((function(t){ua(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ta(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function na(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function aa(e,t){return aa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},aa(e,t)}function ia(e,t){if(t&&("object"===ea(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return la(e)}function la(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ca(e){return ca=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ca(e)}function ua(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var sa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aa(e,t)}(l,e);var t,r,n,o,i=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ca(n);if(o){var r=ca(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return ia(this,e)});function l(){var e;na(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ua(la(e=i.call.apply(i,[this].concat(r))),"renderLoading",(function(){return e.props.maskLoading?a().createElement("div",{style:{width:"100%",height:"100%",position:"absolute",overflow:"visible",margin:"auto",verticalAlign:"center",left:"0",background:"rgba(255, 255, 255, 0.5)",zIndex:2}},a().createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -40%)"}},a().createElement(s.Z,{msgId:"loading"}),a().createElement(Ot(),{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}))):null})),ua(la(e),"renderRole",(function(t){return a().Children.toArray(e.props.children).filter((function(e){return e.props.role===t}))})),ua(la(e),"hasRole",(function(t){return a().Children.toArray(e.props.children).filter((function(e){return e.props.role===t})).length>0})),ua(la(e),"onClickOut",(function(t){e.props.onClickOut&&e.mask===t.target&&e.props.onClickOut(t)})),e}return t=l,(r=[{key:"render",value:function(){var e=this,t=a().createElement("div",{id:this.props.id,style:ra({zIndex:3},this.props.style),className:"".concat(this.props.draggable?"modal-dialog-draggable":""," ").concat(this.props.className," modal-dialog-container")},a().createElement("div",{className:this.props.headerClassName+" draggable-header"},this.renderRole("header")),a().createElement("div",{className:this.props.bodyClassName},this.renderLoading(),this.renderRole("body")),this.hasRole("footer")?a().createElement("div",{className:this.props.footerClassName},this.renderRole("footer")):a().createElement("span",null)),r=this.props.draggable?a().createElement($o(),{defaultPosition:this.props.start,bounds:this.props.bounds,handle:".draggable-header, .draggable-header *"},t):t,n=D()({},this.props.style.display?{display:this.props.style.display}:{},this.props.backgroundStyle);return this.props.modal?a().createElement("div",{ref:function(t){e.mask=t},onClick:this.onClickOut,style:n,className:"fade in modal "+this.props.containerClassName,role:"dialog"},r):r}}])&&oa(t.prototype,r),l}(a().Component);ua(sa,"propTypes",{id:Fe().string.isRequired,style:Fe().object,backgroundStyle:Fe().object,className:Fe().string,maskLoading:Fe().bool,containerClassName:Fe().string,headerClassName:Fe().string,bodyClassName:Fe().string,footerClassName:Fe().string,onClickOut:Fe().func,modal:Fe().bool,start:Fe().object,draggable:Fe().bool,bounds:Fe().oneOfType([Fe().string,Fe().object])}),ua(sa,"defaultProps",{style:{},backgroundStyle:{background:"rgba(0,0,0,.5)"},start:{x:0,y:150},className:"modal-dialog modal-content",maskLoading:!1,containerClassName:"",headerClassName:"modal-header",bodyClassName:"modal-body",footerClassName:"modal-footer",modal:!1,draggable:!0,bounds:"parent"});const pa=sa;function fa(e){return fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fa(e)}function da(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ma(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ya(e,t){return ya=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ya(e,t)}function va(e,t){if(t&&("object"===fa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ga(e)}function ga(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ba(e){return ba=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ba(e)}function ha(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Oa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ya(e,t)}(l,e);var t,r,n,o,i=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ba(n);if(o){var r=ba(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return va(this,e)});function l(){var e;da(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ha(ga(e=i.call.apply(i,[this].concat(r))),"setConfirmRef",(function(t){return e.confirm=t,e.confirm})),e}return t=l,(r=[{key:"componentDidMount",value:function(){this.props.focusConfirm&&Jo().findDOMNode(this.confirm).focus()}},{key:"render",value:function(){return a().createElement(pa,{draggable:this.props.draggable,onClickOut:this.props.onClose,id:"confirm-dialog",modal:this.props.modal,style:D()({},this.props.style,{display:this.props.show?"block":"none"})},a().createElement("span",{role:"header"},a().createElement("span",{className:"user-panel-title"},this.props.title),a().createElement("button",{onClick:this.props.onClose,className:"login-panel-close close"},this.props.closeGlyph?a().createElement(u.gG,{glyph:this.props.closeGlyph}):a().createElement("span",null,"×"))),a().createElement("div",{role:"body"},this.props.children),a().createElement("div",{role:"footer"},a().createElement(u.hE,null,a().createElement(Oo.Z,{ref:this.setConfirmRef,onClick:this.props.onConfirm,disabled:this.props.confirmButtonDisabled,bsStyle:this.props.confirmButtonBSStyle},this.props.confirmButtonContent),a().createElement(Oo.Z,{onClick:this.props.onClose},this.props.closeText))))}}])&&ma(t.prototype,r),l}(a().Component);ha(Oa,"propTypes",{show:Fe().bool,draggable:Fe().bool,onClose:Fe().func,onConfirm:Fe().func,onSave:Fe().func,modal:Fe().bool,closeGlyph:Fe().string,style:Fe().object,buttonSize:Fe().string,inputStyle:Fe().object,title:Fe().node,confirmButtonContent:Fe().node,confirmButtonDisabled:Fe().bool,closeText:Fe().node,confirmButtonBSStyle:Fe().string,focusConfirm:Fe().bool}),ha(Oa,"defaultProps",{onClose:function(){},onChange:function(){},modal:!0,title:a().createElement(s.Z,{msgId:"confirmTitle"}),closeGlyph:"",confirmButtonBSStyle:"danger",confirmButtonDisabled:!1,confirmButtonContent:a().createElement(s.Z,{msgId:"confirm"})||"Confirm",closeText:a().createElement(s.Z,{msgId:"close"}),includeCloseButton:!0,focusConfirm:!1});const Ea=Oa;var wa=r(10947);const Pa=qt(wa.h_);var Sa=["confirming","confirmYes","confirmNo","confirmTitle","confirmContent","confirmModal","draggable","onConfirm","setConfirming"];var ja,xa=(0,Ge.compose)((0,Ge.withProps)((function(e){var t=e.setConfirming;return{onClose:function(){return t(!1)}}})))((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.confirmYes,r=void 0===t?a().createElement(s.Z,{msgId:"yes"}):t,n=e.confirmNo,o=void 0===n?a().createElement(s.Z,{msgId:"no"}):n,i=e.confirmTitle,l=void 0===i?a().createElement(s.Z,{msgId:"confirm"}):i,c=e.confirmContent,u=e.confirmButtonBSStyle,p=void 0===u?"primary":u,f=e.show,d=void 0!==f&&f,m=e.confirmModal,y=void 0===m||m,v=e.draggable,g=void 0!==v&&v,b=e.onClose,h=void 0===b?function(){}:b,O=e.onConfirm,E=void 0===O?function(){}:O;return d?a().createElement(Pa,null,a().createElement("div",{className:"with-confirm-modal"},a().createElement(Ea,{draggable:g,show:d,modal:y,onClose:h,onConfirm:E,title:l,confirmButtonContent:r,closeText:o,confirmButtonBSStyle:p,closeGlyph:"1-close"},c))):null}));const _a=(ja=u.zx,(0,Ge.compose)((0,Ge.withState)("confirming","setConfirming",!1),(0,Ge.withHandlers)({onClick:function(e){var t=e.setConfirming,r=void 0===t?function(){}:t,n=e.onClick,o=void 0===n?function(){}:n,a=e.confirmPredicate,i=void 0===a||a;return function(){i?r(!0):o.apply(void 0,arguments)}},onConfirm:function(e){var t=e.onClick,r=void 0===t?function(){}:t,n=e.setConfirming,o=void 0===n?function(){}:n;return function(){o(!1),r.apply(void 0,arguments)}}}),(function(e){return function(t){var r=t.confirming,n=t.confirmYes,o=t.confirmNo,i=t.confirmTitle,l=t.confirmContent,c=t.confirmModal,u=t.draggable,s=t.onConfirm,p=t.setConfirming,f=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,Sa);return a().createElement(a().Fragment,null,a().createElement(xa,{show:r,setConfirming:p,confirmYes:n,confirmNo:o,confirmTitle:i,confirmContent:l,confirmModal:c,draggable:u,onConfirm:s}),a().createElement(e,f))}}))(ja));var Ia=["loading","loadInfo","selectedPlots","onRowsSelected","onRowsDeselected"],Aa=["active","onTabChange","data","plots"];function Ca(){return Ca=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ca.apply(this,arguments)}function Ta(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Na(e){var t=e.loading,r=e.loadInfo,n=e.selectedPlots,o=e.onRowsSelected,i=e.onRowsDeselected,l=Ta(e,Ia);return a().createElement(u.JX,{sm:12},a().createElement(u.OK.Content,{unmountOnExit:!0},l.data.map((function(e,c){var p,f,d,m,y,v,g,b;return a().createElement(u.OK.Pane,{eventKey:c},a().createElement(ro,{onRowDoubleClick:function(e,t){return r([t.parcelle])},onRowsSelected:o,onRowsDeselected:i,selectedKeys:n,data:l.data[c],tablloadingeIndex:c}),a().createElement("div",{style:{height:25}},a().createElement("span",{style:{float:"right"}},null!==(p=null===(f=l.data)||void 0===f||null===(d=f[c])||void 0===d?void 0:d.length)&&void 0!==p?p:0," ",a().createElement(s.Z,{msgId:"cadastrapp.parcelle.result.items",msgParams:{number:null!==(m=null===(y=l.data)||void 0===y||null===(v=y[c])||void 0===v?void 0:v.length)&&void 0!==m?m:0}}),"  (",null!==(g=null==n?void 0:n.length)&&void 0!==g?g:0," ",a().createElement(s.Z,{msgId:"cadastrapp.parcelle.result.selected",msgParams:{number:null!==(b=null==n?void 0:n.length)&&void 0!==b?b:0}}),")"),t?a().createElement(Ot(),{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}):null))}))))}function Da(e){var t=e.onNewTab,r=void 0===t?function(){}:t,n=e.onTabDelete,o=void 0===n?function(){}:n;return a().createElement(u.hE,{className:"pull-right"},a().createElement(u.Ox,{placement:"bottom",overlay:a().createElement(u.u,null,a().createElement(s.Z,{msgId:"cadastrapp.search.addTab"}))},a().createElement(u.zx,{className:"pull-right",onClick:r},a().createElement("span",{className:"glyphicon glyphicon-plus"}))),a().createElement(u.Ox,{placement:"bottom",overlay:a().createElement(u.u,null,a().createElement(s.Z,{msgId:"cadastrapp.search.deleteTab"}))},a().createElement(_a,{className:"pull-right",confirmContent:a().createElement(s.Z,{msgId:"cadastrapp.search.confirmDeleteTab"}),onClick:o},a().createElement(u.gG,{glyph:"trash"}))))}function Ra(e){var t=e.active,r=e.onTabChange,n=e.data,o=e.plots,i=Ta(e,Aa),l=function(e,t){var r;return null!==(r=null==e?void 0:e.title)&&void 0!==r?r:"Selection "+(t+1).toString()};return a().createElement(u.OK.Container,{onSelect:r,activeKey:t,defaultActiveKey:t},a().createElement(u.X2,{className:"clearfix"},a().createElement(u.JX,{sm:12},a().createElement(u.JL,{bsStyle:"tabs"},o.slice(0,o.length>3?2:3).map((function(e,t){return a().createElement(u.LY,{role:"tab",eventKey:t},l(e,t))})),o.length>3?a().createElement(u._J,{title:t<2?"More...":l(o[t],t)},o.slice(2).map((function(e,t){return a().createElement(u.sN,{eventKey:t+3-1},l(e,t+3-1))}))):null,a().createElement(Da,Ca({},i,{data:n})))),a().createElement(Na,Ca({},i,{data:n}))))}function La(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ka(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fa(){var e,t,r=(e=(0,o.useState)({}),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ma(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ma(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=r[0],a=r[1];return[n,function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?La(Object(r),!0).forEach((function(t){ka(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):La(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},n);t[e]?t[e]=!1:t[e]=!0,a(t)}]}function Ba(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ua(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ba(Object(r),!0).forEach((function(t){Ga(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ba(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ga(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Za=[{name:"cadastrapp.proprietaires.ccodro",resizable:!0,width:70,key:"ccodro"},{name:"cadastrapp.duc.compte",width:130,resizable:!0,key:"comptecommunal"},{width:200,name:"cadastrapp.duc.nom",resizable:!0,key:"app_nom_usage"},{id:"adresse",width:300,name:"cadastrapp.duc.adresse",resizable:!0,key:"adresse"},{width:120,name:"cadastrapp.duc.datenaissance",resizable:!0,key:"jdatnss"},{width:120,name:"cadastrapp.duc.lieunaissance",resizable:!0,key:"dldnss"},{width:200,name:"cadastrapp.duc.cco_lib",resizable:!0,key:"ccodro_lib"},{width:120,name:"cadastrapp.duc.dformjur",resizable:!0,key:"dformjur"}];function qa(e){var t=e.loading,r=e.onRowClick,n=void 0===r?function(){}:r,o=e.onRowsSelected,i=void 0===o?function(){}:o,l=e.onRowsDeselected,c=void 0===l?function(){}:l,u=e.data,s=e.selected,p=void 0===s?[]:s;if(!u)return null;var f=t?[]:u.map((function(e){return Ua(Ua({},e),{},{cadastralAddr:e.dnvoiri+" "+e.dvoilib})}));return a().createElement(mr,{onRowClick:n,emptyRowsView:function(){return a().createElement(vr,{loading:t})},rowGetter:function(e){return f[e]},rowsCount:f.length,minHeight:250,columns:Za,rowSelection:{showCheckbox:!0,enableShiftSelect:!0,onRowsSelected:i,onRowsDeselected:c,selectBy:{indexes:p}}})}qa.propTypes={data:Fe().array};const za=qa;function Wa(){return Wa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wa.apply(this,arguments)}function Ha(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ka(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ka(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ka(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Va(e){var t=e.owners,r=void 0===t?[]:t,n=e.parcelle,i=Ha((0,o.useState)(!1),2),l=i[0],c=i[1],p=Ha((0,o.useState)([]),2),f=p[0],d=p[1],m=f.length>0;return a().createElement(a().Fragment,null,a().createElement("div",{style:{margin:10}},a().createElement(u.zx,Wa({bsStyle:l?"primary":"default",onClick:function(){c(!l)}},m?{}:{disabled:"true"}),a().createElement(u.gG,{style:{marginRight:4},glyph:"1-pdf"}),a().createElement(s.Z,{msgId:"cadastrapp.duc.releve.depropriete"}))),a().createElement(Ut,{parcelle:n,expanded:l,data:r,selected:f}),a().createElement(za,{data:r,selected:f,onRowClick:function(e){(null==e?void 0:e.rowIdx)>=0&&d([e.rowIdx])},onRowsSelected:function(e){return d(f.concat(e.map((function(e){return e.rowIdx}))))},onRowsDeselected:function(e){return d(f.filter((function(t){return-1===e.map((function(e){return e.rowIdx})).indexOf(t)})))}}))}function Ya(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xa(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const Ja=function(e){var t=e.data,r=void 0===t?[]:t,n=e.setData,i=void 0===n?function(){}:n,l=e.loadData,c=void 0===l?function(){}:l,s=e.bsSize,p=e.selected,f=void 0===p?[]:p,d=e.setSelected,m=e.onRowsSelected,y=e.onRowsDeselected,v=Ya((0,o.useState)(!1),2),g=v[0],b=v[1],h=Ya((0,o.useState)(0),2),O=h[0],E=h[1],w=Ya((0,o.useState)(0),2),P=w[0],S=w[1];return(0,o.useEffect)((function(){b(!0),c({start:25*P,limit:25}).then((function(e){var t=e.results,r=e.rows;i(void 0===r?[]:r),E(t),d([]),b(!1)})).catch((function(){b(!1)}))}),[P]),(0,o.useEffect)((function(){setTimeout((function(){window.dispatchEvent(new Event("resize"))}),1e3)}),[]),a().createElement(a().Fragment,null,a().createElement(za,{data:r,selected:f,onRowsSelected:m,onRowsDeselected:y}),a().createElement(u.tl,{prev:!0,next:!0,first:!0,last:!0,ellipsis:!0,boundaryLinks:!0,items:Math.ceil(O/25),maxButtons:5,bsSize:s,activePage:P+1,onSelect:function(e){return S(e-1)}}),a().createElement("div",{style:{float:"right"}},25*P+1,"-",25*P+r.length," of ",O," (",f.length," Selected)"),g?a().createElement("div",{style:{float:"right"}},a().createElement(Ot(),{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"})):null)};function Qa(){return Qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qa.apply(this,arguments)}function $a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ei(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ei(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ti(e){var t=e.parcelle,r=$a((0,o.useState)(!1),2),n=r[0],i=r[1],l=$a((0,o.useState)([]),2),c=l[0],p=l[1],f=$a((0,o.useState)([]),2),d=f[0],m=f[1],y=d.length>0;return a().createElement(a().Fragment,null,a().createElement("div",{style:{margin:10}},a().createElement(u.zx,Qa({bsStyle:n?"primary":"default",onClick:function(){i(!n)}},y?{}:{disabled:"true"}),a().createElement(u.gG,{style:{marginRight:4},glyph:"1-pdf"}),a().createElement(s.Z,{msgId:"cadastrapp.duc.releve.depropriete"}))),a().createElement(Ut,{parcelle:t,expanded:n,data:c,selected:d}),a().createElement(Ja,{data:c,setData:p,setSelected:m,loadData:function(e){return r={start:e.start,limit:e.limit,parcelle:t},a={parcelle:r.parcelle,start:void 0===(n=r.start)?0:n,limit:void 0===(o=r.limit)?99999:o},Oe().get("".concat(Se,"/services/getCoProprietaire"),{params:a}).then((function(e){return e.data}));var r,n,o,a},selected:d,onRowsSelected:function(e){return m(d.concat(e.map((function(e){return e.rowIdx}))))},onRowsDeselected:function(e){return m(d.filter((function(t){return-1===e.map((function(e){return e.rowIdx})).indexOf(t)})))}}))}function ri(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ni(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ni(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ni(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oi(e){var t=e.show,r=e.dnubat,n=e.parcelle,i=t?"":"collapse",l=ri((0,o.useState)("pdf"),2),c=l[0],p=l[1],f=ri((0,o.useState)(!1),2),d=f[0],m=f[1];return a().createElement("div",{className:i},a().createElement("hr",null),a().createElement("div",{style:{width:"70%"},className:"pull-left"},a().createElement(u.cw,null,a().createElement("b",{style:{float:"left",width:150,marginRight:15}},a().createElement(s.Z,{msgId:"cadastrapp.lots.type.title"}),":"),a().createElement(u.Y8,{checked:"pdf"===c,value:"pdf",onChange:function(){return p("pdf")},inline:!0},a().createElement(s.Z,{msgId:"cadastrapp.lots.type.pdf"})),a().createElement(u.Y8,{checked:"csv"===c,value:"csv",onChange:function(){return p("csv")},inline:!0},a().createElement(s.Z,{msgId:"cadastrapp.lots.type.csv"})))),a().createElement("div",{style:{width:"30%"},className:"pull-left"},a().createElement(u.zx,{disabled:d,onClick:function(){m(!0),("csv"===c?Re:Le)({dnubat:r,parcelle:n}).then((function(e){m(!1),Mt(e)})).catch((function(){m(!1)}))},className:"pull-right"},d?a().createElement(Ot(),{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}):null,"Export")),a().createElement("hr",null))}function ai(e){var t=e.setShowDescription,r=void 0===t?function(){}:t,n=e.selected,i=void 0===n?[]:n,l=e.data,c=void 0===l?[]:l,p=e.dnubat,f=e.parcelle,d=ri((0,o.useState)(!1),2),m=d[0],y=d[1],v=ri((0,o.useState)(!1),2),g=v[0],b=v[1];return(0,o.useEffect)((function(){0===i.length&&y(!1)}),[i]),a().createElement(a().Fragment,null,a().createElement(u.hE,{className:"pull-right"},a().createElement(u.Ox,{placement:"bottom",overlay:a().createElement(u.u,null,a().createElement(s.Z,{msgId:"cadastrapp.duc.releve.depropriete"}))},a().createElement(u.zx,{disabled:0===i.length,bsStyle:m?"primary":"default",onClick:function(){b(!1),y(!m)}},a().createElement(u.gG,{glyph:"th-list"}))),a().createElement(u.Ox,{placement:"bottom",overlay:a().createElement(u.u,null,a().createElement(s.Z,{msgId:"cadastrapp.duc.batiment_descriptif"}))},a().createElement(u.zx,{onClick:function(){return r(!0)},disabled:0===i.length},a().createElement(u.gG,{glyph:"info-sign"}))),a().createElement(u.Ox,{placement:"bottom",overlay:a().createElement(u.u,null,a().createElement(s.Z,{msgId:"cadastrapp.duc.batiment_bundle"}))},a().createElement(u.zx,{bsStyle:g?"primary":"default",onClick:function(){y(!1),b(!g)}},a().createElement(u.gG,{glyph:"compressed"})))),a().createElement(Ut,{parcelle:f,expanded:m,data:c,selected:i}),a().createElement(oi,{dnubat:p,parcelle:f,show:g}))}function ii(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function li(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ci=function(e){var t=e.loading,r=(e.onRowClick,e.onRowDoubleClick),n=void 0===r?function(){}:r,o=e.onRowsSelected,i=void 0===o?function(){}:o,l=e.onRowsDeselected,c=void 0===l?function(){}:l,u=e.data,s=void 0===u?[]:u,p=e.selected,f=void 0===p?[]:p;if(!s)return null;var d=t?[]:s.map((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ii(Object(r),!0).forEach((function(t){li(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ii(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({originalIndex:t},e)}));return a().createElement(mr,{emptyRowsView:function(){return a().createElement(vr,{loading:t})},rowGetter:function(e){return d[e]},rowsCount:d.length,minHeight:250,columns:[{name:"cadastrapp.duc.batiment_niveau",resizable:!0,key:"dniv"},{name:"cadastrapp.duc.door",resizable:!0,key:"dpor"},{name:"cadastrapp.duc.type",resizable:!0,key:"ccoaff_lib"},{name:"cadastrapp.duc.annee_construction",resizable:!0,width:170,key:"jannat"},{name:"cadastrapp.duc.revenu",resizable:!0,key:"revcad"},{name:"cadastrapp.duc.compte",resizable:!0,key:"comptecommunal"},{name:"cadastrapp.duc.nom_usage",resizable:!0,width:150,key:"app_nom_usage"},{name:"cadastrapp.duc.nom_naissance",resizable:!0,width:150,key:"app_nom_naissance"},{name:"cadastrapp.duc.invar",resizable:!0,key:"invar"}],onRowClick:function(e,t){e>=0&&i([{rowIdx:e,row:t}])},onRowDoubleClick:n,rowSelection:{showCheckbox:!1,enableShiftSelect:!1,onRowsSelected:i,onRowsDeselected:c,selectBy:{keys:{rowKey:"originalIndex",values:f}}}})};var ui=["articleType"];function si(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?si(Object(r),!0).forEach((function(t){fi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):si(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function di(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return mi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yi(e){var t=e.articleType,r=e.dnudes,n=e.ccocac;switch(t){case"article40":return"Habitation    "+r;case"article50":return"Partie professionelle - "+n;case"article60":return"Dépendance(s)  "+r}}function vi(e){var t=e.detent,r=e.dsupdc,n=e.dnbniv,o=e.dnbppr,i=e.dnbpdc,l=e.dmatgmdesc,c=e.dmattodesc,u=e.dnbsam,s=e.dnbcha,p=e.dnbcu8,f=e.dnbcu9,d=e.dnbsea,m=e.dnbann,y=e.dnbbai,v=e.dnblav,g=e.dnbdou,b=e.dnbwc,h=e.gelelc,O=e.geaulc,E=e.ggazlc,w=e.gchclc,P=e.gteglc,S=e.gesclc,j=e.gaslc,x=e.gvorlc;if(null!==t)return a().createElement("div",{className:"article40"},a().createElement("div",{className:"habitationDetailsMenuTitle"}," Caractéristiques générales "),t&&"00"!==t?a().createElement("div",null," État d'entretien  :   ",t," "):null,r&&"00"!==r?a().createElement("div",null," Surface habitable  :   ",r," m²"):null,o&&i&&"00"!==i?a().createElement("div",null," Nombre de pièces  :   ",i.replace(/^0+/,"")," dont ",o.replace(/^0+/,"")," principales"):null,n&&"00"!==n?a().createElement("div",null," Nombre de niveaux  :  ",n.replace(/^0+/,"")):null,l?a().createElement(a().Fragment,null,a().createElement("div",{className:"habitationDetailsMenuTitle"}," Type de matériaux pour les murs"),a().createElement("div",null,l)):null,c?a().createElement(a().Fragment,null,a().createElement("div",{className:"habitationDetailsMenuTitle"}," Type de matériaux pour la toiture"),a().createElement("div",null,c)):null,a().createElement("div",{className:"habitationDetailsMenuTitle"},"Répartition des pièces"),u&&"00"!==u?a().createElement("div",null,u.replace(/^0+/,"")," salle(s) à manger"):null,s&&"00"!==s?a().createElement("div",null,s.replace(/^0+/,"")," chambre(s)"):null,p&&"00"!==p?a().createElement("div",null,p.replace(/^0+/,"")," cuisine(s) de moins de 9 m²"):null,f&&"00"!==f?a().createElement("div",null,f.replace(/^0+/,"")," cuisine(s) d'au moins 9 m²"):null,d&&"00"!==d?a().createElement("div",null,d.replace(/^0+/,"")," salle(s) de bain"):null,m&&"00"!==m?a().createElement("div",null,m.replace(/^0+/,"")," annexe(s)"):null,a().createElement("div",{className:"habitationDetailsMenuTitle"},"Eléments de confort"),y&&"00"!==y?a().createElement("div",null,y.replace(/^0+/,"")," baignoire(s)"):null,v&&"00"!==v?a().createElement("div",null,v.replace(/^0+/,"")," lavabo(s)"):null,g&&"00"!==g?a().createElement("div",null,g.replace(/^0+/,"")," douche(s)"):null,b&&"00"!==b?a().createElement("div",null,b.replace(/^0+/,"")," WC"):null,O&&"O"===O?a().createElement("div",null,"Eau"):null,h&&"O"===h?a().createElement("div",null,"Électricité"):null,E&&"O"===E?a().createElement("div",null,"Gaz"):null,w&&"O"===w?a().createElement("div",null,"Chauffage central"):null,P&&"O"===P?a().createElement("div",null,"Tout à l'égoût"):null,S&&"O"===S?a().createElement("div",null,"Escalier de service"):null,j&&"O"===j?a().createElement("div",null,"Ascenseur"):null,x&&"O"===x?a().createElement("div",null,"Vide-ordure"):null)}function gi(e){var t=e.ccocac_lib,r=e.dsupot,n=e.dsup1,o=e.dsup2,i=e.dsup3,l=e.dsupk1,c=e.dsupk2;return a().createElement("div",{className:"article50"},a().createElement("div",{className:"profCategorie"},t),a().createElement("div",{className:"profDetails"},a().createElement("span",{className:"profDetailsLabel"},"Surface pondérée "),r," m²"),a().createElement("div",{className:"profDetails"},a().createElement("span",{className:"profDetailsLabel"},"Surface des parties principales "),n," m²"),a().createElement("div",{className:"profDetails"},a().createElement("span",{className:"profDetailsLabel"},"Surface des parties secondaires couvertes "),o," m²"),a().createElement("div",{className:"profDetails"},a().createElement("span",{className:"profDetailsLabel"},"Surface des parties secondaires non couvertes "),i," m²"),a().createElement("div",{className:"profDetails"},a().createElement("span",{className:"profDetailsLabel"},"Surface des stationnements couverts "),l," m²"),a().createElement("div",{className:"profDetails"},a().createElement("span",{className:"profDetailsLabel"},"Surface des stationnements non couverts "),c," m²"))}function bi(e){var t=e.cconad_lib,r=e.dsudep,n=e.dmatgmdesc,o=e.dmattodesc,i=e.dnbbai,l=e.dnbdou,c=e.dnblav,u=e.dnbwc,s=e.geaulc,p=e.gelelc,f=e.gchclc;return a().createElement("div",{className:"article60"},a().createElement("div",null,t," ",r," m²"),n?a().createElement(a().Fragment,null,a().createElement("div",{className:"habitationDetailsMenuTitle"},"Type de matériaux pour les murs"),a().createElement("div",null," ",n)):null,o?a().createElement(a().Fragment,null,a().createElement("div",{className:"habitationDetailsMenuTitle"},"Type de matériaux pour la toiture"),a().createElement("div",null," ",o)):null,i&&"00"!==i?a().createElement("div",null," ",i.replace(/^0+/,"")," Baignoire(s)"):null,l&&"00"!==l?a().createElement("div",null," ",l.replace(/^0+/,"")," Douche(s)"):null,c&&"00"!==c?a().createElement("div",null," ",c.replace(/^0+/,"")," Lavabo(s)"):null,u&&"00"!==u?a().createElement("div",null,u.replace(/^0+/,"")," WC"):null,s&&"0"===s?a().createElement("div",null,"Eau"):null,p&&"0"===p?a().createElement("div",null,"Électricité"):null,f&&"0"===f?a().createElement("div",null,"Chauffage central"):null)}function hi(e){var t=e.articleType,r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,ui);switch(t){case"article40":return a().createElement(vi,r);case"article50":return a().createElement(gi,r);case"article60":return a().createElement(bi,r)}}function Oi(e){var t=e.article40,r=void 0===t?[]:t,n=e.article50,i=void 0===n?[]:n,l=e.article60,c=void 0===l?[]:l,p=di(Fa(),2),f=p[0],d=p[1],m=di((0,o.useState)(!1),2),y=m[0],v=m[1],g=r.map((function(e){return pi({articleType:"article40"},e)})).concat(i.map((function(e){return pi({articleType:"article50"},e)}))).concat(c.map((function(e){return pi({articleType:"article60"},e)})));return(0,o.useEffect)((function(){!y&&g.length>0&&(v(!0),d("0"))}),[g]),a().createElement(u.eh,{onSelect:function(e){return d(e)}},0===g.length?a().createElement(s.Z,{msgId:"cadastrapp.nodata"}):g.map((function(e,t){var r=a().createElement("div",{onClick:function(){d(t)},className:"information-panel-title ".concat(f[t]?"selected":"unselected")},a().createElement(yi,e));return a().createElement(u.s_,{expanded:!!f[t.toString()],className:"mapstore-side-card ms-sm",collapsible:!0,eventKey:t.toString(),header:r},a().createElement(hi,e))})))}function Ei(e){var t=e.dnubat,r=e.row,n=e.show,i=e.onClose,l=di((0,o.useState)(!1),2),c=l[0],u=l[1],p=di((0,o.useState)({}),2),f=p[0],d=p[1];if((0,o.useEffect)((function(){if(n&&r){u(!0),d(void 0);var e=r.invar;(t={annee:r.annee,invar:e},o={invar:t.invar,annee:t.annee},Oe().get("".concat(Se,"/services/getHabitationDetails"),{params:o}).then((function(e){return e.data}))).then((function(e){d(e),u(!1)})).catch((function(){u(!1)}))}var t,o}),[n,r]),!r)return null;var m=r.dniv,y=r.dpor;return r.annee,r.invar,a().createElement(Jt,{style:{maxHeight:"100%",overflowY:"auto",zIndex:1e4},dialogClassName:"cadastrapp-modal cadastrapp-information-modal",show:n,onHide:i},a().createElement(Jt.Header,{closeButton:!0},a().createElement(Jt.Title,null," Batiment "+t+" - niveau "+m+" - porte "+y)),a().createElement(Jt.Body,null,f?a().createElement(Oi,f):c?a().createElement(s.Z,{msgId:"cadastrapp.loading"}):a().createElement(s.Z,{msgId:"cadastrapp.nodata"})))}function wi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Si(e){var t=e.parcelle,r=e.letters,n=void 0===r?[]:r,i=wi((0,o.useState)(),2),l=i[0],c=i[1],p=wi((0,o.useState)(!1),2),f=p[0],d=p[1];(0,o.useEffect)((function(){n.length>0&&!f&&(d(!0),c(n[0].dnubat))}),[n]);var m=wi((0,o.useState)([]),2),y=m[0],v=m[1],g=wi((0,o.useState)([]),2),b=g[0],h=g[1],O=wi((0,o.useState)(!1),2),E=O[0],w=O[1];(0,o.useEffect)((function(){var e,r;w(!0),(e={parcelle:t,dnubat:l},r={parcelle:e.parcelle,dnubat:e.dnubat},Oe().get("".concat(Se,"/services/getBatiments"),{params:r}).then((function(e){return e.data}))).then((function(e){h(e),v([]),w(!1)}))}),[l]);var P=wi((0,o.useState)(!1),2),S=P[0],j=P[1];return a().createElement(a().Fragment,null,a().createElement("div",{style:{margin:10}},a().createElement("span",{style:{marginRight:10}},a().createElement(s.Z,{msgId:"cadastrapp.duc.batiments"}),":"),n.map((function(e){var t=e.dnubat;return a().createElement(u.zx,{bsStyle:l===t?"primary":void 0,onClick:function(){return c(t)}},t)})),a().createElement(ai,{setShowDescription:j,data:b,selected:y,dnubat:l,parcelle:t})),a().createElement(Ei,{dnubat:l,row:b.filter((function(e,t){return y.includes(t)}))[0],show:S,onClose:function(){j(!1)}}),a().createElement(ci,{selected:y,loading:E,data:b,onRowsSelected:function(e){return v(e.map((function(e){return e.row.originalIndex})))},onRowsDeselected:function(e){return v(y.filter((function(t){return-1===e.map((function(e){return e.row.originalIndex})).indexOf(t)})))},onRowDoubleClick:function(e,t){v([t.originalIndex]),j(!0)}}))}var ji=[{name:"cadastrapp.duc.lettreindic",key:"ccosub"},{name:"cadastrapp.duc.contenance",key:"dcntsf"},{name:"cadastrapp.duc.terrain",key:"nat_culture"},{name:"cadastrapp.duc.revenu_1",key:"drcsub"}];const xi=function(e){var t=e.loading,r=e.onRowClick,n=void 0===r?function(){}:r,o=e.onRowDoubleClick,i=void 0===o?function(){}:o,l=e.onRowsSelected,c=void 0===l?function(){}:l,u=e.onRowsDeselected,s=void 0===u?function(){}:u,p=e.data,f=void 0===p?[]:p,d=e.selected,m=void 0===d?[]:d;if(!f)return null;var y=t?[]:f;return a().createElement(mr,{emptyRowsView:function(){return a().createElement(vr,{loading:t})},rowGetter:function(e){return y[e]},rowsCount:y.length,minHeight:250,columns:ji,onRowClick:n,onRowDoubleClick:i,rowSelection:{showCheckbox:!1,enableShiftSelect:!1,onRowsSelected:c,onRowsDeselected:s,selectBy:{indexes:m}}})};function _i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ii(e){var t,r,n=e.fiscalSubDiv,i=void 0===n?[]:n,l=(t=(0,o.useState)([]),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return _i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_i(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=l[0],u=l[1];return a().createElement(a().Fragment,null,a().createElement(xi,{data:i,selected:c,onRowsSelected:function(e){return u(e.map((function(e){return e.rowIdx})))},onRowsDeselected:function(e){return u(c.filter((function(t){return-1===e.map((function(e){return e.rowIdx})).indexOf(t)})))}}))}var Ai=["ccocomm","ccoprem","ccosecm","dnuplam"];function Ci(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ti(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ni(e){var t=e.fiucHistoryMutation,r=void 0===t?[]:t;return 0===r.length?a().createElement(s.Z,{msgId:"cadastrapp.nodata"}):a().createElement(u.iA,{condensed:!0},a().createElement("thead",null,a().createElement("tr",null,a().createElement("th",null,a().createElement(s.Z,{msgId:"cadastrapp.duc.dateacte"})),a().createElement("th",null,a().createElement(s.Z,{msgId:"cadastrapp.duc.reference_parcelle"})),a().createElement("th",null,a().createElement(s.Z,{msgId:"cadastrapp.duc.type_mutation"})))),a().createElement("tbody",null,r.map((function(e){var t=e.ccocomm,r=e.ccoprem,n=e.ccosecm,o=e.dnuplam,a=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Ai);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ci(Object(r),!0).forEach((function(t){Ti(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ci(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({referenceParcelle:[t,r,n,o].filter((function(e){return e})).join(" ")||""},a)})).map((function(e){var t=e.jdatat,r=e.type_filiation,n=e.referenceParcelle;return a().createElement("tr",null,a().createElement("td",null,t),a().createElement("td",null,n),a().createElement("td",null,r))}))))}function Di(){return Di=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Di.apply(this,arguments)}function Ri(e){var t=e.parcelle,r=e.owners,n=void 0===r?[]:r,o=e.letters,i=void 0===o?[]:o,l=e.fiuc,c=void 0===l?{}:l,p=e.fiucHistoryMutation,f=void 0===p?[]:p,d=e.fiscalSubDiv,m=void 0===d?[]:d,y=e.authLevel,v=void 0===y?{}:y,g=e.additionalData,b=void 0===g?{}:g,h=v.isCNIL1,O=v.isCNIL2;return a().createElement(u.mQ,{defaultActiveKey:1,id:"uncontrolled-tab-example",onSelect:function(){return setTimeout((function(){window.dispatchEvent(new Event("resize"))}),500)}},a().createElement(u.OK,{eventKey:1,title:a().createElement(s.Z,{msgId:"cadastrapp.duc.parcelle"})},a().createElement(Zo,Di({isCNIL1:h,isCNIL2:O,parcelle:t,fiuc:c},b))),h||O?a().createElement(u.OK,{eventKey:2,title:a().createElement(s.Z,{msgId:"cadastrapp.duc.propietaire"})},a().createElement(Va,{owners:n,parcelle:t})):void 0,h||O?a().createElement(u.OK,{eventKey:3,title:a().createElement(s.Z,{msgId:"cadastrapp.duc.copropietaire"})},a().createElement(ti,{parcelle:t})):void 0,O?a().createElement(u.OK,{eventKey:4,title:a().createElement(s.Z,{msgId:"cadastrapp.duc.batiments"})},a().createElement(Si,{parcelle:t,letters:i})):void 0,O?a().createElement(u.OK,{eventKey:5,title:a().createElement(s.Z,{msgId:"cadastrapp.duc.subdiv"})},a().createElement(Ii,{parcelle:t,fiscalSubDiv:m})):void 0,a().createElement(u.OK,{eventKey:6,title:a().createElement(s.Z,{msgId:"cadastrapp.duc.histomut"})},a().createElement(Ni,{parcelle:t,fiucHistoryMutation:f})))}function Li(){return Li=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Li.apply(this,arguments)}function ki(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fi(e){var t=e.items,r=void 0===t?[]:t,n=e.authLevel,i=e.additionalData,l=void 0===i?{}:i,c=e.infoLoading,s=void 0===c?[]:c,p=ki(Fa(),2),f=p[0],d=p[1],m=ki((0,o.useState)(!1),2),y=m[0],v=m[1];return(0,o.useEffect)((function(){!y&&r.length>0&&(v(!0),d("0"))}),[r]),a().createElement(u.eh,{onSelect:function(e){return d(e)}},r.map((function(e,t){var r=a().createElement("div",{onClick:function(){d(t)},className:"information-panel-title ".concat(f[t]?"selected":"unselected")},e.parcelle,s[null==e?void 0:e.parcelle]?a().createElement("div",{style:{float:"right"}},a().createElement(Ot(),{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"})):null);return a().createElement(u.s_,{expanded:!!f[t.toString()],className:"mapstore-side-card ms-sm",collapsible:!0,eventKey:t.toString(),header:r},a().createElement(Ri,Li({},e,{authLevel:n,additionalData:l})))})))}function Bi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ui(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Gi=(0,i.connect)((function(e){var t=function(e){var t;return(null==e||null===(t=e.cadastrapp)||void 0===t?void 0:t.informationData)||{}}(e),r=q(e),n=B(e),o=$(e);return{authLevel:r,loadingCount:ie(e),baseMaps:n,selectedStyle:o,additionalData:{baseMaps:n,selectedStyle:o},infoLoading:ae(e),items:Object.keys(t).map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bi(Object(r),!0).forEach((function(t){Ui(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({parcelle:e},t[e])}))}}),{onClose:function(){return{type:Tn}}})((function(e){var t=e.items,r=void 0===t?[]:t,n=e.onClose,o=e.authLevel,i=e.additionalData,l=e.loadingCount,c=e.infoLoading;return a().createElement(Jt,{style:{maxHeight:"100%",overflowY:"auto",minWidth:"85%"},dialogClassName:"cadastrapp-modal cadastrapp-information-modal",show:r.length>0,onHide:n},a().createElement(Jt.Header,{closeButton:!0},a().createElement(Jt.Title,null,a().createElement(s.Z,{msgId:"cadastrapp.result.parcelle.fiche"}),l?a().createElement("span",{style:{float:"right",marginRight:10}},"(",l," more)",a().createElement(Ot(),{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"})):null)),a().createElement(Jt.Body,null,a().createElement(Fi,{infoLoading:c,authLevel:o,items:r,additionalData:i})))}));function Zi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Wi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Wi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Hi=(0,i.connect)((function(e){return{loading:re(e)||ie(e),currentData:J(e),selectedPlots:X(e),data:K(e),plots:H(e),authLevel:q(e)}}),{onNewTab:function(e){return{type:mn,plot:e}},onTabChange:function(e){return{type:dn,active:e}},onRowsSelected:function(e){return{type:vn,plots:e}},onRowsDeselected:function(e){return{type:gn,plots:e}},removePlots:function(e){return{type:fn,parcelles:e}},zoomToSelection:function(){return{type:bn}},showLandedPropertyInformationByParcelle:function(e){return{type:In,parcelle:e}},onTabDelete:function(){return{type:yn,active:undefined}}})((function(e){var t=0===e.data.length?"collapse":"plots-selection";return a().createElement("div",{className:t},a().createElement("h3",{className:"pull-left"},a().createElement(s.Z,{msgId:"cadastrapp.parcelle.result.title"})),a().createElement(Yo,e),a().createElement(Ra,e))}));const Ki=(0,i.connect)((function(e){return{plotSelectionData:K(e),activeSelectionTab:V(e)}}),{loadInfo:function(e){return{type:An,parcelles:e}}})((function(e){var t=zi((0,o.useState)(!1),2),r=t[0],n=t[1],i=zi((0,o.useState)({}),2),l=i[0],c=i[1];return a().createElement(a().Fragment,null,a().createElement(Hi,{foncier:e.foncier,isShown:!0,loadInfo:e.loadInfo,active:e.activeSelectionTab}),a().createElement(Gi,{expanded:l,active:e.activeSelectionTab,data:e.informationData,isShown:r,onBuildingRowClick:function(){},onClose:function(){return n(!1)},onPanelExpand:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zi(Object(r),!0).forEach((function(t){qi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},l);t[e]?t[e]=!1:t[e]=!0,c(t)}}))}));var Vi=["selectedSearchTool","plotSelectionData","foncier"];const Yi=(0,i.connect)((function(e){return{plotSelectionData:K(e),activeSelectionTab:V(e),selectedSearchTool:W(e)}}))((function(e){var t=e.selectedSearchTool,r=e.plotSelectionData,n=e.foncier,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Vi);return a().createElement("div",{className:"right-side pull-left"},a().createElement(p,{isShown:!t,data:r,configuration:o.configuration}),a().createElement(Yn,{selectedSearchTool:t}),a().createElement(Ki,{foncier:n}))}));var Xi=["glyph","bsStyle","tooltip"];function Ji(){return Ji=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ji.apply(this,arguments)}const Qi=function(e){var t=e.glyph,r=e.bsStyle,n=e.tooltip,o=void 0===n?a().createElement("span",null):n,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Xi);return a().createElement(u.Ox,{placement:"left",overlay:o},a().createElement(u.zx,Ji({},i,{bsStyle:r||"primary",className:"square-button"}),a().createElement(u.gG,{glyph:t})))};var $i;function el(){return el=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},el.apply(this,arguments)}function tl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rl=function(e,t){return a().createElement(u.u,{id:"id"},a().createElement(s.Z,{msgId:t}))},nl=(tl($i={},b.POINT,{key:b.POINT,glyph:"map-marker",tooltip:rl(0,"cadastrapp.create_point")}),tl($i,b.LINE_STRING,{key:b.LINE_STRING,glyph:"polyline",tooltip:rl(0,"cadastrapp.create_line")}),tl($i,b.POLYGON,{key:b.POLYGON,glyph:"polygon",tooltip:rl(0,"cadastrapp.create_polygon")}),tl($i,b.LANDED_PROPERTY,{key:b.LANDED_PROPERTY,glyph:"th-list",tooltip:rl(0,"cadastrapp.menu.tooltips.foncier")}),$i);const ol=(0,i.connect)((function(e){return{currentTool:z(e)}}),{onClick:Mn})((function(e){var t=e.foncier,r=void 0===t||t,n=e.currentTool,o=e.onClick,i=void 0===o?function(){}:o;return a().createElement(a().Fragment,null,Object.keys(b).filter((function(e){return!!r||e!==b.LANDED_PROPERTY})).map((function(e){return b[e]})).map((function(e){var t=e===n;return a().createElement(Qi,el({bsStyle:t&&"success"},nl[e],{onClick:function(){return t?i():i(e)}}))})))}));var al;function il(){return il=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},il.apply(this,arguments)}function ll(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var cl=function(e,t){return a().createElement(u.u,{id:"id"},a().createElement(s.Z,{msgId:t}))},ul=(ll(al={},h.PLOT,{glyph:"search",tooltip:cl(0,"cadastrapp.parcelle.tooltip")}),ll(al,h.OWNER,{glyph:"user",tooltip:cl(0,"cadastrapp.proprietaire.tooltip")}),ll(al,h.COOWNER,{glyph:"1-group",tooltip:cl(0,"cadastrapp.coProprietaire.tooltip")}),al);const sl=(0,i.connect)((function(e){return{currentTool:W(e),authLevel:q(e)}}),{onClick:function(e){return{type:sn,searchType:e}}})((function(e){var t=e.authLevel,r=void 0===t?{}:t,n=e.currentTool,o=e.onClick,i=void 0===o?function(){}:o,l=r.isCNIL1,c=r.isCNIL2;return a().createElement(a().Fragment,null,Object.keys(h).filter((function(e){return!(!l&&!c)||[h.PLOT].includes(e)})).map((function(e){return h[e]})).map((function(e){var t=e===n;return a().createElement(Qi,il({bsStyle:t&&"active"},ul[e],{onClick:function(){return t?i():i(e)}}))})))})),pl=(0,i.connect)(null,{zoomToResults:function(){return{type:hn}}})((function(e){var t=e.zoomToResults,r=void 0===t?function(){}:t;return a().createElement(Qi,{onClick:r,tooltip:a().createElement(u.u,{id:"zoomTo"},a().createElement(s.Z,{msgId:"cadastrapp.zoomTo"})),glyph:"resize-full"})}));var fl=r(71129),dl=r(43078),ml=r.n(dl);const yl=function(e){var t=e.handleOnChange,r=void 0===t?function(){}:t,n=e.requestFormData,o=void 0===n?{}:n;return a().createElement("div",{style:{width:"100%",display:"flex"}},a().createElement(u.XZ,{className:"pull-left",style:{marginLeft:120},onChange:r,checked:null==o?void 0:o.propStatement,value:null==o?void 0:o.propStatement,name:"propStatement"},a().createElement(s.Z,{msgId:"cadastrapp.duc.releve.depropriete"})),a().createElement(u.XZ,{style:{marginTop:10,marginLeft:10},onChange:r,value:null==o?void 0:o.parcelSlip,name:"parcelSlip"},a().createElement(s.Z,{msgId:"cadastrapp.duc.bordereau.parcellaire"})))};function vl(){return vl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vl.apply(this,arguments)}function gl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const bl=function(e){var t,r,n=(t=(0,o.useState)([]),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return gl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gl(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=n[0],l=n[1];return(0,o.useEffect)((function(){e.cgocommune&&_e(e.cgocommune).then((function(e){l(e)}))}),[e.cgocommune]),!_r()(i)&&a().createElement(Lr,vl({dropUp:!0,hideRemove:!0,containerStyle:{width:"unset"},fieldStyle:{width:120,marginBottom:5,marginRight:5},sections:i,onSetValue:e.onSelect,row:e.value},e))};var hl=["commune","section","numero"];function Ol(){return Ol=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ol.apply(this,arguments)}function El(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Pl=function(e){var t=e.commune,r=e.section,n=e.numero,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,hl);return a().createElement(lt,Ol({dropUp:!0,minLength:3,valueField:"proprietaire",textField:"label",search:function(e){return(o={section:r,commune:t,numero:n,ddenom:e},a={commune:o.commune,section:o.section,numero:o.numero,ddenom:o.ddenom},Oe().get("".concat(Se,"/services/getProprietairesByInfoParcelles"),{params:a}).then((function(e){return e.data}))).then((function(e){return e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?El(Object(r),!0).forEach((function(t){wl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):El(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e)}))}));var o,a}},o))};function Sl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sl(Object(r),!0).forEach((function(t){xl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Il(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Il(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Il(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Al=Ye("placeholder")(u.NI),Cl=Ye("options")(fl.ZP);function Tl(e){var t,r=e.setRequestFormData,n=void 0===r?function(){}:r,i=e.requestFormData,l=void 0===i?{}:i,c=e.dataId,s=e.value,p=e.onDelete,f=void 0===p?function(){}:p,d=e.onChange,m=void 0===d?function(){}:d,y=e.setInValidField,v=void 0===y?function(){}:y,g=e.allow,b=void 0!==g&&g,h=[{value:"owner-id",label:"cadastrapp.demandeinformation.object.type.1"},{value:"plot",label:"cadastrapp.demandeinformation.object.type.2"},{value:"co-owners",label:"cadastrapp.demandeinformation.object.type.3"},{value:"plot-id",label:"cadastrapp.demandeinformation.object.type.5"},{value:"owner",label:"cadastrapp.demandeinformation.object.type.4",style:{display:b?"block":"none"}},{value:"owner-birth-name",label:"cadastrapp.demandeinformation.object.type.7",style:{display:b?"block":"none"}},{value:"lot-co-owners",label:"cadastrapp.demandeinformation.object.type.6",style:{display:b?"block":"none"}}],O=_l((0,o.useState)(""),2),E=O[0],w=O[1],P=_l((0,o.useState)(0),2),S=P[0],j=P[1],x=function(e){var t=e.target,r=t||{},o=r.name,a=r.value;n(jl(jl({},l),{},xl({},E,jl(jl({},l[E]),{},xl({},c,jl(jl({},l[E][c]),(0,R.includes)(["propStatement","parcelSlip"],o)?xl({},o,t.checked):xl({},o,a)))))))},_=function(e,t){var r;"commune"===e&&(0,R.isEmpty)(t)?(r=xl({},c,{}),n(jl(jl({},l),{},xl({},E,jl({},l[E]))))):r=xl({},c,jl(jl({},l[E][c]),{},xl({},e,jl({},t)))),n(jl(jl({},l),{},xl({},E,jl(jl({},l[E]),r))))};function I(){var e,t;return a().createElement("div",null,a().createElement(Al,{className:"pull-left",placeholder:"cadastrapp.demandeinformation.idCompteCom",name:"accountId",value:(null==l||null===(e=l[E])||void 0===e||null===(t=e[c])||void 0===t?void 0:t.accountId)||"",style:{height:34,width:248,margin:4},onChange:x}))}(0,o.useEffect)((function(){var e,t=(null==l||null===(e=l[E])||void 0===e?void 0:e[c])||[],r=Object.keys(t).filter((function(e){return!(0,R.isEmpty)(t[e])&&!(0,R.includes)(["propStatement","parcelSlip"],e)})),n=Object.keys(t).filter((function(e){return!0===t[e]})),o=!0;(0,R.isEmpty)(t)||(0,R.isEmpty)(S)||(0,R.isEqual)(r.sort(),S.sort())&&n.length>0&&(o=!1),v(o)}),[l]);var A=function(){var e,t,r,n,o,i,u,s,p,f,d,m;return a().createElement("div",null,a().createElement("div",{style:{display:"flex",float:"left",margin:4}},a().createElement(ft,{dropUp:!0,placeholder:"cadastrapp.commune",additionalStyle:{width:300,marginRight:4},value:null==l||null===(e=l[E])||void 0===e||null===(t=e[c])||void 0===t||null===(r=t.commune)||void 0===r?void 0:r.label,onSelect:function(e){return _("commune",e)}}),a().createElement(bl,{cgocommune:null==l||null===(n=l[E])||void 0===n||null===(o=n[c])||void 0===o||null===(i=o.commune)||void 0===i?void 0:i.cgocommune,value:{section:null==l||null===(u=l[E])||void 0===u||null===(s=u[c])||void 0===s?void 0:s.section,plot:(0,R.isEmpty)(null==l||null===(p=l[E])||void 0===p||null===(f=p[c])||void 0===f?void 0:f.plot)?null:null==l||null===(d=l[E])||void 0===d||null===(m=d[c])||void 0===m?void 0:m.plot},onSelect:function(e,t){return _(e,t)}})))},C=function(){var e,t,r,n;return a().createElement("div",{style:{width:"300"}},a().createElement(Al,{placeholder:"cadastrapp.demandeinformation.idCompteCom",name:"accountId",value:(null==l||null===(e=l[E])||void 0===e||null===(t=e[c])||void 0===t?void 0:t.accountId)||"",className:ml()("pull-left","request-obj-double"),onChange:x}),a().createElement(Al,{placeholder:"cadastrapp.demandeinformation.idParcelle",name:"plotId",value:(null==l||null===(r=l[E])||void 0===r||null===(n=r[c])||void 0===n?void 0:n.plotId)||"",className:ml()("pull-left","request-obj-double"),onChange:x}))},T=function(){var e,t;return a().createElement("div",null,a().createElement(Al,{placeholder:"cadastrapp.demandeinformation.idCompteCom",name:"accountId",value:(null==l||null===(e=l[E])||void 0===e||null===(t=e[c])||void 0===t?void 0:t.accountId)||"",className:ml()("pull-left","request-obj-double"),onChange:x}))},N=function(){var e,t,r,n,o,i,u,s,p,f,d;return a().createElement("div",{key:"owner"},a().createElement("div",{style:{display:"flex",float:"left",margin:4}},a().createElement(ft,{dropUp:!0,placeholder:"cadastrapp.commune",additionalStyle:{width:300,marginRight:4},value:null==l||null===(e=l[E])||void 0===e||null===(t=e[c])||void 0===t||null===(r=t.commune)||void 0===r?void 0:r.label,onSelect:function(e){return _("commune",e)}}),a().createElement(bt,{dropUp:!0,placeholder:"cadastrapp.demandeinformation.proprietaire",disabled:(0,R.isEmpty)(null==l||null===(n=l[E])||void 0===n||null===(o=n[c])||void 0===o?void 0:o.commune),birthsearch:!1,cgocommune:null==l||null===(i=l[E])||void 0===i||null===(u=i[c])||void 0===u||null===(s=u.commune)||void 0===s?void 0:s.cgocommune,additionalStyle:{width:300,marginRight:4},value:null==l||null===(p=l[E])||void 0===p||null===(f=p[c])||void 0===f||null===(d=f.proprietaire)||void 0===d?void 0:d.value,onSelect:function(e){return _("proprietaire",e)}})))},D=function(){var e,t,r,n,o,i,u,s,p,f,d;return a().createElement("div",null,a().createElement("div",{style:{display:"flex",float:"left",margin:4}},a().createElement(ft,{dropUp:!0,placeholder:"cadastrapp.commune",additionalStyle:{width:300,marginRight:4},value:null==l||null===(e=l[E])||void 0===e||null===(t=e[c])||void 0===t||null===(r=t.commune)||void 0===r?void 0:r.label,onSelect:function(e){return _("commune",e)}}),a().createElement(bt,{dropUp:!0,placeholder:"cadastrapp.demandeinformation.proprietaire",disabled:(0,R.isEmpty)(null==l||null===(n=l[E])||void 0===n||null===(o=n[c])||void 0===o?void 0:o.commune),birthsearch:!0,cgocommune:null==l||null===(i=l[E])||void 0===i||null===(u=i[c])||void 0===u||null===(s=u.commune)||void 0===s?void 0:s.cgocommune,additionalStyle:{width:300,marginRight:4},value:null==l||null===(p=l[E])||void 0===p||null===(f=p[c])||void 0===f||null===(d=f.proprietaire)||void 0===d?void 0:d.value,onSelect:function(e){return _("proprietaire",e)}})))},L=function(){var e,t,r,n,o,i,u,s,p,f,d,m,y,v,g,b,h,O,w,P,S,j,x,I;return a().createElement("div",null,a().createElement("div",{style:{display:"flex",margin:4}},a().createElement(ft,{dropUp:!0,placeholder:"cadastrapp.commune",additionalStyle:{marginRight:4},value:null==l||null===(e=l[E])||void 0===e||null===(t=e[c])||void 0===t||null===(r=t.commune)||void 0===r?void 0:r.label,onSelect:function(e){return _("commune",e)}}),a().createElement(bl,{cgocommune:null==l||null===(n=l[E])||void 0===n||null===(o=n[c])||void 0===o||null===(i=o.commune)||void 0===i?void 0:i.cgocommune,value:{section:null==l||null===(u=l[E])||void 0===u||null===(s=u[c])||void 0===s?void 0:s.section,plot:(0,R.isEmpty)(null==l||null===(p=l[E])||void 0===p||null===(f=p[c])||void 0===f?void 0:f.plot)?null:null==l||null===(d=l[E])||void 0===d||null===(m=d[c])||void 0===m?void 0:m.plot},onSelect:function(e,t){return _(e,t)}}),a().createElement(Pl,{placeholder:"cadastrapp.demandeinformation.proprietaire",disabled:(0,R.isEmpty)(null==l||null===(y=l[E])||void 0===y||null===(v=y[c])||void 0===v?void 0:v.plot),section:null==l||null===(g=l[E])||void 0===g||null===(b=g[c])||void 0===b||null===(h=b.section)||void 0===h?void 0:h.ccosec,numero:null==l||null===(O=l[E])||void 0===O||null===(w=O[c])||void 0===w||null===(P=w.section)||void 0===P||null===(S=P.plot)||void 0===S?void 0:S.dnupla,commune:null==l||null===(j=l[E])||void 0===j||null===(x=j[c])||void 0===x||null===(I=x.commune)||void 0===I?void 0:I.cgocommune,onSelect:function(e){return _("proprietaire",e)}})))},k=_l((0,o.useState)((function(){return a().createElement("div",null)})),2),M=k[0],F=k[1];return(0,o.useEffect)((function(){switch(s){case"owner-id":w("comptecommunaux"),j(["accountId"]),F(I);break;case"plot":w("parcelles"),j(["commune","section","plot"]),F(A);break;case"co-owners":w("coproprietes"),j(["accountId","plotId"]),F(C);break;case"plot-id":w("parcelleIds"),j(["accountId"]),F(T);break;case"owner":w("proprietaires"),j(["commune","proprietaire"]),F(N);break;case"owner-birth-name":w("proprietaires"),j(["commune","proprietaire"]),F(D);break;case"lot-co-owners":w("proprietaireLots"),j(["commune","section","numero","proprietaire"]),F(L)}}),[s,l,E,b,c]),a().createElement("div",{className:"pull-left",style:{width:"100%"}},a().createElement("div",{className:"request-obj-triple"},a().createElement(Cl,{className:"drop-up",options:h,value:s,onChange:function(e){m(c,e.value)}})),M,a().createElement(u.zx,{className:"pull-right",onClick:function(){var e;f(c),null==l||null===(e=l[E])||void 0===e||delete e[c],n(jl({},l))},style:{margin:4}},a().createElement(u.gG,{glyph:"trash"})),!(0,R.isEmpty)(E)&&a().createElement(yl,{handleOnChange:x,requestFormData:(null==l||null===(t=l[E])||void 0===t?void 0:t[c])||{}}))}var Nl=["availableRequest","setAvailableRequest"];function Dl(){return Dl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dl.apply(this,arguments)}function Rl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ll(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rl(Object(r),!0).forEach((function(t){kl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ml(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fl(e){var t=e.availableRequest,r=void 0===t?0:t,n=e.setAvailableRequest,i=void 0===n?function(){}:n,l=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Nl),c=tr()(),p={};r>0&&(p[c]="");var f,d,m=(f=(0,o.useState)(p),d=2,function(e){if(Array.isArray(e))return e}(f)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(f,d)||function(e,t){if(e){if("string"==typeof e)return Ml(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ml(e,t):void 0}}(f,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=m[0],v=m[1];(0,o.useEffect)((function(){i(r-Object.keys(y).length)}),[i]);var g=function(e,t){var r=Ll({},y);r[e]=t,v(r)},b=function(e){var t=Ll({},y);delete t[e],v(t),i(r+1)};return a().createElement("div",null,a().createElement("div",{className:"pull-left",style:{width:"100%",marginBottom:10}},a().createElement(u.zx,{disabled:r<=0,className:"pull-right",onClick:function(){var e=Ll({},y);e[tr()()]="",v(e),i(r-1)},style:{marginRight:4}},a().createElement(u.gG,{glyph:"plus"})),a().createElement("small",{style:Ll({marginTop:5,marginRight:10},r<=0&&{color:"red"}),className:"pull-right"},a().createElement(s.Z,{msgId:r<=0?"cadastrapp.demandeinformation.exceded.maxNumber":"cadastrapp.demandeinformation.addMore"}))),a().createElement("div",null,Object.keys(y).map((function(e,t){return a().createElement(Tl,Dl({key:t,dataId:e,value:y[e],onChange:g,onDelete:b},l))}))))}var Bl=r(69723),Ul=r(21389),Gl=r.n(Ul),Zl=["comptecommunaux","proprietaires","parcelleIds","parcelles","coproprietes","proprietaireLots"];function ql(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ql(Object(r),!0).forEach((function(t){Wl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ql(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Hl={type:"",lastname:"",firstname:"",adress:"",cni:"",commune:"",codepostal:"",mail:"",parcelleIds:"",comptecommunaux:"",coproprietes:"",parcelles:"",proprietaires:"",proprietaireLots:"",responseby:1,askby:1},Kl=function(e){return e?1:0},Vl=function(e){var t=e.comptecommunaux,r=e.proprietaires,n=e.parcelleIds,o=e.parcelles,a=e.coproprietes,i=e.proprietaireLots,l=zl({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Zl));return _r()(t)||(l=zl(zl({},l),{},{comptecommunaux:Object.keys(t).map((function(e){var r=t[e],n=r.accountId,o=void 0===n?"":n,a=r.propStatement,i=void 0!==a&&a,l=r.parcelSlip;return o+"|"+Kl(void 0!==l&&l)+"|"+Kl(i)}))})),_r()(o)||(l=zl(zl({},l),{},{parcelles:Object.keys(o).map((function(e){var t=o[e],r=t.commune,n=void 0===r?{}:r,a=t.section,i=void 0===a?{}:a,l=t.plot,c=void 0===l?{}:l,u=t.parcelSlip,s=void 0!==u&&u,p=t.propStatement,f=void 0!==p&&p;return((null==n?void 0:n.cgocommune)||"")+"|"+((null==i?void 0:i.ccosec)||"")+"|"+((null==c?void 0:c.dnupla)||"")+"|"+Kl(s)+"|"+Kl(f)}))})),_r()(a)||(l=zl(zl({},l),{},{coproprietes:Object.keys(a).map((function(e){var t=a[e],r=t.accountId,n=void 0===r?"":r,o=t.plotId,i=void 0===o?"":o,l=t.parcelSlip,c=void 0!==l&&l,u=t.propStatement,s=void 0!==u&&u;return n+"|"+i+"|"+Kl(c)+"|"+Kl(s)}))})),_r()(n)||(l=zl(zl({},l),{},{parcelleIds:Object.keys(n).map((function(e){var t=n[e],r=t.accountId,o=void 0===r?"":r,a=t.parcelSlip,i=void 0!==a&&a,l=t.propStatement,c=void 0!==l&&l;return o+"|"+Kl(i)+"|"+Kl(c)}))})),_r()(r)||(l=zl(zl({},l),{},{proprietaires:Object.keys(r).map((function(e){var t=r[e],n=t.commune,o=void 0===n?{}:n,a=t.proprietaire,i=void 0===a?{}:a,l=t.parcelSlip,c=void 0!==l&&l,u=t.propStatement,s=void 0!==u&&u;return(o.cgocommune||"")+"|"+(i.app_nom_usage||"")+"|"+Kl(c)+"|"+Kl(s)}))})),_r()(i)||(l=zl(zl({},l),{},{proprietaireLots:Object.keys(i).map((function(e){var t=i[e],r=t.commune,n=void 0===r?{}:r,o=t.section,a=void 0===o?{}:o,l=t.plot,c=void 0===l?{}:l,u=t.proprietaire,s=void 0===u?{}:u,p=t.parcelSlip,f=void 0!==p&&p,d=t.propStatement,m=void 0!==d&&d;return((null==n?void 0:n.cgocommune)||"")+"|"+((null==a?void 0:a.ccosec)||"")+"|"+((null==c?void 0:c.dnupla)||"")+"|"+s.app_nom_usage||"|"+Kl(f)+"|"+Kl(m)}))})),function(e){var t=[],r=function(r){e.hasOwnProperty(r)&&(Gl()(e[r])?e[r].forEach((function(e){return t.push(encodeURI(r+"="+e))})):t.push(encodeURI(r+"="+e[r])))};for(var n in e)r(n);return t.join("&")}(l)},Yl=["onClose","isShown","authLevel","maxRequest"];function Xl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xl(Object(r),!0).forEach((function(t){Ql(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ql(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ec(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ec(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var tc=Ye("placeholder")(u.NI),rc=Ye("options")(fl.ZP);function nc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nc(Object(r),!0).forEach((function(t){ac(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ac(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ic="SHOW_NOTIFICATION";function lc(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";return oc(oc({type:ic},e),{},{uid:e.uid||Date.now(),level:t})}(e,"error")}function cc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var uc=(0,i.connect)((function(e){var t,r,n,o,a,i;return{allowDocument:(null===(t=e.cadastrapp)||void 0===t||null===(r=t.requestFormData)||void 0===r?void 0:r.allowDocument)||!1,maxRequest:(null===(n=e.cadastrapp)||void 0===n||null===(o=n.configuration)||void 0===o?void 0:o.maxRequest)||8,loading:(null===(a=e.cadastrapp)||void 0===a||null===(i=a.loadFlags)||void 0===i?void 0:i.printing)||!1,authLevel:q(e)}}),{onPrintPDF:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Print";return{type:Rn,printParams:e,printType:t}},onError:lc})((function(e){var t=e.onClose,r=void 0===t?function(){}:t,n=e.isShown,i=void 0!==n&&n,l=e.authLevel,c=void 0===l?{}:l,p=e.maxRequest,f=void 0===p?8:p,d=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Yl),m=c.isCNIL2||c.isCNIL1,y=$l((0,o.useState)(!1),2),v=y[0],g=y[1],b=$l((0,o.useState)(!1),2),h=b[0],O=b[1],E=$l((0,o.useState)(Hl),2),w=E[0],P=E[1],S=$l((0,o.useState)(!0),2),j=S[0],x=S[1],_=$l((0,o.useState)(+f),2),I=_[0],A=_[1],C=$l((0,o.useState)(!1),2),T=C[0],N=C[1];(0,o.useEffect)((function(){var e=w.type,t=w.lastname,r=w.cni,n=!(0,R.isEmpty)(e)&&"P3"!==e,o=!(0,R.isEmpty)(r)&&"P3"===e;g(n||o),O(n&&!!t.length||o)}),[w.cni,w.type,w.lastname]);var D=$l((0,o.useState)({}),2),L=D[0],k=D[1];(0,o.useEffect)((function(){k(Vl(w))}),[w]);var M=function(e){var t;if(e.value)t=Jl(Jl({},Hl),{},{type:e.value});else{var r=(null==e?void 0:e.target)||{},n=r.name,o=void 0===n?"":n,a=r.value,i=void 0===a?"":a;t=Jl(Jl({},w),{},Ql({},o,(0,R.includes)(["askby","responseby"],o)?+i:i)),"cni"===o&&N(!0)}P(t)},F=function(e){var t,r,n,o,a,i=e.target||{},l=i.name,c=void 0===l?"":l,u=i.value,s=(void 0===u?"":u).trim();P(Jl(Jl({},w),{},Ql({},c,s))),"cni"===c&&!(0,R.isEmpty)(w.type)&&!(0,R.isEmpty)(s)&&s.length>2&&(o=(t=w).cni,a=t.type,N(!0),(r={cni:o,type:a},n={cni:r.cni,type:r.type},Oe().get("".concat(Se,"/services/checkRequestLimitation"),{params:n}).then((function(e){return e.data}))).then((function(e){var t,r,n;e.user&&P(Jl(Jl(Jl({},w),e.user),{},{firstname:(null===(t=e.user)||void 0===t?void 0:t.firstName)||"",lastname:(null===(r=e.user)||void 0===r?void 0:r.lastName)||"",codepostal:(null===(n=e.user)||void 0===n?void 0:n.codePostal)||""})),e.requestAvailable||0===e.requestAvailable?A(+e.requestAvailable):A(+f),N(!1)})).catch((function(){A(0),d.onError({title:"Error",message:"cadastrapp.demandeinformation.availableReqError"}),N(!1)})))},B=function(){r(),P(Hl),A(8)},U=[{value:w.cni,name:"cni",label:a().createElement(s.Z,{msgId:"cadastrapp.demandeinformation.cni"}),validation:"P3"===w.type&&(0,R.isEmpty)(w.cni)&&"error"},{value:w.lastname,name:"lastname",label:a().createElement(s.Z,{msgId:"cadastrapp.demandeinformation.nom"}),validation:!(0,R.isEmpty)(w.type)&&"P3"!==w.type&&(0,R.isEmpty)(w.lastname)&&"error"},{value:w.firstname,name:"firstname",label:a().createElement(s.Z,{msgId:"cadastrapp.demandeinformation.prenom"})},{value:w.adress,name:"adress",label:a().createElement(s.Z,{msgId:"cadastrapp.demandeinformation.num_rue"})},{value:w.codepostal,name:"codepostal",label:a().createElement(s.Z,{msgId:"cadastrapp.demandeinformation.code_postal"})},{value:w.commune,name:"commune",label:a().createElement(s.Z,{msgId:"cadastrapp.demandeinformation.commune"})},{value:w.mail,name:"mail",type:"email",label:a().createElement(s.Z,{msgId:"cadastrapp.demandeinformation.mail"}),validation:!(0,R.isEmpty)(w.mail)&&!(0,Bl.v)(w.mail)&&"error"}],G={groupLabel:[{label:a().createElement(s.Z,{msgId:"cadastrapp.demandeinformation.realise"}),name:"askby"},{label:a().createElement(s.Z,{msgId:"cadastrapp.demandeinformation.transmission"}),name:"responseby"}],groupField:[a().createElement(s.Z,{msgId:"cadastrapp.demandeinformation.counter"}),a().createElement(s.Z,{msgId:"cadastrapp.demandeinformation.mail"}),a().createElement(s.Z,{msgId:"cadastrapp.demandeinformation.email"})]};return a().createElement(Jt,{dialogClassName:"cadastrapp-modal",show:i,onHide:B},a().createElement(Jt.Header,{closeButton:!0},a().createElement(Jt.Title,null,a().createElement(s.Z,{msgId:"cadastrapp.demandeinformation.title"}))),a().createElement(Jt.Body,{className:"request-modal-body"},a().createElement("div",{className:"item-row"},a().createElement("div",{className:"label-col"},a().createElement(u.J$,null,a().createElement(s.Z,{msgId:"cadastrapp.demandeinformation.type.demandeur"}))),a().createElement("div",{className:"form-col"},a().createElement(rc,{name:"type",value:w.type,onChange:M,options:[{value:"A",label:"cadastrapp.demandeinformation.type.A"},{value:"P1",label:"cadastrapp.demandeinformation.type.P1"},{value:"P2",label:"cadastrapp.demandeinformation.type.P2"},{value:"P3",label:"cadastrapp.demandeinformation.type.P3"}]}))),U.map((function(e,t){var r=e.label,n=e.name,o=e.value,i=e.type,l=void 0===i?"text":i,c=e.validation,s=void 0===c?null:c;return a().createElement("div",{className:"item-row",key:t},a().createElement(u.cw,{validationState:s},a().createElement("div",{className:"label-col"},a().createElement(u.J$,null,r)),a().createElement("div",{className:"form-col"},a().createElement(tc,{disabled:(0,R.isEmpty)(w.type)||"cni"!==n&&"P3"===w.type&&(0,R.isEmpty)(w.cni),value:o,name:n,onBlur:F,onChange:M,type:l,bsSize:"sm"}))))})),v&&G.groupLabel.map((function(e){var t=e.label,r=e.name;return a().createElement("div",{className:"item-row"},a().createElement("div",{className:"label-col"},a().createElement(u.J$,null,t)),a().createElement("div",{className:"form-col"},a().createElement(u.cw,null,G.groupField.map((function(e,t){return a().createElement(u.Y8,{onChange:M,checked:w[r]===t+1,value:t+1,name:r,inline:!0},e)})))))})),a().createElement("hr",null),h&&!T&&a().createElement("div",{className:"item-row"},a().createElement("div",{className:"request-obj-label"},a().createElement(u.J$,null,a().createElement(s.Z,{msgId:"cadastrapp.demandeinformation.titre2"}))),a().createElement(Fl,{allow:m,requestFormData:w,setInValidField:x,setRequestFormData:P,setAvailableRequest:A,availableRequest:I}))),a().createElement(Jt.Footer,null,a().createElement(u.zx,{onClick:B},a().createElement(s.Z,{msgId:"cadastrapp.demandeinformation.annuler"})),a().createElement(u.zx,{disabled:!h||T||j||d.loading,onClick:function(){return d.onPrintPDF(L)},className:"print"},!d.allowDocument&&d.loading?a().createElement(Ot(),{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}):null,a().createElement(s.Z,{msgId:"cadastrapp.demandeinformation.imprimer"})),a().createElement(u.zx,{disabled:!m||!d.allowDocument,onClick:function(){return d.onPrintPDF(null,"Document")},className:"print"},d.allowDocument&&d.loading?a().createElement(Ot(),{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}):null,a().createElement(s.Z,{msgId:"cadastrapp.demandeinformation.generate.document"}))))}));function sc(){var e,t,r=(e=(0,o.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return cc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=r[0],i=r[1];return a().createElement(a().Fragment,null,a().createElement(Qi,{tooltip:a().createElement(u.u,{id:"request"},a().createElement(s.Z,{msgId:"cadastrapp.demande"})),glyph:"features-grid",onClick:function(){i(!0)}}),a().createElement(uc,{isShown:n,onClose:function(){return i(!1)}}))}var pc=r(76525),fc=r.n(pc),dc=r(38977);function mc(){return mc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mc.apply(this,arguments)}function yc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yc(Object(r),!0).forEach((function(t){gc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return hc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oc(e){var t=e.value,r=e.format,n=e.onChangeColor,i=e.text,l=e.line,c=e.disabled,u=e.pickerProps,s=e.containerNode,p=e.onOpen,f=e.placement,d=10,m={picker:{opacity:0},arrow:{opacity:0},overlay:{}},y=bc((0,o.useState)(),2),v=y[0],g=y[1],b=bc((0,o.useState)(m),2),h=b[0],O=b[1],E=bc((0,o.useState)(),2),w=E[0],P=E[1],S=Do()(t).toString(),j=fc()(s)?s():s;(0,o.useEffect)((function(){var e=v&&Do()(v).toString();e&&S&&S!==e&&g(t)}),[S]),(0,o.useEffect)((function(){p(w),w||O(m)}),[w]);var x=(0,o.useRef)(),_=(0,o.useRef)();function I(){var e,t,r,n,o,a,i;if("center"===f)return{picker:{},overlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},arrow:{opacity:0}};var l=null==x||null===(e=x.current)||void 0===e||null===(t=e.getBoundingClientRect)||void 0===t?void 0:t.call(e),c=null==_||null===(r=_.current)||void 0===r||null===(n=r.getBoundingClientRect)||void 0===n?void 0:n.call(r),u=null==_||null===(o=_.current)||void 0===o||null===(a=o.querySelector)||void 0===a?void 0:a.call(o,".ms-sketch-picker"),s=null==u||null===(i=u.getBoundingClientRect)||void 0===i?void 0:i.call(u);if(l&&c&&s){var p,m,y,v,g=s.width,b=s.height,h=c.top,O=c.left,E=c.width,w=c.height,P=l.top,S=l.left,j=l.width,I=l.height,A=[S+j/2,P+I/2],C=A[0]-O>g/2+d&&O+E-A[0]>g/2+d,T=A[1]-h>b/2+d&&h+w-A[1]>b/2+d,N={top:{filter:function(){return C&&P-h>b+d},styles:function(){return{picker:{position:"absolute",top:P-b-d-h,left:S+j/2-g/2-O},overlay:{},arrow:{top:P+2,left:S+j/2,transform:"translate(-50%, -50%) rotateZ(270deg) translateX(50%)"}}}},right:{filter:function(){return T&&O+E-(S+j)>g+d},styles:function(){return{picker:{position:"absolute",top:P-b/2-h,left:S+j+d-O},overlay:{},arrow:{top:P+I/2,left:S+j-2,transform:"translate(-50%, -50%) rotateZ(0deg) translateX(50%)"}}}},bottom:{filter:function(){return C&&h+w-(P+I)>b+d},styles:function(){return{picker:{position:"absolute",top:P+I+d-h,left:S+j/2-g/2-O},overlay:{},arrow:{top:P+I-2,left:S+j/2,transform:"translate(-50%, -50%) rotateZ(90deg) translateX(50%)"}}}},left:{filter:function(){return T&&S-O>g+d},styles:function(){return{picker:{position:"absolute",top:P-b/2-h,left:S-g-d-O},overlay:{},arrow:{top:P+I/2,left:S+2,transform:"translate(-50%, -50%) rotateZ(180deg) translateX(50%)"}}}}};if(null!=N&&null!==(p=N[f])&&void 0!==p&&null!==(m=p.filter)&&void 0!==m&&m.call(p))return null==N||null===(y=N[f])||void 0===y||null===(v=y.styles)||void 0===v?void 0:v.call(y);if("top"!==f&&N.top.filter())return N.top.styles();if("right"!==f&&N.right.filter())return N.right.styles();if("bottom"!==f&&N.bottom.filter())return N.bottom.styles();if("left"!==f&&N.left.filter())return N.left.styles()}return{picker:{},overlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},arrow:{opacity:0}}}(0,o.useEffect)((function(){var e=function(){return O(I())};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,o.useEffect)((function(){w&&O(I())}),[w]);var A,C,T=c?" ms-disabled":"",N=a().createElement("div",{ref:_,className:"ms-color-picker-overlay",style:vc({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",top:0,left:0},null==h?void 0:h.overlay)},a().createElement("div",{className:"ms-color-picker-cover",style:{position:"absolute",width:"100%",height:"100%",top:0,left:0},onClick:function(){P(!1),v&&n(r?Do()(v).toString(r):v)}}),a().createElement(dc.xS,mc({},u,{className:"ms-sketch-picker",styles:{picker:vc({width:200,padding:"10px 10px 0",boxSizing:"initial"},null==h?void 0:h.picker)},color:Do()(v||t).toRgb(),onChange:function(e){return g(e.rgb)}})),a().createElement("div",{className:"ms-sketch-picker-arrow",style:vc({position:"absolute",borderWidth:12},null==h?void 0:h.arrow)})),D=j?(0,Xo.createPortal)(N,j):N;return a().createElement("div",{className:"ms-color-picker".concat(T)},a().createElement("div",{className:"ms-color-picker-swatch",ref:x,style:(A=v||t||"transparent",C=Do()(A).toRgbString(),l?{boxSizing:"border-box",border:"4px solid ".concat(C),backgroundColor:"transparent"}:{color:"transparent"===A?"#000000":Do().mostReadable(C,["#000000"],{includeFallbackColors:!0}).toHexString(),backgroundColor:C}),onClick:function(){c||(P(!w),v&&n(r?Do()(v).toString(r):v))}},i),w?D:null)}Oc.propTypes={value:Fe().oneOfType([Fe().string,Fe().shape({r:Fe().number,g:Fe().number,b:Fe().number,a:Fe().number})]),format:Fe().string,onChangeColor:Fe().func,text:Fe().string,line:Fe().bool,disabled:Fe().bool,pickerProps:Fe().object,containerNode:Fe().oneOfType([Fe().node,Fe().func]),onOpen:Fe().function,placement:Fe().string},Oc.defaultProps={disabled:!1,line:!1,onChangeColor:function(){},pickerProps:{},onOpen:function(){},containerNode:function(){return document.querySelector("."+((0,Gt.u8)("themePrefix")||"ms2")+" > div")||document.body}};const Ec=Oc,wc=(0,Ge.shouldUpdate)((function(e,t){return!(0,l.isEqual)(e.start,t.start)||e.disabled!==t.disabled}))(r(33825));var Pc=r(54051);function Sc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jc(Object(r),!0).forEach((function(t){_c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ic=function(e,t){return xc(xc({},(0,Pc.oo)(null!=e?e:[]).reduce((function(e,t,r){return xc(xc({},e),{},_c({},["r","g","b"][r],t))}),{})),{},{a:t})};const Ac=function(e){var t,r=e.style,n=void 0===r?{}:r,o=e.updateLayerStyle,i=void 0===o?function(){}:o;return a().createElement(a().Fragment,null,a().createElement("div",{className:"item-row"},a().createElement("div",{className:"label-col"},a().createElement(u.J$,null,a().createElement(s.Z,{msgId:"cadastrapp.preferences.fillColor"}))),a().createElement("div",{className:"form-col"},a().createElement(Ec,{onChangeColor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.r,r=e.g,n=e.b,o=e.a,a=(0,Pc.vq)(t,r,n),l=o;i({fillColor:a,fillOpacity:l})},value:Ic(null==n?void 0:n.fillColor,null==n?void 0:n.fillOpacity),line:!1,text:a().createElement(u.gG,{glyph:"dropper"})}))),a().createElement("div",{className:"item-row"},a().createElement("div",{className:"label-col"},a().createElement(u.J$,null,a().createElement(s.Z,{msgId:"cadastrapp.preferences.strokeColor"}))),a().createElement("div",{className:"form-col"},a().createElement(Ec,{onChangeColor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.r,r=e.g,n=e.b,o=e.a,a=(0,Pc.vq)(t,r,n),l=o;i({color:a,opacity:l})},value:Ic(null==n?void 0:n.color,null==n?void 0:n.opacity),line:!1,text:a().createElement(u.gG,{glyph:"dropper"})}))),a().createElement("div",{className:"item-row"},a().createElement("div",{className:"label-col"},a().createElement(u.J$,null,a().createElement(s.Z,{msgId:"cadastrapp.preferences.strokeWidth"}))),a().createElement("div",{className:"form-col"},a().createElement("div",{className:"mapstore-slider with-tooltip"},a().createElement(wc,{tooltips:!0,onChange:function(e){var t,r,n=(t=e,r=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Sc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Sc(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];i({weight:parseFloat(n,10)})},format:{from:function(e){return Math.round(e)},to:function(e){return Math.round(e)+" px"}},start:null!==(t=null==n?void 0:n.weight)&&void 0!==t?t:0,step:1,range:{min:0,max:10}})))))};function Cc(){return Cc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cc.apply(this,arguments)}function Tc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Nc=(0,i.connect)((function(e){return{styles:Q(e)}}),{setLayerStyle:function(e,t){return{type:On,styleType:e,value:t}},setLayerStyles:function(e){return{type:wn,styles:e}},updateLayerStyle:function(e,t){return{type:En,styleType:e,values:t}}})((function(e){var t=e.isShown,r=e.onClose,n=e.setLayerStyles,i=void 0===n?function(){}:n,l=e.updateLayerStyle,c=void 0===l?function(){}:l,p=e.styles,f=void 0===p?{selected:{},default:{}}:p,d=e.configStyles,m=void 0===d?{}:d,y=function(){i(_r()(m)?O:m)};return(0,o.useEffect)((function(){(_r()(f)||_r()(f.selected)&&_r()(f.default))&&y()}),[i]),t?a().createElement(wa.h_,{container:document.querySelector("#container #viewer")||document.body},a().createElement(pa,{className:"cadastrapp-preferences-dialog",show:t},a().createElement("span",{role:"header"},a().createElement("span",null,a().createElement(s.Z,{msgId:"cadastrapp.preferences.title"})),a().createElement("button",{style:{background:"transparent",border:"none",float:"right"}},a().createElement(u.gG,{glyph:"1-close",onClick:function(){return r()},style:{}}))),a().createElement("div",{role:"body",style:{height:200}},a().createElement(u.mQ,{defaultActiveKey:1},a().createElement(u.OK,{eventKey:1,title:a().createElement(s.Z,{msgId:"cadastrapp.preferences.default"})},a().createElement(Ac,{style:f.default,updateLayerStyle:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return c.apply(void 0,["default"].concat(t))}})),a().createElement(u.OK,{eventKey:2,title:a().createElement(s.Z,{msgId:"cadastrapp.preferences.selected"})},a().createElement(Ac,{style:f.selected,updateLayerStyle:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return c.apply(void 0,["selected"].concat(t))}})))),a().createElement("div",{role:"footer"},a().createElement(u.zx,{onClick:y},a().createElement(s.Z,{msgId:"cadastrapp.preferences.defaultStyle"})),a().createElement(u.zx,{onClick:function(){r()}},a().createElement(s.Z,{msgId:"cadastrapp.preferences.close"}))))):null}));function Dc(e){var t,r,n=(t=(0,o.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Tc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tc(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=n[0],l=n[1];return a().createElement(a().Fragment,null,a().createElement(Qi,{tooltip:a().createElement(u.u,{id:"preference"},a().createElement(s.Z,{msgId:"cadastrapp.menu.preference"})),glyph:"cog",onClick:function(){return l(!0)}}),a().createElement(Nc,Cc({isShown:i,onClose:function(){return l(!1)}},e)))}function Rc(e){var t=e.helpUrl,r=void 0===t?"https://docs.georchestra.org/cadastrapp/latest/guide_utilisateur/":t;return a().createElement(Qi,{tooltip:a().createElement(u.u,{id:"help"},a().createElement(s.Z,{msgId:"cadastrapp.help"})),glyph:"question-sign",onClick:function(){window.open(r,"_blank")}})}function Lc(e){return a().createElement("div",{className:"side-bar pull-left"},a().createElement(pl,null),a().createElement(ol,e),a().createElement(sl,null),a().createElement(sc,null),a().createElement(Dc,{configStyles:e.styles}),a().createElement(Rc,{helpUrl:null==e?void 0:e.helpUrl}))}const kc=(0,i.connect)((function(){return{}}),{onClose:c.bind(null,g,null)})((function(e){var t=e.onClose,r=void 0===t?function(){}:t;return a().createElement("div",{className:"top"},a().createElement("h4",null,a().createElement(s.Z,{msgId:"cadastrapp.cadastre_tools"})),a().createElement(u.zx,{onClick:function(){return r()},bsStyle:"primary",className:"square-button ms-close pull-right"},a().createElement("span",{className:"glyphicon glyphicon-1-close"})))}));var Mc=r(97402),Fc=r.n(Mc),Bc=r(661),Uc=r.n(Bc),Gc=r(66255);const Zc=(0,i.connect)((0,d.P1)(Gc.$v,(function(e){return{mapType:e}})));var qc=r(27502);function zc(e){return zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(e)}function Wc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Kc(e,t,r){return t&&Hc(e.prototype,t),r&&Hc(e,r),e}function Vc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yc(e,t)}function Yc(e,t){return Yc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Yc(e,t)}function Xc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=$c(e);if(t){var o=$c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Jc(this,r)}}function Jc(e,t){if(t&&("object"===zc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qc(e)}function Qc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $c(e){return $c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$c(e)}function eu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const tu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.debounceTime,r=e.querySelector,n=e.closest,o=void 0!==n&&n;return function(e){var n,i;return i=n=function(n){Vc(c,n);var i=Xc(c);function c(e){var n;return Wc(this,c),eu(Qc(n=i.call(this,e)),"findDomNode",(function(){if(!n.isMounded)return null;var e=Jo().findDOMNode(Qc(n));return e&&o&&r?e.closest(r||"*"):e&&(r?e.querySelector(r):e)})),n.width=void 0,n.height=void 0,n.skipOnMount=e.skipOnMount,n.div=null,n.onResize=(0,l.debounce)((function(){var e;return(e=n.props).onResize.apply(e,arguments)}),void 0!==t?t:e.debounceTime||1e3),n.ro=new qc.Z((function(e){e.forEach((function(e){var t=e.contentRect,r=t.width,o=t.height,a=n.props.handleWidth&&n.width!==r,i=n.props.handleHeight&&n.height!==o;n.skipOnMount||!a&&!i||n.onResize({width:r,height:o}),n.width=r,n.height=o,n.skipOnMount=!1}))})),n}return Kc(c,[{key:"componentDidMount",value:function(){this.isMounded=!0,this.div=this.findDomNode(),this.div&&this.ro.observe(this.div)}},{key:"componentDidUpdate",value:function(){this.div=this.findDomNode(),this.div&&this.ro.observe(this.div)}},{key:"componentWillUnmount",value:function(){var e=this.findDomNode();e&&this.ro&&this.ro.unobserve&&this.ro.unobserve(e)}},{key:"render",value:function(){return a().createElement(e,this.props)}}]),c}(a().Component),eu(n,"propTypes",{handleWidth:Fe().bool,handleHeight:Fe().bool,onResize:Fe().func}),eu(n,"defaultProps",{onResize:function(){},handleWidth:!0,handleHeight:!0}),i}};function ru(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ru(Object(r),!0).forEach((function(t){ou(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ru(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ou(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const au=(0,Ge.withProps)((function(e){var t=e.projectionDefs;return{projectionDefs:(0,l.isArray)(t)&&t.length?t:Gt.ZP.getConfigProp("projectionDefs")||[]}}));var iu=r(57424),lu=uo(u.gG);const cu=function(e){var t=e.glyph,r=void 0===t?"info-sign":t,n=e.tooltip,o=e.tooltipId,i=e.iconFit,l=e.padding,c=void 0===l?0:l,u=e.margin,s=void 0===u?0:u;return a().createElement(iu.Z,null,(function(e){var t=e.width,l=e.height;return a().createElement(lu,{glyph:r,tooltip:n,tooltipId:o,style:{display:"inline-block",padding:c+"px",margin:s+"px",textAlign:"center",fontSize:i?Math.min(t,l)-2*c-2*s:t-2*c-2*s}})}))};function uu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function su(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uu(Object(r),!0).forEach((function(t){pu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const fu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,r=void 0===t?{}:t,n=e.mainViewStyle,o=void 0===n?{}:n,i=e.contentStyle,l=void 0===i?{}:i,c=e.imageStyle,u=void 0===c?{}:c,s=e.glyph,p=void 0===s?"info-sign":s,f=e.iconFit,d=e.title,m=e.tooltip,y=e.tooltipId,v=e.description,g=e.content;return a().createElement("div",{className:"empty-state-container",style:su({height:f?"100%":void 0},r)},a().createElement("div",{key:"main-view",className:"empty-state-main-view",style:su({height:f?"100%":void 0},o)},p?a().createElement("div",{key:"glyph",className:"empty-state-image",style:su({height:f?"100%":void 0},u)},a().createElement(cu,{iconFit:f,tooltip:m,tooltipId:y,glyph:p})):null,d?a().createElement("h1",{key:"title"},d):null,v?a().createElement("p",{key:"description",className:"empty-state-description"},v):null),a().createElement("div",{key:"content",className:"empty-state-content",style:l},g))};var du=(0,Ge.withProps)((function(e){var t=e.map;return{projection:e.projection||(t.data&&t.data.map?t.data.map.projection:t&&t.projection)}})),mu=(0,Ge.compose)(du,function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fu;return(0,Ge.branch)(e,(function(){return function(e){return a().createElement(r,t&&(0,l.isFunction)(t)?t(e):t)}}))}((function(e){var t=e.projectionDefs,r=void 0===t?Gt.ZP.getConfigProp("projectionDefs")||[]:t,n=e.projection;return n&&0===r.concat([{code:"EPSG:4326"},{code:"EPSG:3857"},{code:"EPSG:900913"}]).filter((function(e){return e.code===n})).length}),(function(e){var t=e.projection;return{glyph:"1-map",style:{width:"100%",height:"100%",display:"flex"},title:a().createElement(s.Z,{msgId:"map.errors.loading.title"}),mainViewStyle:{margin:"auto"},imageStyle:{height:120,width:120,margin:"auto"},description:a().createElement(s.Z,{msgId:"map.errors.loading.projectionError",msgParams:{projection:t}})}})));function yu(e){return yu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(e)}function vu(){return vu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vu.apply(this,arguments)}function gu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hu(e,t){return hu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},hu(e,t)}function Ou(e,t){if(t&&("object"===yu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Eu(e)}function Eu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wu(e){return wu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wu(e)}function Pu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Su(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ju(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Su(Object(r),!0).forEach((function(t){xu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Su(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const _u=(0,Ge.compose)((0,Ge.withHandlers)({onMapViewChanges:function(e){var t=e.map,r=void 0===t?{}:t,n=e.onMapViewChanges,o=void 0===n?function(){}:n;return function(e,t,n,a,i,l){o(ju(ju({},r),{},{center:e,bbox:ju(ju({},r.bbox),n),zoom:t,size:a,mapStateSource:i,projection:l}))}}}),(0,Ge.withPropsOnChange)(["onMapViewChanges","eventHandlers"],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onMapViewChanges,r=void 0===t?function(){}:t,n=e.eventHandlers,o=void 0===n?{}:n;return{eventHandlers:ju(ju({},o),{},{onMapViewChanges:r})}})));var Iu=r(49977),Au=r.n(Iu),Cu=r(55595),Tu=r.n(Cu),Nu=r(29138),Du=r(26656),Ru=r(35399),Lu=r(6874),ku=(0,Ge.compose)((0,Ge.withStateHandlers)({index:0},{setIndex:function(){return function(e){return{index:e}}}}),(0,Ge.defaultProps)({index:0,responses:[]}));const Mu=(0,Ge.compose)((0,Ge.defaultProps)({responses:[],container:function(e){var t=e.index,r=e.children;return a().createElement(a().Fragment,null,(0,l.isArray)(r)&&r[t]||r)},header:Lu.Z}),ku,Du.Yy,Du.mI,(0,Nu.Z)((function(e){return 0===e.responses.length})))(Ru.Z);var Fu=r(80750),Bu=r(89735);function Uu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Gu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zu(Object(r),!0).forEach((function(t){zu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Wu=["rawPos"],Hu=["PopupSupport","tools"];function Ku(){return Ku=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ku.apply(this,arguments)}function Vu(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Yu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yu(Object(r),!0).forEach((function(t){Ju(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ju(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $u=function(){return-1!==(0,Fu.lY)().indexOf("application/json")?"application/json":(0,Fu.wR)()},es=(0,Ge.mapPropsStream)((function(e){var t=(0,Ge.createEventHandler)(),r=t.stream,n=t.handler;return r.withLatestFrom(e.map((function(e){return{map:e.map,layers:e.layers,options:e.options}})).distinctUntilChanged((function(e,t){return(0,l.isEqual)(e,t)}))).switchMap((function(e){var t,r,n=(r=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Qu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qu(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0].point,a=n[1],i=a.map,c=a.layers,u=void 0===c?[]:c,s=a.options,p=(s=void 0===s?{}:s).mapOptions,f=(p=void 0===p?{}:p).mapInfoFormat,d=void 0===f?$u():f,m=u.filter(Fu.y_),y=["SLD_BODY"],v=["buffer","cql_filter","filter","propertyName"];return Iu.Observable.from(m).mergeMap((function(e){var t=(0,Fu.Fm)(e,{format:d,map:i,point:o,currentLocale:"en-US"}),r=t.url,n=t.request,a=t.metadata,c=r,u=n,s=Xu(Xu({},(0,Fu.K7)(e,v,y)),u),p=Tu()();return function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n.attachJSON,a=n.itemId,i=void 0===a?null:a,c=function(t){return Iu.Observable.defer((function(){return Oe().get(e,{params:t})}))},u=function(t){return(0,Fu.pf)(r,e,t)},s=(0,Fu.pf)(r,e,t)?u:c;return o&&"application/json"!==t.info_format&&"application/json"!==t.outputFormat?Iu.Observable.forkJoin(s(t),s(qu(qu({},t),{},{info_format:"application/json"})).map((function(e){return e.data})).catch((function(){return Iu.Observable.of({})}))).map((function(e){var t=Uu(e,2),r=t[0],n=t[1];return qu(qu({},r),{},{features:n&&n.features&&n.features.filter((function(e){return!!(0,l.isNil)(i)||e.id===i})),featuresCrs:n&&n.crs&&(0,Bu.parseURN)(n.crs)})})):s(t).map((function(e){return e.data})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{data:(0,l.isString)(e)?e:qu(qu({},e),{},{features:e.features&&e.features.filter((function(e){return!i||e.id===i}))}),features:e.features&&e.features.filter((function(e){return!i||e.id===i})),featuresCrs:e&&e.crs&&(0,Bu.parseURN)(e.crs)}}))}(c,s,e).map((function(e){return e.data.exceptions?{reqId:p,exceptions:e.data.exceptions,queryParams:u,layerMetadata:a}:{data:e.data,reqId:p,queryParams:u,layerMetadata:Xu(Xu({},a),{},{features:e.features,featuresCrs:e.featuresCrs})}})).catch((function(e){return{error:e.data||e.statusText||e.status,reqId:p,queryParams:u,layerMetadata:a}})).startWith({start:!0,reqId:p,request:s})})).scan((function(e,t){var r=e.requests,n=e.responses,o=e.validResponses;if(t.start){var a=t.reqId,i=t.request;return{requests:r.concat({reqId:a,request:i}),responses:n,validResponses:o}}var l=t.data,c=t.queryParams,u=t.layerMetadata,s=(0,Fu.Te)(d),p=n.concat({response:l,queryParams:c,layerMetadata:u});return{requests:r,validResponses:s.getValidResponses(p),responses:p}}),{requests:[],responses:[],validResponses:[]})})).startWith({requests:[],responses:[]}).combineLatest(e,(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Xu(Xu({},t),{},{mapInfo:e,getFeatureInfoHandler:n})}))})),ts=(0,Ge.branch)((function(e){var t=e.map,r=(t=void 0===t?{}:t).mapInfoControl;return void 0!==r&&r}),(0,Ge.compose)(es,(0,Ge.withStateHandlers)({popups:[]},{onClick:function(e,t){var r=t.getFeatureInfoHandler,n=void 0===r?function(){}:r;return function(e,t){var r=e.rawPos,o=void 0===r?[]:r,a=Vu(e,Wu);return n({point:a,layerInfo:t}),{popups:[{position:{coordinates:o},id:Tu()()}]}}},onPopupClose:function(){return function(){return{popups:[]}}}}),(0,Ge.withPropsOnChange)(["mapInfo","popups"],(function(e){var t=e.mapInfo,r=e.popups,n=e.options,o=(n=void 0===n?{}:n).mapOptions,i=(o=void 0===o?{}:o).mapInfoFormat,l=void 0===i?$u():i,c=t.responses,u=t.requests,s=t.validResponses,p=function(){return a().createElement(Mu,{renderEmpty:!0,responses:c,requests:u,validResponses:s,format:l,showEmptyMessageGFI:!0,missingResponses:(u||[]).length-(c||[]).length})};return{popups:r.map((function(e){return Xu(Xu({},e),{},{component:p})}))}})),(0,Ge.withPropsOnChange)(["plugins","onPopupClose","popups"],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.plugins,r=e.popups,n=e.onPopupClose,o=t.PopupSupport,i=t.tools,l=void 0===i?{}:i,c=Vu(t,Hu);if(!o)return{};var u=function(e){return a().createElement(o,Ku({},e,{popups:r,onPopupClose:n}))};return{plugins:Xu(Xu({},c),{},{tools:Xu(Xu({},l),{},{popup:u})})}})))),rs=(0,Ge.withPropsOnChange)(["onClick","eventHandlers"],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClick,r=void 0===t?function(){}:t,n=e.eventHandlers,o=void 0===n?{}:n;return{eventHandlers:Xu(Xu({},o),{},{onClick:r})}}));function ns(e){return ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ns(e)}var os=["impl","name"];function as(){return as=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},as.apply(this,arguments)}function is(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function ls(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ls(Object(r),!0).forEach((function(t){ys(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ls(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function us(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ss(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ps(e,t){return ps=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ps(e,t)}function fs(e,t){if(t&&("object"===ns(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ds(e)}function ds(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ms(e){return ms=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ms(e)}function ys(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ps(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ms(n);if(o){var r=ms(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return fs(this,e)});function c(){var e;us(this,c);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ys(ds(e=i.call.apply(i,[this].concat(r))),"getTool",(function(t){var r=e.props.plugins;return(0,l.isString)(t)?{name:t,impl:r.tools[t]}:cs({name:t.name,impl:r.tools[t.name]},t)})),ys(ds(e),"renderLayers",(function(){var t=e.props.map&&e.props.map.projection||"EPSG:3857",r=e.props.plugins.Layer;return e.props.layers.map((function(n,o){return a().createElement(r,{type:n.type,srs:t,position:o,key:n.id||n.name,options:n,env:n.localizedLayerStyles?e.props.env:[]},e.renderLayerContent(n,t))}))})),ys(ds(e),"renderLayerContent",(function(t,r){if(t.features&&"vector"===t.type){var n=e.props.plugins.Feature;return t.features.map((function(e){return a().createElement(n,{key:e.id,msId:e.id,type:e.type,crs:r,geometry:e.geometry,features:e.features,featuresCrs:t.featuresCrs||"EPSG:4326",layerStyle:t.style,style:e.style||t.style||null,properties:e.properties})}))}return null})),ys(ds(e),"renderTools",(function(){return e.props.tools.map((function(t){var r=e.getTool(t),n=r.impl,o=r.name,i=is(r,os);return a().createElement(n,as({key:o},i))}))})),e}return t=c,(r=[{key:"render",value:function(){var e=this.props.plugins.Map,t=this.props.map&&this.props.map.projection||"EPSG:3857";return this.props.map&&e?a().createElement(e,as({projectionDefs:this.props.projectionDefs,style:this.props.styleMap,id:this.props.id,zoomControl:!1,center:{x:0,y:0},zoom:1,hookRegister:this.props.hookRegister,mapStateSource:this.props.mapStateSource||this.props.id},this.props.options,this.props.map,{projection:t},this.props.eventHandlers),this.renderLayers(),this.renderTools(),this.props.children):null}}])&&ss(t.prototype,r),c}(a().Component);ys(vs,"propTypes",{id:Fe().string,options:Fe().object,map:Fe().object,mapStateSource:Fe().string,eventHandlers:Fe().object,styleMap:Fe().object,layers:Fe().array,hookRegister:Fe().object,projectionDefs:Fe().array,plugins:Fe().any,tools:Fe().array,getLayerProps:Fe().func,env:Fe().array}),ys(vs,"defaultProps",{id:"__base_map__",options:{},map:{},styleMap:{},tools:[],projectionDefs:[],eventHandlers:{onMapViewChanges:function(){},onClick:function(){},onMouseMove:function(){},onLayerLoading:function(){},onLayerError:function(){}},env:[]});const gs=vs,bs=(0,Ge.compose)(_u,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(0,Ge.compose)((0,Ge.withStateHandlers)((function(){return{resize:0}}),{onResize:function(e){var t=e.resize,r=void 0===t?0:t;return function(){return{resize:r+1}}}}),tu({debounceTime:e}),(0,Ge.withProps)((function(e){var t=e.options,r=e.resize;return{options:nu(nu({},t),{},{resize:r})}})))}(0),Zc,(function(e){var t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hu(e,t)}(u,t);var n,o,i,l,c=(i=u,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=wu(i);if(l){var r=wu(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Ou(this,e)});function u(){var e;gu(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Pu(Eu(e=c.call.apply(c,[this].concat(r))),"state",{plugins:{}}),e}return n=u,(o=[{key:"componentDidMount",value:function(){this.setPlugins(this.props),this._isMounted=!0}},{key:"componentWillUpdate",value:function(e){e.mapType!==this.props.mapType&&this.setPlugins(e)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var t=this.state.plugins;return a().createElement(e,vu({},this.props,{plugins:t}))}},{key:"setPlugins",value:function(e){var t=this;e.mapType&&r(43120)("./"+e.mapType+".js").then((function(e){t._isMounted&&(t.setState({plugins:e.default()}),t.props.onMapTypeLoaded())}))}}])&&bu(n.prototype,o),u}(a().Component);return Pu(t,"propTypes",{mapType:Fe().string,onMapTypeLoaded:Fe().func}),Pu(t,"defaultProps",{onMapTypeLoaded:function(){}}),t.displayName="".concat(e.displayName,"WithMapType"),t}),ts,rs,au,mu)(gs),hs=function(e){return function(t){return(0,o.useEffect)((function(){window.process?window.process.env||(window.process.env={}):window.process={env:{}}}),[]),a().createElement(e,t)}}(bs);var Os=r(17989);function Es(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ws(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Es(Object(r),!0).forEach((function(t){Ps(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Es(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ps(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ss(e){var t,r,n,o=e.layers,i=void 0===o?[]:o,l=e.map,c=e.proprietaires,u=void 0===c?[]:c,s=e.info,p=void 0===s?{}:s,f=e.parcelleData,d=void 0===f?[]:f,m=e.configuration,y=void 0===m?{}:m,v=e.hookRegister,g=p.comptecommunal,b=p.dcntpa_sum,h=p.sigcal_sum,O=p.sigcalb_sum,E=y.organisme,w=y.dateValiditeEDIGEO,P=y.dateValiditeMajic;return a().createElement("div",{id:"cadastrapp-landed-prop-print-page",className:"cadastrapp-landed-prop-print-page"},a().createElement("div",{className:"page"},a().createElement("div",{id:"titre"},a().createElement("p",null),a().createElement("h1",null,"Information sur une unité foncière"),a().createElement("p",null)),a().createElement(Os.ResizableBox,{height:350,maxConstraints:[1/0,600],resizeHandle:"s",axis:"y"},a().createElement(hs,{id:"landed-property-map",hookRegister:v,layers:i,map:ws({},l)})),a().createElement("br",null),a().createElement("div",{id:"informationgenerale"},a().createElement("div",{className:"proprieteaire"},g?a().createElement("div",{className:"propTitle"},u.length>1?"Propriétaires":"Propriétaire","  ( ",g," )"):null,a().createElement("div",{className:"propList"},u.map((function(e){var t=e.app_nom_usage;return a().createElement("div",null,t)}))),a().createElement("div",{className:"datauflist"},b?a().createElement("div",{className:"datauf"},a().createElement("span",{className:"dataufLabel"},"Contenance DGFIP de l'UF : "),null===b?0:b.toLocaleString()," m²"):null,void 0!==O||void 0!==h?a().createElement(a().Fragment,null,a().createElement("div",{className:"datauf"},a().createElement("span",{className:"dataufLabel"},"Surface parcellaire calculée : "),null===h?0:h.toLocaleString()," m²"),a().createElement("div",{className:"datauf"},a().createElement("span",{className:"dataufLabel"},"Surface bâtie calculée : "),null===p.sigcalb_sum?0:O.toLocaleString()," m²"),a().createElement("div",{className:"datauf"},a().createElement("span",{className:"dataufLabel"},"Pourcentage surface bâtie calculée : "),(r=O,n=0,(t=h)&&r&&0!==t&&0!==r&&(n=(r/t*100).toFixed(1)),n)," %")):null))),a().createElement("div",{id:"composition"},a().createElement("div",{className:"info"},a().createElement("b",null,"Cette unité foncière est composée de ",d.length," ",d.length>1?"parcelles":"parcelle",".")),a().createElement("div",{className:"info"},"La somme des surfaces parcellaires calculée est égale à ",d.reduce((function(e,t){var r=t.surfc;return e+(null!=r?r:0)}),0)," m².")),a().createElement("div",{id:"parcelles"},d.map((function(e){var t=e.parcelle,r=e.surfc;return a().createElement("div",{className:"data"},a().createElement("span",{className:"dataLabel"},t),(null!=r?r:0).toLocaleString()," m²")}))),a().createElement("br",null),a().createElement("div",{id:"services"},a().createElement("div",null,"Données foncières valides au ",P," - Données cartographiques valides au ",w),a().createElement("div",null,E))))}function js(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?js(Object(r),!0).forEach((function(t){_s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):js(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Is(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return As(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?As(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function As(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cs(e){var t=e.show,r=e.onClose,n=e.parcelle,i=e.configuration,l=e.map,c=e.layers,p=Is((0,o.useState)({}),2),f=p[0],d=p[1],m={registerHook:function(e,t){d(xs(xs({},f),{},_s({},e,t)))},getHook:function(e){return f[e]},executeHook:function(e,t,r){var n=f[e];return n?t(n):r?r():null}},y=Is((0,o.useState)(!1),2),v=y[0],g=y[1],b=Is((0,o.useState)(!1),2),h=b[0],O=b[1],E=Is((0,o.useState)(),2),w=E[0],P=E[1],S=Is((0,o.useState)(),2),j=S[0],x=S[1],_=Is((0,o.useState)(),2),I=_[0],A=_[1];return(0,o.useEffect)((function(){var e,t;n&&(O(!0),(e={parcelle:null==n?void 0:n.parcelle},t={parcelle:e.parcelle},Oe().get("".concat(Se,"/services/getInfoUniteFonciere"),{params:t}).then((function(e){return e.data}))).then((function(e){if(e){var t=e.comptecommunal,r=e.uf;x(e),Ie({details:2,comptecommunal:t}).then((function(e){return P(e)})).catch((function(e){console.log(e)})),je({unitefonciere:r}).then(A)}})))}),[n]),(0,o.useEffect)((function(){h&&j&&w&&I&&O(!1)}),[h,j,w,I]),(0,o.useEffect)((function(){var e=f.ZOOM_TO_EXTENT_HOOK;if(!v&&e){var t=Uc()({type:"FeatureCollection",features:null!=n&&n.feature?[null==n?void 0:n.feature]:[]});null!=n&&n.feature&&e(t,{crs:"EPSG:4326"}),g(!0)}}),[f,n,v]),a().createElement(Jt,{style:{maxHeight:"100%",overflowY:"auto",zIndex:1e4},dialogClassName:"cadastrapp-modal cadastrapp-landed-property-modal",show:t,onHide:r},a().createElement(Jt.Header,{closeButton:!0},a().createElement(Jt.Title,null,a().createElement(s.Z,{msgId:"cadastrapp.uniteFonciere"}))),a().createElement(Jt.Body,{style:{maxHeight:700,overflow:"auto"}},a().createElement(Ss,{map:l,hookRegister:m,layers:c,info:j,configuration:i,proprietaires:w,parcelle:n,parcelleData:I})),a().createElement(Jt.Footer,null,a().createElement(u.zx,{disabled:h,bsStyle:"primary",onClick:function(){!function(e){var t=document.getElementById(e),r=window.open("","_blank");r.document.write(t.innerHTML);var n=r.document.createElement("style");n.innerHTML=Fc(),r.document.title="Information sur une unité foncière",r.document.getElementsByTagName("body")[0].setAttribute("class","cadastrapp-landed-prop-print-page"),r.document.getElementsByTagName("head")[0].appendChild(n);var o=document.querySelector("#".concat(e," .ol-viewport canvas"));r.document.querySelector("canvas").getContext("2d").drawImage(o,0,0),r.document.close(),r.focus(),r.print(),r.close()}("cadastrapp-landed-prop-print-page")}},h?a().createElement(Ot(),{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}):null,a().createElement(s.Z,{msgId:"cadastrapp.menu.tooltips.imprimer"}))))}r(36515);var Ts=r(24272),Ns=r.n(Ts),Ds=r(68592),Rs=r.n(Ds),Ls={iconUrl:Ns(),shadowUrl:Rs(),iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},ks=r(34554);function Ms(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ms(Object(r),!0).forEach((function(t){Bs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ms(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Us=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layers,r=e.config;return t&&(0,l.isArray)(t)?t:t&&t.flat||r&&r.layers||[]},Gs=((0,d.P1)([Us,ks.Dg,function(e){return e.search&&e.search},function(e){return(0,l.get)(e,"mapInfo.centerToMarker","")},function(e){return(0,l.get)(e,"additionallayers",[])},function(e){return e.annotations&&e.annotations.showMarker&&e.annotations.clickPoint}],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,i=o.filter((function(e){return"override"===e.actionType})),c=o.filter((function(e){return"overlay"===e.actionType})).map((function(e){return e.options})),u=e.map((function(e){var t=((0,l.head)(i.filter((function(t){return t.id===e.id})))||{}).options;return t?Fs(Fs({},e),t):Fs({},e)}));if(u=u.concat(c),t){u.push((0,Fu.su)("GetFeatureInfoHighLight",{features:t.features},void 0,{overrideOLStyle:!0,featuresCrs:t.featuresCrs,style:Fs(Fs({},Ls),{color:"#3388ff",weight:4,dashArray:"",fillColor:"#3388ff",fillOpacity:.2})}));var s="enabled"===n?(0,Bu.getNormalizedLatLon)(t.latlng):t.latlng;u.push((0,Fu.su)("GetFeatureInfo",s))}if(a){var p="enabled"===n?(0,Bu.getNormalizedLatLon)(a.latlng):a.latlng;u.push((0,Fu.su)("Annotations",p)),u.push((0,Fu.su)("GetFeatureInfo",Fs({},p)))}if(r&&r.markerPosition){var f=(0,l.isObject)(r.style)&&r.style||{};u.push((0,Fu.su)("GeoCoder",r.markerPosition,"marker",{overrideOLStyle:!0,style:Fs(Fs({},Ls),f)},r.markerLabel))}return u})),r(39522));function Zs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zs(Object(r),!0).forEach((function(t){zs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ws(e){return function(e){if(Array.isArray(e))return Hs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Hs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Hs(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ks=(0,d.P1)(Us,T,oe,ee,$,(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;return[].concat(Ws(t),Ws(r.filter((function(e){return e.id===m})).map((function(e){return e.options}))),Ws(null!=n&&n.feature?[{id:"vector-layer",features:[qs(qs({},null!==(e=null==n?void 0:n.feature)&&void 0!==e?e:{}),{},{style:null!=n&&n.ufFeature?a:o})],type:"vector",name:"searchPoints",visibility:!0}]:[]))}));const Vs=(0,i.connect)((0,d.zB)({parcelle:oe,show:oe,layers:Ks,map:Gs.Od,configuration:F}),{onClose:function(){return Gn(void 0)}})((function(e){return e.show?a().createElement(Cs,e):null}));var Ys=["enabled"];const Xs=(0,i.connect)((function(e){return{enabled:e.controls&&e.controls.cadastrapp&&e.controls.cadastrapp.enabled||!1,configuration:F(e)}}))((function(e){var t=e.enabled,r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Ys);return t?a().createElement("div",{className:"cadastrapp"},a().createElement(kc,null),a().createElement(Lc,r),a().createElement(Yi,r),a().createElement(Vs,null)):null}));r(28294);var Js=["setUp","tearDown","openOnLoad","open"];var Qs=["parcelle"];function $s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function ep(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ep(Object(r),!0).forEach((function(t){rp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ep(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function np(e){return function(e){if(Array.isArray(e))return op(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return op(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?op(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function op(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ap(e,t){if((0,R.find)(e.data,{parcelle:t})){var r=e.selected.indexOf(t),n=e.selected;return n=r>=0?n.filter((function(e){return e!==t})):[].concat(np(n),[t]),tp(tp({},e),{},{selected:n})}return e}var ip={data:[],selected:[]},lp={plots:[],styles:{}};function cp(e){return function(e){if(Array.isArray(e))return up(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return up(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?up(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function up(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.startWith.apply(e,cp(t))},pp=function(e,t,r){return function(n){return(r?sp(n,(0,l.castArray)(e)).catch(r):sp(n,(0,l.castArray)(e))).concat(Au().Observable.from((0,l.castArray)(t)))}},fp="ADDITIONALLAYER:UPDATE_ADDITIONAL_LAYER",dp="ADDITIONALLAYER:REMOVE_ADDITIONAL_LAYER",mp=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"override",n=arguments.length>3?arguments[3]:void 0;return{type:fp,id:e,owner:t,actionType:r,options:n}},yp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=e.owner;return{type:dp,id:t,owner:r}},vp=r(5443),gp="MAP_LAYOUT:UPDATE_MAP_LAYOUT",bp="MOUSE_MOVE";function hp(e,t,r){return{type:"ZOOM_TO_EXTENT",extent:e,crs:t,maxZoom:r}}var Op=function(e,t){return{type:"REGISTER_EVENT_LISTENER",eventName:e,toolName:t}},Ep=function(e,t){return{type:"UNREGISTER_EVENT_LISTENER",eventName:e,toolName:t}};function wp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wp(Object(r),!0).forEach((function(t){Sp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Sp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jp="MAP:ADD_POPUP",xp=r(33437),_p=r.n(xp);function Ip(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ap(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ip(Object(r),!0).forEach((function(t){Cp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ip(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Cp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tp(e){return function(e){if(Array.isArray(e))return Np(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Np(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Np(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Np(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dp(e){var t=e.getState();return t.controls&&t.controls.cadastrapp&&t.controls.cadastrapp.enabled||!1}var Rp=function(e,t){return e.ofType(nn).switchMap((function(){var e=Au().Observable.defer((function(){return Oe().get("".concat(Se,"/services/getConfiguration")).then((function(e){return e.data}))})).switchMap((function(e){return Au().Observable.of({type:cn,configuration:e})})),r=_p()(t.getState(),"mapInfo.enabled");return e.concat(Au().Observable.defer((function(){var e=F(t.getState()),n=e.cadastreWMSLayerName,o=e.cadastreWMSURL,a=e.cadastreWFSLayerName,i=e.cadastreWFSURL;return Au().Observable.from([mp(m,v,"overlay",{id:m,type:"wms",name:n,url:o,visibility:!0,search:{url:i,name:a,type:"wfs"}},!0),mp(y,v,"overlay",{id:y,features:[],type:"vector",name:"searchPoints",visibility:!0}),Op(C,g)]).concat(Tp(r?[(0,vp.TM)(),(0,vp.aN)()]:[]))}))).concat(Au().Observable.of({type:on})).let(pp(kn(!0,"configuration"),kn(!1,"configuration"),(function(e){return console.log(e),Au().Observable.of(lc({title:"Error",message:"Unable to setup cadastrapp"}),kn(!1,"configuration"))})))}))},Lp=function(e,t){return e.ofType(gp).filter((function(){return Dp(t)})).filter((function(e){return"cadastrapp"!==e.source})).map((function(e){var t=e.layout,r=function(e){return{type:gp,layout:e}}({layout:t,right:660,boundingMapRect:Ap(Ap({},t.boundingMapRect||{}),{},{right:660})});return Ap(Ap({},r),{},{source:"cadastrapp"})}))},kp=function(e,t){return e.ofType("SET_CONTROL_PROPERTIES").filter((function(){return Dp(t)})).filter((function(e){var t=e.control,r=e.properties;return"metadataexplorer"===t&&(null==r?void 0:r.enabled)})).map((function(){return{type:"SET_CONTROL_PROPERTY",control:g,property:"enabled",value:!1,toggle:undefined}}))},Mp=function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType(an).switchMap((function(){return Au().Observable.from([Mn(),yp({id:m,owner:v}),yp({id:y,owner:v}),{type:"MAP:CLEAN_POPUPS"},Ep(C,g)]).concat(Tp(_p()(n(),"mapInfo.enabled")?[]:[(0,vp.TM)()]))}))};function Fp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fp(Object(r),!0).forEach((function(t){Up(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Up(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Gp=function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType(on,mn,pn,fn,dn,yn,vn,gn,On,wn,En).switchMap((function(){var e=te(n()),t=Z(n());return Au().Observable.of(mp(y,v,"overlay",Bp(Bp({},t),{},{features:e})))}))},Zp=function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType(hn).switchMap((function(){var e,t,r,o,a=(e=n(),t=$(e),r=ee(e),o=[],K(e).forEach((function(n){return n.forEach((function(n){var a=n.feature,i=n.parcelle,l=X(e).includes(i);o.push(k(k({},a),{},{style:l?t:r}))}))})),o),i=Z(n());return a.length?Au().Observable.of(hp(Uc()({type:"FeatureCollection",features:a}),"EPSG:4326"),mp(y,v,"overlay",Bp(Bp({},i),{},{features:a}))):Au().Observable.empty()}))},qp=r(54760),zp=r.n(qp),Wp=r(8750),Hp=r.n(Wp);function Kp(e,t,r,n,o,a){return{type:"CHANGE_DRAWING_STATUS",status:e,method:t,owner:r,features:n,options:o,style:a}}var Vp=r(72500),Yp=r.n(Vp),Xp=r(28642),Jp=r.n(Xp),Qp=r(42417),$p=r(16056);function ef(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}new(Jp().Builder);function rf(e){return rf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(e)}function nf(e,t){if(t&&("object"===rf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function of(e){var t="function"==typeof Map?new Map:void 0;return of=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return af(e,arguments,uf(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),cf(n,e)},of(e)}function af(e,t,r){return af=lf()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&cf(o,r.prototype),o},af.apply(null,arguments)}function lf(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function cf(e,t){return cf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},cf(e,t)}function uf(e){return uf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},uf(e)}(0,Ue.mo)("geostore",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ef(Object(r),!0).forEach((function(t){tf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ef(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},{mapsError:function(e){return 403===e.status||404===e.status||409===e.status||500===e.status?{title:"map.mapError.errorTitle",message:"map.mapError.error"+e.status}:{title:"map.mapError.errorTitle",message:"map.mapError.errorDefault"}}}));var sf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cf(e,t)}(o,e);var t,r,n=(t=o,r=lf(),function(){var e,n=uf(t);if(r){var o=uf(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return nf(this,e)});function o(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(r=n.call(this,e)).name="OGCError",r.code=t,r}return o}(of(Error)),pf=function(e){return e.switchMap((function(e){return"string"==typeof e.data&&e.data.indexOf("ExceptionReport")>0?Au().Observable.bindNodeCallback((function(e,t){return(0,Xp.parseString)(e,{tagNameProcessors:[Qp.stripPrefix],explicitArray:!1,mergeAttrs:!0},t)}))(e.data).map((function(e){var t=(0,l.get)(e,"ExceptionReport.Exception.ExceptionText");throw new sf(t||"Undefined OGC Service Error",(0,l.get)(e,"ExceptionReport.Exception.exceptionCode"))})):Au().Observable.of(e)}))},ff=r(82687),df=["totalFeatures","features"],mf=["sortOptions","propertyName"];function yf(e){return function(e){if(Array.isArray(e))return vf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return vf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vf(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gf(e){return gf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(e)}function bf(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function hf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Of(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hf(Object(r),!0).forEach((function(t){Ef(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ef(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var wf=r.n(ff)()({wfsVersion:"1.1.0"}),Pf=wf.getFeature,Sf=wf.query,jf=wf.sortBy,xf=wf.propertyName,_f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.totalFeatures,r=e.features,n=bf(e,df),o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.startIndex,i=arguments.length>2?arguments[2]:void 0;return i>t&&i===a+r.length&&t===r.length?Of(Of({},n),{},{features:r,totalFeatures:i}):Of(Of({},n),{},{features:r,totalFeatures:t})},If=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.pagination||!(0,l.isNil)(t.startIndex)&&!(0,l.isNil)(t.maxFeatures)&&{startIndex:t.startIndex,maxFeatures:t.maxFeatures}},Af=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(0,$p.fV)(t,r),o=Yp().parse(e,!0),a=(0,l.isObject)(o.query)?o.query:{};a.service="WFS",a.outputFormat="json";var i=Yp().format({protocol:o.protocol,host:o.host,pathname:o.pathname,query:a});return Au().Observable.defer((function(){return Oe().post(i,n,{timeout:6e4,headers:{Accept:"application/json","Content-Type":"application/json"}})})).let(pf).map((function(e){return _f(e.data,If(t,r),r.totalFeatures)}))},Cf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.search,r=void 0===t?{}:t,n=e.url,o=e.name,a=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=i.sortOptions,u=i.propertyName,s=bf(i,mf);return Af(r.url||n,a&&"object"===gf(a)?Of(Of({},a),{},{typeName:o||a.typeName}):Pf(Sf(o,[].concat(yf(c?[jf(c.sortBy,c.sortOrder)]:[]),yf(u?[xf(u)]:[]),yf(a?(0,l.castArray)(a):[]))),s),s).catch((function(e){if("OGCError"===e.name&&"NoApplicableCode"===e.code&&!c&&u&&u[0])return Af(r.url||n,a&&"object"===gf(a)?Of(Of({},a),{},{typeName:o||a.typeName}):Pf(Sf(o,[jf(u[0])].concat(yf(u?[xf(u)]:[]),yf(a?(0,l.castArray)(a):[]))),s),s);throw e}))},Tf=function(e){return function(t,r,n){var o,a,i=n.filter((function(r){var n,o;return(null==r||null===(n=r.properties)||void 0===n?void 0:n[e])===(null==t||null===(o=t.properties)||void 0===o?void 0:o[e])})),l=(0,R.head)((0,R.sortBy)(i,"lot").reverse());return(null==t||null===(o=t.properties)||void 0===o?void 0:o.lot)===(null==l||null===(a=l.properties)||void 0===a?void 0:a.lot)}};const Nf=(0,i.connect)((function(e){return{loader:ce(e),infoBulle:le(e),authLevel:q(e),foncier:(0,R.get)(ue(e),"foncier",!0)}}))((0,Nu.Z)((function(e){return e.loader}))((function(e){var t=e.infoBulle,r=void 0===t?{}:t,n=e.authLevel,o=void 0===n?{}:n,i=e.foncier;if((0,R.isEmpty)(r))return a().createElement("div",{className:"popup-container"},a().createElement(s.Z,{msgId:"cadastrapp.nodata"}));var l,c,u,p=o.isCNIL1||o.isCNIL2,f=r.parcelle,d=void 0===f?"":f,m=r.libcom,y=void 0===m?"":m,v=r.sigcal_sum,g=r.comptecommunal,b=void 0===g?"":g,h=r.dcntpa_sum,O=r.proprietaires,E=void 0===O?[]:O,w=r.dnvoiri,P=void 0===w?"":w,S=r.dindic,j=void 0===S?"":S,x=r.cconvo,_=void 0===x?"":x,I=r.dvoilib,A=void 0===I?"":I,C=r.ccopre,T=void 0===C?"":C,N=r.ccosec,D=void 0===N?"":N,L=r.dnupla,k=void 0===L?"":L,M=r.dcntpa,F=r.surfc,B=P+" "+j+" "+_+" "+A,U=d.length>15;U?(l=d.substr(4,2),c=d.substr(6,1),u=d.substr(7,3)):(l=d.substr(0,2),c=d.substr(2,1),u=d.substr(3,3));var G=[{label:a().createElement(s.Z,{msgId:"cadastrapp.infobulle.commune"}),value:y},{label:a().createElement(s.Z,{msgId:"cadastrapp.infoBuelle.annee"}),value:d.substr(0,4),condition:U},{label:a().createElement(s.Z,{msgId:"cadastrapp.infobulle.departement"}),value:l},{label:a().createElement(s.Z,{msgId:"cadastrapp.infobulle.direction"}),value:c,condition:0!==parseInt(c,10)},{label:a().createElement(s.Z,{msgId:"cadastrapp.infobulle.inseecom"}),value:u},{label:a().createElement(s.Z,{msgId:"cadastrapp.infobulle.prefix"}),value:T},{label:a().createElement(s.Z,{msgId:"cadastrapp.infobulle.section"}),value:D},{label:a().createElement(s.Z,{msgId:"cadastrapp.infobulle.nplan"}),value:k},{label:a().createElement(s.Z,{msgId:"cadastrapp.infobulle.adresse"}),value:B},{label:a().createElement(s.Z,{msgId:"cadastrapp.contenancedgfip"}),value:(0,R.isNumber)(M)?M.toLocaleString()+" m²":""},{label:a().createElement(s.Z,{msgId:"cadastrapp.sig"}),value:(0,R.isNumber)(F)?F.toLocaleString()+" m²":""}];return a().createElement("div",{className:"popup-container"},a().createElement("div",{className:"cadastrapp-infobulle-parcelle"},a().createElement("table",{className:"info-popup-table"},a().createElement("thead",null,a().createElement("tr",null,a().createElement("th",{colSpan:"2",className:"info-popup-header"},a().createElement(s.Z,{msgId:"cadastrapp.infobulle.parcelle"})))),a().createElement("tbody",null,a().createElement("tr",null,a().createElement("td",{colSpan:"2",className:"info-popup-plot"},d)),G.map((function(e){var t=e.label,r=e.value,n=e.condition;return(void 0===n||n)&&a().createElement("tr",null,a().createElement("td",{className:"info-popup-label"},t," :"),a().createElement("td",{className:"info-popup-value"}," ",r))})),p&&!(0,R.isEmpty)(E)&&E.map((function(e){var t=e.app_nom_usage;return a().createElement("tr",null,a().createElement("td",{className:"info-popup-label"},a().createElement(s.Z,{msgId:"cadastrapp.infobulle.proprietaire"})," :"),a().createElement("td",{className:"info-popup-value"}," ",t))}))))),i?p||h||v||b?a().createElement("div",{className:"cadastrapp-unite-fonciere"},a().createElement("table",{className:"info-popup-table"},a().createElement("thead",null,a().createElement("tr",null,a().createElement("th",{colSpan:"2",className:"info-popup-header"},a().createElement(s.Z,{msgId:"cadastrapp.infobulle.landUnit"})))),a().createElement("tbody",null,p&&!(0,R.isEmpty)(b)&&a().createElement("tr",null,a().createElement("td",{className:"info-popup-label"},a().createElement(s.Z,{msgId:"cadastrapp.infobulle.ccomunal"})," :"),a().createElement("td",{className:"info-popup-value"}," ",b)),h&&a().createElement("tr",null,a().createElement("td",{className:"info-popup-label"},a().createElement(s.Z,{msgId:"cadastrapp.contenancedgfip"})," UF :"),a().createElement("td",{className:"info-popup-value"}," ",h," m²")),v&&a().createElement("tr",null,a().createElement("td",{className:"info-popup-label"},a().createElement(s.Z,{msgId:"cadastrapp.sig"})," UF :"),a().createElement("td",{className:"info-popup-value"}," ",v," m²"))))):a().createElement(s.Z,{msgId:"cadastrapp.infobulle.noaccess"}):null)})));var Df=["features"];function Rf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||kf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lf(e){return function(e){if(Array.isArray(e))return Mf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||kf(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kf(e,t){if(e){if("string"==typeof e)return Mf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mf(e,t):void 0}}function Mf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ff(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ff(Object(r),!0).forEach((function(t){Uf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ff(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Uf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gf(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Zf=[Kp("clean"),Kp("stop"),Op(C,g),kn(0,"plotSelection")],qf=function(){return Au().Observable.from(Zf)};function zf(e,t){var r,n,o,a;return Cf(t,{filterType:"OGC",featureTypeName:null!==(r=null==t||null===(n=t.search)||void 0===n?void 0:n.name)&&void 0!==r?r:null==t?void 0:t.name,typeName:null!==(o=null==t||null===(a=t.search)||void 0===a?void 0:a.name)&&void 0!==o?o:null==t?void 0:t.name,ogcVersion:"1.1.0",spatialField:{attribute:"geom",geometry:e,operation:"INTERSECTS"}})}var Wf=function(e,t,r){return zf(e,G(t())).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.features,n=void 0===t?[]:t,o=Gf(e,Df);return Bf(Bf({},o),{},{features:n.filter(Tf(r))})}))},Hf=function(e,t){var r,n,o;return zf(e,{type:"wfs",name:n=(r=F(t())).uFWFSLayerName,url:o=r.uFWFSURL,search:{type:"wfs",url:o,name:n}})},Kf=function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType(un).switchMap((function(t){var r=t.selectionType;if(r){var o=Kp("start",function(e){switch(e){case b.POINT:case b.LANDED_PROPERTY:return"Point";case b.LINE_STRING:return"LineString";case b.POLYGON:return"Polygon";default:return null}}(r),"cadastrapp",[],{stopAfterDrawing:!0});return e.ofType("DRAW:END_DRAWING").flatMap((function(e){var t=e.geometry,a=U(n());return Wf(t,n,a).switchMap((function(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=o.features,l=void 0===i?[]:i;return(e=Au().Observable).of.apply(e,Lf(l.map((function(e){return je({parcelle:null==e?void 0:e.properties[a]}).then((function(t){return Bf(Bf({},Rf(t,1)[0]),{},{feature:e})}))})))).mergeAll(5).filter((function(e){return!!e.parcelle})).flatMap((function(e){return r===b.LANDED_PROPERTY?Au().Observable.defer((function(){return Hf(t,n)})).catch((function(e){return console.log("Error retrieving uf feature in map selection"),console.log(e),Au().Observable.of({features:[]})})).map((function(e){var t=e.features,r=void 0===t?[]:t;return null==r?void 0:r[0]})).map((function(t){return Gn(Bf(Bf({},e),{},{feature:t,ufFeature:!!t}))})):Au().Observable.of(Fn([e]))}))})).catch((function(e){return console.log("Error in map selection"),console.log(e),Au().Observable.empty()})).merge(Au().Observable.of(o).delay(200)).let(pp([kn(!0,"plotSelection","count")],kn(!1,"plotSelection","count")))})).merge(Au().Observable.of(Ep(C,g))).startWith(o).takeUntil(e.ofType(an)).concat(qf())}return qf()}))},Vf=function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType(In).filter((function(e){var t=e.parcelle;return!(null==t||!t.feature)})).switchMap((function(e){var t,r=e.parcelle,o=(null!==(t=Hp()(null==r?void 0:r.feature))&&void 0!==t?t:{}).geometry;return o?Au().Observable.defer((function(){return Hf(o,n)})).catch((function(e){return console.log("Error retrieving uf feature in map selection"),console.log(e),Au().Observable.of(Gn(r))})).map((function(e){var t=e.features,r=void 0===t?[]:t;return null==r?void 0:r[0]})).map((function(e){return Gn(Bf(Bf({},r),{},{feature:e,ufFeature:!!e}))})):(console.log("Error retrieving uf feature in map selection. No parcelle geometry to extract point for UF Layer intersection"),Au().Observable.of(Gn(r)))}))},Yf=function(e,t){var r,n=t.getState;return e.ofType(bp).debounceTime((null===(r=se(n()))||void 0===r?void 0:r.timeToShow)||1e3).filter((function(){var e,t,r,o;return(null==(t=n())||null===(r=t.controls)||void 0===r||null===(o=r.cadastrapp)||void 0===o?void 0:o.enabled)&&!z(n())&&(0,Gs.Od)(n()).zoom>=((null===(e=se(n()))||void 0===e?void 0:e.minZoom)||"14")})).switchMap((function(e){var t,r=e.position,o=n(),a=function(e){var t,r,n=null==e||null===(t=e.geometricFilter)||void 0===t||null===(r=t.value)||void 0===r?void 0:r.geometry;if(n)return n;var o=e.lng||e.latlng.lng;return{coordinates:[o-360*Math.floor(o/360+.5),e.lat||e.latlng.lat],projection:"EPSG:4326",type:"Point"}}(r),i=U(o);return(null===(t=o.mousePosition)||void 0===t?void 0:t.mouseOut)?Au().Observable.of({type:"MAP:CLEAN_POPUPS"}):Wf(a,n,i).switchMap((function(e){var t=e.features,n=void 0===t?[]:t;if(_r()(n))return Au().Observable.of({type:"MAP:CLEAN_POPUPS"});var o=Rf(n,1)[0],a=null==o?void 0:o.properties[i];return Au().Observable.of(function(e,t){return{type:Dn,parcelle:e,position:t}}(a,r))}))}))},Xf=function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType(Dn).switchMap((function(t){var r=t.parcelle,o=t.position;return Au().Observable.defer((function(){var e;return function(e){var t=we({parcelle:e},!(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&{infouf:0});return Oe().get("".concat(Se,"/services/getInfoBulle"),{params:t}).then((function(e){return e.data}))}(r,null===(e=ue(n()))||void 0===e?void 0:e.foncier).then((function(e){return function(e){return{type:Nn,data:e}}(e)}))})).merge(Au().Observable.of(function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return{type:jp,id:e,popup:Pp({id:e},t),single:r}}(tr()(),{component:Nf,maxWidth:600,position:{coordinates:o?o.rawPos:[]},autoPanMargin:70,autoPan:!0})),e.ofType(bp,Nn).switchMap((function(e){return e.type!==bp||zp()(o,null==e?void 0:e.position)?_r()(e.data)?Au().Observable.empty():Au().Observable.of(kn(!1,"popupLoading")):Au().Observable.of({type:"MAP:CLEAN_POPUPS"})}))).let(pp([kn(!0,"popupLoading")],kn(!1,"popupLoading"),(function(){return Au().Observable.of(lc({title:"Error",message:"cadastrapp.popup.error"}),kn(!1,"popupLoading"))}))).concat(e.ofType("MOUSE_OUT").switchMap((function(){return Au().Observable.of({type:"MAP:CLEAN_POPUPS"})})))}))};function Jf(e,t){return e.ofType(bn).switchMap((function(){var e,r,n=null!==(e=function(e){var t,r=X(e);return(null!==(t=J(e))&&void 0!==t?t:[]).filter((function(e){var t=e.parcelle;return r.includes(t)}))}(t.getState()).map((function(e){return e.feature})))&&void 0!==e?e:[],o=null!==(r=te(t.getState()))&&void 0!==r?r:[],a=n.length>0?n:o;return a.length>=0?Au().Observable.of(hp(Uc()({type:"FeatureCollection",features:a}),"EPSG:4326")):Au().Observable.empty()}))}function Qf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qf(Object(r),!0).forEach((function(t){ed(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ed(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function td(e){return function(e){if(Array.isArray(e))return rd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return rd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rd(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var nd=/[\s\;\,\n]/;function od(e){return new Promise((function(t,r){var n=new FileReader;n.onload=function(){var e=n.result.split(nd).map(R.trim).filter((function(e){return e}));t(e)},n.onerror=function(){r(n.error.name)},n.readAsText(e)}))}function ad(e,t){return e.ofType(Pn).switchMap((function(e){var r=e.searchType,n=e.rawParams,o=e.target;return function(e){var t,r=e.rawParams;switch(e.searchType){case E:var n=function(e){var t=e.references;return(void 0===t?[]:t).map((function(e){var t=e.plot,r=e.section,n=r.cgocommune,o=r.ccopre,a=r.ccosec;return{dnupla:t.dnupla,cgocommune:n,ccopre:o,ccosec:a}}))}(r);return(t=Au().Observable).merge.apply(t,td(n.map((function(e){return Au().Observable.defer((function(){return je(e)})).switchMap((function(e){return Au().Observable.from(e)}))}))));case P:var o=r.parcelle,a=void 0===o?"":o;return Au().Observable.defer((function(){return je({parcelle:a})})).switchMap((function(e){return Au().Observable.from(e)}));case S:var i=r.file,l=r.parcelle;return Au().Observable.defer((function(){return i?od(i).then((function(e){return je({parcelle:e.join(",")})})):je({parcelle:l})})).switchMap((function(e){return Au().Observable.from(e)}));case w:var c=r.commune,u=r.road,s=r.dnvoiri,p=r.dindic,f=c.cgocommune,d=u.dvoilib;return Au().Observable.defer((function(){return je({dnvoiri:s,dindic:p,cgocommune:f,dvoilib:d})})).switchMap((function(e){return Au().Observable.from(e)}));case j:var m=r.commune,y=r.proprietaire,v=r.birthsearch,g=y.value,b=m.cgocommune;return Au().Observable.defer((function(){return Ie({ddenom:g,birthsearch:v,cgocommune:b,details:2})})).switchMap((function(e){return Au().Observable.defer((function(){return xe({comptecommunal:e.map((function(e){return e.comptecommunal}))})})).switchMap((function(e){return Au().Observable.from(e)}))}));case x:var h=r.commune,O=r.dnupro,C=h.cgocommune;return Au().Observable.defer((function(){return Ie({dnupro:O,cgocommune:C,details:2})})).switchMap((function(e){return Au().Observable.defer((function(){return xe({comptecommunal:e.map((function(e){return e.comptecommunal}))})})).switchMap((function(e){return Au().Observable.from(e)}))}));case _:var T=r.file;return Au().Observable.defer((function(){return od(T).then((function(e){return xe({comptecommunal:e})}))})).switchMap((function(e){return Au().Observable.from(e)}));case A:var N=r.comptecommunal;return Au().Observable.defer((function(){return xe({comptecommunal:N})})).switchMap((function(e){return Au().Observable.from(e)}));case I:var D=r.commune,R=r.proprietaire,L=void 0===R?{}:R,k=r.parcelle,M=r.comptecommunal,F=L.value,B=D.cgocommune;return k&&ye(k)?Au().Observable.defer((function(){return je({parcelle:k})})).switchMap((function(e){return Au().Observable.from(e)})):Au().Observable.defer((function(){return Ae({cgocommune:B,ddenom:F,comptecommunal:M,details:1})})).switchMap((function(){return xe({comptecommunal:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){return e.comptecommunal}))})})).switchMap((function(e){return Au().Observable.from(e)}))}return[]}({searchType:r,rawParams:n}).flatMap((function(e){return function(e,t){var r,n,o,a,i=e.parcelle,l=G(t()),c=U(t());return Cf(l,{filterType:"OGC",featureTypeName:null!==(r=null==l||null===(n=l.search)||void 0===n?void 0:n.name)&&void 0!==r?r:null==l?void 0:l.name,typeName:null!==(o=null==l||null===(a=l.search)||void 0===a?void 0:a.name)&&void 0!==o?o:null==l?void 0:l.name,ogcVersion:"1.1.0"},{cqlFilter:"".concat(c," = '").concat(i,"'")})}(e,t.getState).map((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.features,o=void 0===n?[]:n,a=U(t.getState());return $f($f({},e),{},{feature:(0,R.head)(o.filter(Tf(a)))})}))})).reduce((function(e,t){return[].concat(td(e),[t])}),[]).map((function(e){return Fn(e,null!=o?o:function(e,t){var r=function(e,t){var r,n,o;switch(e){case E:return null==t||null===(r=t.commune)||void 0===r?void 0:r.label;case w:return null==t||null===(n=t.commune)||void 0===n?void 0:n.label;case S:return"Lot";case P:return"Id(s)";case x:return null==t||null===(o=t.commune)||void 0===o?void 0:o.label;case A:return null==t?void 0:t.comptecommunal;case _:return"By file";default:return null}}(e,t);return{id:tr()(),title:r}}(r,n))})).let(pp([kn(!0,"plotSelection","count"),kn(!0,"search")],[kn(!1,"plotSelection","count"),kn(!1,"search")],(function(e){var t;return Au().Observable.of(lc({title:"error during search",message:null!==(t=e.message)&&void 0!==t?t:"unknown error"}))})))}))}function id(e){return e.ofType(Sn).switchMap((function(e){var t=e.searchType,r=e.rawParams,n=r.commune,o=r.proprietaire,a=r.birthsearch,i=r.comptecommunal,l=n.cgocommune,c=(0,R.isString)(o)?o:null==o?void 0:o.value;return Au().Observable.defer((function(){return t===j?Ie({ddenom:c,birthsearch:a,cgocommune:l,details:2}):Ae({ddenom:c,cgocommune:l,comptecommunal:i,details:1})})).switchMap((function(e){return Au().Observable.of(e.length>1||(0,R.isString)(o)?function(e){return{type:jn,owners:e}}(e):Bn(t,r))})).let(pp(kn(!0,"search"),kn(!1,"search")))}))}function ld(e){return function(e){if(Array.isArray(e))return cd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return cd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cd(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ud=function(e,t){return e.ofType(An).switchMap((function(r){var n=r.parcelles,o=q(t.getState()),a=o.isCNIL1,i=o.isCNIL2;return Au().Observable.from(n).flatMap((function(e){var t;return(t=Au().Observable).merge.apply(t,[Au().Observable.defer((function(){return Ce({parcelle:e,onglet:0}).then((function(e){return e&&e[0]}))})).map((function(t){return Zn(e,"fiuc",t)})),Au().Observable.defer((function(){return Ce({parcelle:e,onglet:4})})).map((function(t){return Zn(e,"fiucHistoryMutation",t)}))].concat(ld(a||i?[Au().Observable.defer((function(){return t={parcelles:{parcelles:e}.parcelles},Oe().get("".concat(Se,"/services/getProprietairesByParcelles"),{params:t}).then((function(e){return e.data}));var t})).map((function(t){return Zn(e,"owners",t)}))]:[]),ld(i?[Au().Observable.defer((function(){return Te({parcelle:e})})).map((function(t){return Zn(e,"letters",t)})),Au().Observable.defer((function(){return Ce({parcelle:e,onglet:3})})).map((function(t){return Zn(e,"fiscalSubDiv",t)}))]:[]))).catch((function(){Au().Observable.of(kn(!1,"info[".concat(e,"]")),lc({title:"error getting information",message:"error getting information for parcelle ".concat(e)}))})).concat(Au().Observable.defer((function(){return Au().Observable.of(kn(!1,"info[".concat(e,"]")),kn(!1,"info.count","count"))}))).startWith(kn(!0,"info[".concat(e,"]")))}),2).startWith(kn(n.length,"info.count","count")).takeUntil(e.ofType(Tn)).concat(Au().Observable.of(kn({},"info")))}))},sd=function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType(Rn).switchMap((function(e){var t=e.printParams,r=e.printType,o=void 0===r?"Print":r,a=Au().Observable.empty();if("Print"===o)a=Au().Observable.defer((function(){return function(e){return Oe().get("".concat(Se,"/services/saveInformationRequest?").concat(e)).then((function(e){return e.data}))}(t)})).switchMap((function(e){return _r()(e)?Au().Observable.empty():Au().Observable.defer((function(){return(t=e.id,Oe().get("".concat(Se,"/services/printPDFRequest"),{params:{requestid:t},responseType:"arraybuffer"}).then((function(e){return e}))).then((function(t){return Mt(t,{}),qn(e.id)}));var t}))}));else{var i,l,c=null===(i=n().cadastrapp)||void 0===i||null===(l=i.requestFormData)||void 0===l?void 0:l.requestId;c&&(a=Au().Observable.defer((function(){return(e=c,Oe().get("".concat(Se,"/services/createDemandeFromObj"),{params:{requestid:e},responseType:"arraybuffer"}).then((function(e){return e}))).then((function(e){return Mt(e,{}),qn(null,!1)}));var e})))}return a.let(pp([kn(!0,"printing")],kn(!1,"printing"),(function(){return Au().Observable.of(lc({title:"Error",message:"cadastrapp.requestForm.printError"}),kn(!1,"printing"))})))}))},pd=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}},fd=pd((0,i.connect)((function(e){return{enabled:e.controls&&e.controls.cadastrapp&&e.controls.cadastrapp.enabled||!1,withButton:!1}}),{open:function(){return c(g,"enabled")},onClose:function(){return c(g,"enabled")}}),pd((0,i.connect)((function(){return{}}),{setUp:function(e){return{type:nn,cfg:e}},tearDown:function(){return{type:an}}}),(function(e){return function(t){var r=t.setUp,n=void 0===r?function(){}:r,i=t.tearDown,l=void 0===i?function(){}:i,c=t.openOnLoad,u=t.open,s=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,Js);return(0,o.useEffect)((function(){var e,t=!1;return c&&(e=setTimeout((function(){t=!0,u()}),1500)),function(){if(e&&!t)clearTimeout(e);else if(t){var r;null==s||null===(r=s.onClose)||void 0===r||r.call(s)}}}),[c]),(0,o.useEffect)((function(){return s.enabled&&n(null==s?void 0:s.pluginCfg),function(){return l()}}),[s.enabled]),a().createElement(e,s)}})))(Xs);const dd={name:"Cadastrapp",component:fd,reducers:{cadastrapp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lp,t=arguments.length>1?arguments[1]:void 0,r=t.type;switch(r){case nn:return(0,pe.t8)("pluginCfg",t.cfg,e);case cn:return(0,pe.t8)("configuration",t.configuration,e);case ln:var n=t.value;if("count"===t.mode){var o,a=null!==(o=(0,R.get)(e,"loadFlags.".concat(t.name)))&&void 0!==o?o:0;n=(0,R.isNumber)(n)?n:n?a+1:Math.max(a-1,0)}return(0,pe.t8)("loading"===t.name?"loading":"loadFlags.".concat(t.name),n,e);case un:var i=t.selectionType;return(0,pe.t8)("selectionType",i,e);case sn:var l=t.searchType;return(0,pe.t8)("searchType",l,e);case pn:var c,u,s,p=t.plots,f=t.target,d=t.activate,m=void 0===d||d,y=e.activePlotSelection,v=void 0===y?0:y,g=v,b=e;if(!(0,R.isNil)(f)){var h=(0,R.isObject)(f)?(0,R.findIndex)(e.plots,{id:f.id}):f;h<0?g=(b=(0,pe.t8)("plots",[].concat(np(e.plots),[tp(tp({},ip),f)]),e)).plots.length-1:(b=(0,pe.t8)("plots[".concat(h,"]"),tp(tp({},e.plots[h]),f)),g=h)}m&&(b=(0,pe.t8)("activePlotSelection",g,b));var O=null!==(c=null===(u=b)||void 0===u||null===(s=u.plots)||void 0===s?void 0:s[g])&&void 0!==c?c:ip;return p.map((function(e){var t=e.parcelle,r=$s(e,Qs);O=ap(O,t),O=(0,pe.vy)("data",tp({parcelle:t},r),{parcelle:t},O)})),(0,pe.t8)("plots[".concat(g,"]"),O,b);case fn:var E,w,P=t.parcelles,S=void 0===P?[]:P,j=e.activePlotSelection,x=void 0===j?0:j,_=null!==(E=null==e||null===(w=e.plots)||void 0===w?void 0:w[x])&&void 0!==E?E:ip;return _=tp(tp({},_),{},{data:_.data.filter((function(e){var t=e.parcelle;return!S.includes(t)})),selected:_.selected.filter((function(e){return!S.includes(e)}))}),(0,pe.t8)("plots[".concat(x,"]"),_,e);case vn:case gn:var I,A,C=e.activePlotSelection,T=void 0===C?0:C,N=null!==(I=null==e||null===(A=e.plots)||void 0===A?void 0:A[T])&&void 0!==I?I:ip,D=t.plots,L=void 0===D?[]:D,k=L.map((function(e){return e.parcelle})),M=t.type===vn?(0,R.uniq)([].concat(np(N.selected||[]),np(k))):(N.selected||[]).filter((function(e){return!k.includes(e)}));return N=tp(tp({},N),{},{selected:M}),(0,pe.t8)("plots[".concat(T,"]"),N,e);case mn:var F,B,U,G=t.plot,Z=void 0===G?{}:G,q=null!==(F=null==e?void 0:e.plots)&&void 0!==F?F:[];return(0,pe.qC)((0,pe.t8)("plots",[].concat(np(q),[tp(tp({},ip),Z)])),(0,pe.t8)("activePlotSelection",null!==(B=null==e||null===(U=e.plots)||void 0===U?void 0:U.length)&&void 0!==B?B:0))(e);case yn:var z,W=null!==(z=t.active)&&void 0!==z?z:e.activePlotSelection,H=np(e.plots.filter((function(e,t){return t!==W})));return(0,pe.qC)((0,pe.t8)("plots",H),(0,pe.t8)("activePlotSelection",Math.max(e.activePlotSelection-1,0)))(e);case an:return e;case dn:return(0,pe.t8)("activePlotSelection",t.active,e);case On:return(0,pe.t8)("styles.".concat(t.styleType),t.value,e);case En:var K,V;return(0,pe.t8)("styles.".concat(t.styleType),tp(tp({},null!==(K=null==e||null===(V=e.styles)||void 0===V?void 0:V[t.styleType])&&void 0!==K?K:{}),t.values),e);case wn:return(0,pe.t8)("styles",t.styles,e);case jn:return(0,pe.qC)((0,pe.t8)("owners.data",t.owners),(0,pe.t8)("owners.show",!0))(e);case xn:return(0,pe.t8)("owners",void 0,e);case _n:return(0,pe.t8)("landedProperty.parcelle",t.parcelle,e);case Cn:return(0,pe.t8)('informationData["'.concat(t.parcelle,'"]').concat(t.path?"."+t.path:""),t.data,e);case Tn:return(0,pe.t8)("informationData",void 0,e);case Nn:return(0,pe.t8)("infoBulle",t.data,e);case Ln:return tp(tp({},e),{},{requestFormData:tp(tp({},e.requestFormData),{},{allowDocument:t.allowDocument,requestId:t.requestId})});default:return e}}},epics:n,containers:{BurgerMenu:{name:"cadastrapp",position:1050,text:a().createElement(s.Z,{msgId:"cadastrapp.title"}),icon:a().createElement(u.gG,{glyph:"th"}),doNotHide:!0,action:c.bind(null,g,null),priority:1}}}},28294:()=>{},92397:()=>{},97402:e=>{e.exports='.cadastrapp-landed-prop-print-page {\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    padding: 0;\n    background-color: #FAFAFA;\n    font: 12pt "Tahoma";\n}\n.cadastrapp-landed-prop-print-page * {\n    box-sizing: border-box;\n    -moz-box-sizing: border-box;\n}\n.cadastrapp-landed-prop-print-page .page {\n    width: 210mm;\n    min-height: 297mm;\n    padding-top: 5mm;\n    padding-right: 10mm;\n    padding-bottom: 10mm;\n    padding-left: 10mm;\n    margin: 10mm auto;\n    border: 1px #D3D3D3 solid;\n    border-radius: 5px;\n    background: white;\n    box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);\n}\n\n.cadastrapp-landed-prop-print-page .h1{\n\tfont-size: 16px;\n}\n\n/* resize and drag */\n.cadastrapp-landed-prop-print-page .ui-draggable-disabled{\n    opacity: inherit;\n}\n.cadastrapp-landed-prop-print-page .ui-resizable-se {\n    bottom: -15px !important;\n    right: -15px !important;\n}\n.cadastrapp-landed-prop-print-page .ui-resizable-helper {\n    border: 1px dotted #999;\n}\n\n/* map */\n.cadastrapp-landed-prop-print-page div.olMap{\n    padding: 0 !important;\n    margin: 0 !important;\n}\n.cadastrapp-landed-prop-print-page #landed-property-map{\n    border-color: rgba(0,0,0,0.5) ;\n    border-style: solid;\n    width: 100%;\n    height: 100%;\n    margin: 0 auto !important;\n    z-index: 0;\n}\n\n/* MENU */\n.cadastrapp-landed-prop-print-page ul.menu {\n    list-style-type: none;\n    margin: 0;\n    padding: 0;\n    overflow: hidden;\n    background-color: #007ec3;\n    top:0;\n    left: 0;\n    z-index: 10;\n}\n.cadastrapp-landed-prop-print-page li a, .dropbtn {\n    display: inline-block;\n    color: white;\n    text-align: center;\n    padding: 14px 16px;\n    text-decoration: none;\n}\n.cadastrapp-landed-prop-print-page li a:hover, .dropdown:hover .dropbtn {\n    background-color: #99BBE8;\n    cursor: pointer;\n}\n.cadastrapp-landed-prop-print-page li.dropdown {\n    display: inline-block;\n}\n.cadastrapp-landed-prop-print-page .dropdown-content {\n    display: none;\n    position: absolute;\n    background-color: #f9f9f9;\n    min-width: 160px;\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n    z-index: 4;\n}\n.cadastrapp-landed-prop-print-page .dropdown-content a {\n    color: black;\n    padding: 12px 16px;\n    text-decoration: none;\n    display: block;\n    text-align: left;\n}\n.cadastrapp-landed-prop-print-page .dropdown-content a:hover {\n\tbackground-color: #f1f1f1\n}\n.cadastrapp-landed-prop-print-page .dropdown:hover .dropdown-content {\n    display: block;\n}\n\n/* Unite fonciere details */\n.cadastrapp-landed-prop-print-page #titre, #parcelles,#composition,#informationgenerale{\n    z-index: 1;\n    text-align: center;\n    margin: auto;\n}\n.cadastrapp-landed-prop-print-page #informationgenerale{\n\tborder-style: groove;\n\tpadding-top:10px;\n\tpadding-bottom:10px;\n}\n.cadastrapp-landed-prop-print-page #composition{\n\tpadding-top:10px\n}\n.cadastrapp-landed-prop-print-page .proprieteaire{\n\tmargin: 0 auto !important;\n\ttext-align: left;\n\tpadding-bottom: 10px;\n}\n.cadastrapp-landed-prop-print-page .propTitle{\n\tpadding-left: 20px;\n}\n.cadastrapp-landed-prop-print-page .propList{\n\tpadding-left: 40px;\n}\n.cadastrapp-landed-prop-print-page .datauflist{\n\tpadding-top: 10px;\n}\n.cadastrapp-landed-prop-print-page .datauf{\n\twidth: 50%;\n    margin: 0 auto !important;\n\ttext-align: right;\n}\n.cadastrapp-landed-prop-print-page .dataufLabel{\n\tfloat: left;\n}\n\n.cadastrapp-landed-prop-print-page #parcelles{\n\twidth: 90%;\n\tmargin: 0 auto !important;\n    padding-top: 10px;\n\ttext-align: center;\n\t-moz-column-count: 2;\n\t-moz-column-gap: 50px; /* Firefox */\n  \t-webkit-column-count: 2;\n  \t-webkit-column-gap: 50px; /* Chrome, Safari, Opera */\n  \tcolumn-count: 2;\n    column-gap: 50px;\n}\n.cadastrapp-landed-prop-print-page #services{\n\tmargin: 0 auto !important;\n\tfont-size: 12px;\n\ttext-align: center;\n\tpadding-top: 10px;\n}\n.cadastrapp-landed-prop-print-page .data{\n\twidth: 100%;\n}\n.cadastrapp-landed-prop-print-page .dataLabel{\n\tfloat: left;\n\tpadding-right: 15px;\n}\n\n/* Print information */\n@page {\n    size: A4 portrait;\n    margin-top: 10mm;\n    margin-bottom: 6mm;\n}\n/* avoid to print the menu and resizable element */\n@media print {\n    html, body {\n        width: 100%;\n        height: 100%;\n    }\n    .cadastrapp-landed-prop-print-page ul, .ui-resizable-se, .react-resizable-handle { /* TODO: tools to hide */\n        display: none;\n    }\n    .cadastrapp-landed-prop-print-page .page {\n        margin: 0;\n        border: initial;\n        border-radius: initial;\n        width: initial;\n        min-height: initial;\n        box-shadow: initial;\n        background: initial;\n    }\n}'},67522:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAGmklEQVRYw7VXeUyTZxjvNnfELFuyIzOabermMZEeQC/OclkO49CpOHXOLJl/CAURuYbQi3KLgEhbrhZ1aDwmaoGqKII6odATmH/scDFbdC7LvFqOCc+e95s2VG50X/LLm/f4/Z7neY/ne18aANCmAr5E/xZf1uDOkTcGcWR6hl9247tT5U7Y6SNvWsKT63P58qbfeLJG8M5qcgTknrvvrdDbsT7Ml+tv82X6vVxJE33aRmgSyYtcWVMqX97Yv2JvW39UhRE2HuyBL+t+gK1116ly06EeWFNlAmHxlQE0OMiV6mQCScusKRlhS3QLeVJdl1+23h5dY4FNB3thrbYboqptEFlphTC1hSpJnbRvxP4NWgsE5Jyz86QNNi/5qSUTGuFk1gu54tN9wuK2wc3o+Wc13RCmsoBwEqzGcZsxsvCSy/9wJKf7UWf1mEY8JWfewc67UUoDbDjQC+FqK4QqLVMGGR9d2wurKzqBk3nqIT/9zLxRRjgZ9bqQgub+DdoeCC03Q8j+0QhFhBHR/eP3U/zCln7Uu+hihJ1+bBNffLIvmkyP0gpBZWYXhKussK6mBz5HT6M1Nqpcp+mBCPXosYQfrekGvrjewd59/GvKCE7TbK/04/ZV5QZYVWmDwH1mF3xa2Q3ra3DBC5vBT1oP7PTj4C0+CcL8c7C2CtejqhuCnuIQHaKHzvcRfZpnylFfXsYJx3pNLwhKzRAwAhEqG0SpusBHfAKkxw3w4627MPhoCH798z7s0ZnBJ/MEJbZSbXPhER2ih7p2ok/zSj2cEJDd4CAe+5WYnBCgR2uruyEw6zRoW6/DWJ/OeAP8pd/BGtzOZKpG8oke0SX6GMmRk6GFlyAc59K32OTEinILRJRchah8HQwND8N435Z9Z0FY1EqtxUg+0SO6RJ/mmXz4VuS+DpxXC3gXmZwIL7dBSH4zKE50wESf8qwVgrP1EIlTO5JP9Igu0aexdh28F1lmAEGJGfh7jE6ElyM5Rw/FDcYJjWhbeiBYoYNIpc2FT/SILivp0F1ipDWk4BIEo2VuodEJUifhbiltnNBIXPUFCMpthtAyqws/BPlEF/VbaIxErdxPphsU7rcCp8DohC+GvBIPJS/tW2jtvTmmAeuNO8BNOYQeG8G/2OzCJ3q+soYB5i6NhMaKr17FSal7GIHheuV3uSCY8qYVuEm1cOzqdWr7ku/R0BDoTT+DT+ohCM6/CCvKLKO4RI+dXPeAuaMqksaKrZ7L3FE5FIFbkIceeOZ2OcHO6wIhTkNo0ffgjRGxEqogXHYUPHfWAC/lADpwGcLRY3aeK4/oRGCKYcZXPVoeX/kelVYY8dUGf8V5EBRbgJXT5QIPhP9ePJi428JKOiEYhYXFBqou2Guh+p/mEB1/RfMw6rY7cxcjTrneI1FrDyuzUSRm9miwEJx8E/gUmqlyvHGkneiwErR21F3tNOK5Tf0yXaT+O7DgCvALTUBXdM4YhC/IawPU+2PduqMvuaR6eoxSwUk75ggqsYJ7VicsnwGIkZBSXKOUww73WGXyqP+J2/b9c+gi1YAg/xpwck3gJuucNrh5JvDPvQr0WFXf0piyt8f8/WI0hV4pRxxkQZdJDfDJNOAmM0Ag8jyT6hz0WGXWuP94Yh2jcfjmXAGvHCMslRimDHYuHuDsy2QtHuIavznhbYURq5R57KpzBBRZKPJi8eQg48h4j8SDdowifdIrEVdU+gbO6QNvRRt4ZBthUaZhUnjlYObNagV3keoeru3rU7rcuceqU1mJBxy+BWZYlNEBH+0eH4vRiB+OYybU2hnblYlTvkHinM4m54YnxSyaZYSF6R3jwgP7udKLGIX6r/lbNa9N6y5MFynjWDtrHd75ZvTYAPO/6RgF0k76mQla3FGq7dO+cH8sKn0Vo7nDllwAhqwLPkxrHwWmHJOo+AKJ4rab5OgrM7rVu8eWb2Pu0Dh4eDgXoOfvp7Y7QeqknRmvcTBEyq9m/HQQSCSz6LHq3z0yzsNySRfMS253wl2KyRDbcZPcfJKjZmSEOjcxyi+Y8dUOtsIEH6R2wNykdqrkYJ0RV92H0W58pkfQk7cKevsLK10Py8SdMGfXNXATY+pPbyJR/ET6n9nIfztNtZYRV9XniQu9IA2vOVgy4ir7GCLVmmd+zjkH0eAF9Po6K61pmCXHxU5rHMYd1ftc3owjwRSVRzLjKvqZEty6cRUD7jGqiOdu5HG6MdHjNcNYGqfDm5YRzLBBCCDl/2bk8a8gdbqcfwECu62Fg/HrggAAAABJRU5ErkJggg=="},24272:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QwKDiknI+uvvgAABttJREFUWMOll2uMVVcVx/9773PuPY/7mBcUZ4q1JmbiF6nQwtSY2pSYtobCB2yMrxhrHGOrfioEjQYlMWikH7TxUWNbjTFWU6gComm1UEgMAi20kFCrIMPMFIZ53Xvn3vPYZ++1/HBh6GVmmDu6k/+Xk/1fv7Mfa61zBDOjnfHihzZ1Gcg+YcUyCZrkvPf2A4efG2/HK24G+cuHN/cLS59nIT7DzH1Syli5jrGZUUTkKyGuAPa3RPTsA0f3vbEkyHfEBrlunbMVUn47LBYRhkE+7/uQORdCCDAzyAA6mkEURbpWqQpm/l4Q0I57X95rFoUcWLvxvazk71039/5b+noDVymQzsCZAWcZ2BKEkhCuC+E6kDkXmbUYv3QpylJ9zhj58EPHd/9zQcgf1228Xwnxh3Jnp+rq6XE5TmAb8aJ7rnwPIvQxPTlppicnLQGf3PSPvS/Mgey/c1OPVfzv3t7ecuj7MJUZsLVodwil4JQKiHSKS6OjDaFs/4a//2kUAOS1SVbxLwulkhd4HvTENMgYMPMcQcp5n5Mx0FMV+Pk8iuWyY6369bXYEgCeX7vh06zk+lu6O/O2WgeIWiQdB25nAbmeLsiOInI9XXA7y5A5d85cW62jp6s7L5Qa2LP2oS8CgNi3ZmOQCjP+7t6+wIOEnWm0bINT8kGej/FqBY1GAyZJoVwHQamE5YUSlCWYWgUgef2MiiESEIYuvZ14pLqdBOlq5eRF6Oehr0wAdP0iqDBAKhSGRoax8v6P4M5PbULxtlvRGB3Dud0HcG7Pn7Gyuwee77W8nJ2pIlzeA6UUJZSuVpv7+jcHfmF9yVGujTIAAoCAUA5URwEj01Po/8InsOprj8Dr6oCQEvmOElbcvQb+imV462+H0VXsAGcWbLnpZwHpKjQMmyTL3pSC+Z4w7/qkM4CuS7gOalECUS6g/7Ob571R7/nYfQhvX4npRh0yl2vxk84Q5l1fMN8jCRjwXQVOdXOrrko6AnGaYtldqyCEWPDqrhhYjcSkEIpb/Jxq+K4CAQOOIRs0SwWBmWbNzAzLBKdQWDQRzdVMaPUThBAgIl8COBUlCYRSrW+SZcgrB2Ovvn5TyNjJM8iznbMTQilESQICn5RE4nAjzTKhVIuZkhTlvIvKW+cxfOTYvIDx02dx+ehr6PQDkM7mVIAo0dqyfEUaaY5X01gLpcDWzoqSFCJO0Vcs4OCWHXjz+f0g0yywRITzL76Cl778dbyrWIbKLGwjavELpVBNG9rAHBdPf/DeXmZ3eE3frZKmKuDsHZVaSridZTTY4kK9jjiOUVqxHPUr41Cui9uLJZScHMzEOJivJ6NwHciuDrw6Omxh0CeYGc/c8dFjt5XLd/VIF7Y607JsFhaqWG4mJlskWiPv5uBJBYpmYGp1CG7dalUuYoIyHqpWjz1y6qUBBwA0xK6Rev3Z5cuXBaZmm3VolgLY6jSoVoHMuSg4Dqheh87M7DwGtaxeeg5Gx6ZiDfH92QIpnfgFbYyu6QzSC5t16AaxFeDYwM4k4NgABvPOk16ISqKRWlvvfrBz7yxk8MSRjMA/uVyvxcp3wJy1XMe2BUCFPkYb9dgyPfHwzt/Z1n5i7ZMTSaoispCBD+ZsyZKBi7qOUE0TYTN6uqWfAMCjZw5dBvDk0EwUK99rNqgbesVNBUAGPi7W6zGAJx47e2hyDgQAjLY7KzpB3WRQoT9vB1xIMvAxk2nMZJaEq3/wzrgtkMfOHppkIXZdjKJYhcHV1G9vFSr0MdRoRATeOXjiSHVBCAAYL7erZqyt6RQqDCAYi8ophKjpFI3MGGvtD2+MOQfylaMHaoL5u0NxGsvAB4FBRAuKBSB8DxeiKCLJOx49c6i+KAQAkMt+FFubVrMUTiGEYF5QquihohPElhK/OvHj+cLNCxk8cSQi8PahNItl4Deb1jxnIYSA9EIMpVnMQnzrc/85nbQNAQAd0VOptfUpnUAW8vPeKFEMMaUTpNbUum3wi4ViLQj56r8Oppbpm8OZjYUfAlK2ZreUkF4ew1kWk5Tf+PiZfXrJEAAY637fM5poekqnUGEOID0rp5DHlE6RWprofrD7VzeLc1PI9oNPGSuw7SJx82xU8xNVKAkEHoZslhCw7VqN+p8gADD2uvebzJrL45mBLIQAEVSxgCvawBBGx04Hzy0WY1HIdt5PLMTWEUKCwIfwPbDvYYQ4gZRbt/N++r8hAPCluw/uNmQvjFtit7OMK8YyEZ0fPPXXPe3424LgZ8RWyceHGVoTYQQiA7Cl7X+Xdv9+AeDnH7jvtbzAHSnj5OAbL69p1yexhMFCPJ5ACBZiC5ZkXELPYGb8dNX6bUv1/Bd7pfPVmVDtrAAAAABJRU5ErkJggg=="},68592:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC"},18698:()=>{},45968:()=>{}}]);