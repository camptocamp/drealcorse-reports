(self.webpackChunkGeonetwork_Extension=self.webpackChunkGeonetwork_Extension||[]).push([[299],{86570:(e,t,r)=>{var n={"./cesium/Layers":13530,"./leaflet/Layers":27415,"./openlayers/Layers":75866};function o(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=i,e.exports=o,o.id=86570},39583:(e,t,r)=>{"use strict";r.r(t),r.d(t,{LOAD_NEW_MAP:()=>n,LOAD_MAP_CONFIG:()=>o,MAP_CONFIG_LOADED:()=>i,MAP_CONFIG_LOAD_ERROR:()=>a,LOAD_MAP_INFO:()=>u,MAP_INFO_LOAD_START:()=>c,MAP_INFO_LOADED:()=>l,MAP_INFO_LOAD_ERROR:()=>s,MAP_SAVE_ERROR:()=>f,MAP_SAVED:()=>p,RESET_MAP_SAVE_ERROR:()=>d,configureMap:()=>g,configureError:()=>m,loadNewMap:()=>y,loadMapConfig:()=>v,mapInfoLoaded:()=>b,mapInfoLoadError:()=>O,mapInfoLoadStart:()=>h,loadMapInfo:()=>E,mapSaveError:()=>_,mapSaved:()=>P,resetMapSaveError:()=>S});var n="MAP:LOAD_NEW_MAP",o="MAP_LOAD_MAP_CONFIG",i="MAP_CONFIG_LOADED",a="MAP_CONFIG_LOAD_ERROR",u="MAP_LOAD_INFO",c="MAP_INFO_LOAD_START",l="MAP_INFO_LOADED",s="MAP_INFO_LOAD_ERROR",f="MAP:MAP_SAVE_ERROR",p="MAP:MAP_SAVED",d="MAP:RESET_MAP_SAVE_ERROR";function g(e,t,r){return{type:i,config:e,legacy:!!t,mapId:t,zoomToExtent:r}}function m(e,t){return{type:a,error:e,mapId:t}}function y(e,t){return{type:n,configName:e,contextId:t}}function v(e,t,r,n,i){return{type:o,configName:e,mapId:t,config:r,mapInfo:n,overrideConfig:i}}function b(e,t){return{type:l,mapId:t,info:e}}function O(e,t){return{type:s,mapId:e,error:t}}function h(e){return{type:c,mapId:e}}function E(e){return{type:u,mapId:e}}var _=function(e){return{type:f,error:e}},P=function(e){return{type:p,resourceId:e}},S=function(){return{type:d}}},6149:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CHANGE_LAYER_PROPERTIES:()=>n,CHANGE_LAYER_PARAMS:()=>o,CHANGE_GROUP_PROPERTIES:()=>i,TOGGLE_NODE:()=>a,CONTEXT_NODE:()=>u,SORT_NODE:()=>c,REMOVE_NODE:()=>l,UPDATE_NODE:()=>s,MOVE_NODE:()=>f,LAYER_LOADING:()=>p,LAYER_LOAD:()=>d,LAYER_ERROR:()=>g,ADD_LAYER:()=>m,ADD_GROUP:()=>y,REMOVE_LAYER:()=>v,SHOW_SETTINGS:()=>b,HIDE_SETTINGS:()=>O,UPDATE_SETTINGS:()=>h,REFRESH_LAYERS:()=>E,UPDATE_LAYERS_DIMENSION:()=>_,LAYERS_REFRESHED:()=>P,LAYERS_REFRESH_ERROR:()=>S,BROWSE_DATA:()=>w,DOWNLOAD:()=>A,CLEAR_LAYERS:()=>x,SELECT_NODE:()=>L,FILTER_LAYERS:()=>R,SHOW_LAYER_METADATA:()=>T,HIDE_LAYER_METADATA:()=>M,UPDATE_SETTINGS_PARAMS:()=>I,showSettings:()=>C,hideSettings:()=>j,updateSettings:()=>D,changeLayerProperties:()=>N,changeLayerParams:()=>F,changeGroupProperties:()=>G,toggleNode:()=>U,contextNode:()=>k,sortNode:()=>B,removeNode:()=>q,updateNode:()=>W,moveNode:()=>K,layerLoading:()=>V,layerLoad:()=>Y,layerError:()=>H,addLayer:()=>z,addGroup:()=>Q,removeLayer:()=>Z,refreshLayerVersion:()=>X,refreshLayers:()=>J,layersRefreshed:()=>$,layersRefreshError:()=>ee,updateLayerDimension:()=>te,browseData:()=>re,download:()=>ne,clearLayers:()=>oe,selectNode:()=>ie,filterLayers:()=>ae,showLayerMetadata:()=>ue,hideLayerMetadata:()=>ce,updateSettingsParams:()=>le});var n="CHANGE_LAYER_PROPERTIES",o="LAYERS:CHANGE_LAYER_PARAMS",i="CHANGE_GROUP_PROPERTIES",a="TOGGLE_NODE",u="CONTEXT_NODE",c="SORT_NODE",l="REMOVE_NODE",s="UPDATE_NODE",f="MOVE_NODE",p="LAYER_LOADING",d="LAYER_LOAD",g="LAYER_ERROR",m="ADD_LAYER",y="ADD_GROUP",v="REMOVE_LAYER",b="SHOW_SETTINGS",O="HIDE_SETTINGS",h="UPDATE_SETTINGS",E="REFRESH_LAYERS",_="LAYERS:UPDATE_LAYERS_DIMENSION",P="LAYERS_REFRESHED",S="LAYERS_REFRESH_ERROR",w="LAYERS:BROWSE_DATA",A="LAYERS:DOWNLOAD",x="LAYERS:CLEAR_LAYERS",L="LAYERS:SELECT_NODE",R="LAYERS:FILTER_LAYERS",T="LAYERS:SHOW_LAYER_METADATA",M="LAYERS:HIDE_LAYER_METADATA",I="LAYERS:UPDATE_SETTINGS_PARAMS";function C(e,t,r){return{type:b,node:e,nodeType:t,options:r}}function j(){return{type:O}}function D(e){return{type:h,options:e}}function N(e,t){return{type:n,newProperties:t,layer:e}}function F(e,t){return{type:o,layer:e,params:t}}function G(e,t){return{type:i,newProperties:t,group:e}}function U(e,t,r){return{type:a,node:e,nodeType:t,status:!r}}function k(e){return{type:u,node:e}}function B(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:c,node:e,order:t,sortLayers:r}}function q(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:l,node:e,nodeType:t,removeEmpty:r}}function W(e,t,r){return{type:s,node:e,nodeType:t,options:r}}function K(e,t,r){return{type:f,node:e,groupId:t,index:r}}function V(e){return{type:p,layerId:e}}function Y(e,t){return{type:d,layerId:e,error:t}}function H(e,t,r){return{type:g,layerId:e,tilesCount:t,tilesErrorCount:r}}function z(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:m,layer:e,foreground:t}}function Q(e,t,r){return{type:y,group:e,parent:t,options:r}}function Z(e){return{type:v,layerId:e}}function X(e,t){return{type:n,layer:e,newProperties:{_v_:t||(new Date).getTime()}}}function J(e,t){return{type:E,layers:e,options:t}}function $(e){return{type:P,layers:e}}function ee(e,t){return{type:S,layers:e,error:t}}function te(e,t,r,n){return{type:_,dimension:e,value:t,options:r,layers:n}}function re(e){return{type:w,layer:e}}function ne(e){return{type:A,layer:e}}function oe(){return{type:x}}function ie(e,t,r){return{type:L,id:e,nodeType:t,ctrlKey:r}}function ae(e){return{type:R,text:e}}function ue(e,t){return{type:T,metadataRecord:e,maskLoading:t}}function ce(){return{type:M}}function le(e,t){return{type:I,newParams:e,update:t}}},93755:(e,t,r)=>{"use strict";r.r(t),r.d(t,{LAYER_SELECTED_FOR_SEARCH:()=>a,FEATURE_TYPE_SELECTED:()=>u,FEATURE_TYPE_LOADED:()=>c,FEATURE_LOADED:()=>l,FEATURE_LOADING:()=>s,FEATURE_TYPE_ERROR:()=>f,FEATURE_ERROR:()=>p,QUERY_CREATE:()=>d,UPDATE_QUERY:()=>g,QUERY_RESULT:()=>m,QUERY_ERROR:()=>y,RESET_QUERY:()=>v,QUERY:()=>b,INIT_QUERY_PANEL:()=>O,TOGGLE_SYNC_WMS:()=>h,TOGGLE_LAYER_FILTER:()=>E,toggleSyncWms:()=>_,toggleLayerFilter:()=>P,layerSelectedForSearch:()=>S,initQueryPanel:()=>w,featureTypeSelected:()=>A,featureTypeLoaded:()=>x,featureTypeError:()=>L,featureLoading:()=>R,featureLoaded:()=>T,featureError:()=>M,querySearchResponse:()=>I,queryError:()=>C,updateQuery:()=>j,loadFeature:()=>D,createQuery:()=>N,query:()=>F,resetQuery:()=>G});var n=r(10306),o=r.n(n);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a="LAYER_SELECTED_FOR_SEARCH",u="FEATURE_TYPE_SELECTED",c="FEATURE_TYPE_LOADED",l="FEATURE_LOADED",s="FEATURE_LOADING",f="FEATURE_TYPE_ERROR",p="FEATURE_ERROR",d="QUERY_CREATE",g="QUERY:UPDATE_QUERY",m="QUERY_RESULT",y="QUERY_ERROR",v="RESET_QUERY",b="QUERY",O="INIT_QUERY_PANEL",h="QUERY:TOGGLE_SYNC_WMS",E="QUERY:TOGGLE_LAYER_FILTER";function _(){return{type:h}}function P(){return{type:E}}function S(e){return{type:a,id:e}}function w(){return{type:O}}function A(e,t){return{type:u,url:e,typeName:t}}function x(e,t){return{type:c,typeName:e,featureType:t}}function L(e,t){return{type:f,typeName:e,error:t}}function R(e){return{type:s,isLoading:e}}function T(e,t){return{type:l,typeName:e,feature:t}}function M(e,t){return{type:p,typeName:e,error:t}}function I(e,t,r,n,o){return{type:m,searchUrl:t,filterObj:r,result:e,queryOptions:n,reason:o}}function C(e){return{type:y,error:e}}function j(e,t){return{type:g,updates:e,reason:t}}function D(e,t){return function(r){return o().get(e+"?service=WFS&version=1.1.0&request=GetFeature&typeName="+t+"&outputFormat=application/json").then((function(e){if("object"===i(e.data))r(T(t,e.data));else try{JSON.parse(e.data)}catch(e){r(M(t,"Error from WFS: "+e.message))}})).catch((function(e){r(M(t,e))}))}}function N(e,t){return{type:d,searchUrl:e,filterObj:t}}function F(e,t,r,n){return{type:b,searchUrl:e,filterObj:t,queryOptions:r,reason:n}}function G(){return{type:v}}},83358:(e,t,r)=>{"use strict";r.r(t),r.d(t,{toDescribeURL:()=>g,getFeatureSimple:()=>m,getCapabilitiesURL:()=>y,getFeatureURL:()=>v,getFeature:()=>b,getCapabilities:()=>O,describeFeatureTypeOGCSchemas:()=>h,describeFeatureType:()=>E});var n=r(10306),o=r.n(n),i=r(72500),a=r.n(i),u=r(51312),c=r.n(u);function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(e,t){var r=a().parse(e,!0);return a().format(p(p({},r),{},{search:void 0,query:p(p({},r.query),{},{service:"WFS",version:"1.1.0",typeName:t,outputFormat:"application/json",request:"DescribeFeatureType"})}))},m=function(e,t){return o().get(e+"?service=WFS&version=1.1.0&request=GetFeature",{params:c()({outputFormat:"application/json"},t)}).then((function(e){return"object"!==s(e.data)?JSON.parse(e.data):e.data}))},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.version,n=void 0===r?"1.1.0":r,o=a().parse(e,!0);return a().format(c()({},o,{query:c()({service:"WFS",version:n,request:"GetCapabilities"},o.query)}))},v=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.version,o=void 0===n?"1.1.0":n,i=l(r,["version"]),u=a().parse(e,!0);return a().format(c()({},u,{query:c()(p({service:"WFS",typeName:t,version:o,request:"GetFeature"},i),u.query)}))},b=function(e,t,r){return o().get(v(e,t,r))},O=function(e){return o().get(y(e))},h=function(e,t){var n=a().parse(e,!0),i=a().format(c()({},n,{query:c()({service:"WFS",version:"1.1.0",typeName:t,request:"DescribeFeatureType"},n.query)}));return new Promise((function(e){Promise.all([r.e(985),r.e(370)]).then(function(){var t=r(27563).unmarshaller;e(o().get(i).then((function(e){var r=t.unmarshalString(e.data);return r&&r.value})))}.bind(null,r)).catch(r.oe)}))},E=function(e,t){return o().get(g(e,t)).then((function(e){return e.data}))}},10306:(e,t,r)=>{function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(7185),u=r(56647),c=r(72500),l=r(59154).ZP,s=r(36493),f=s.isAuthenticationActivated,p=s.getAuthenticationRule,d=s.getToken,g=s.getBasicAuthHeader,m=r(51312),y=r(86494),v=y.isObject,b=y.omitBy,O=y.isNil,h=r(72500);function E(e,t,r){e.params=m({},e.params,i({},t,r)),e.url=e.url?l.getUrlWithoutParameters(e.url,[t]):e.url}function _(e,t,r){e.headers=m({},e.headers,i({},t,r))}var P=[];a.interceptors.request.use((function(e){var t=e.url||"",r=!(0===t.indexOf("http")),n=!r&&t.match(/([^:]*:)\/\/([^:]*:?[^@]*@)?([^:\/\?]*):?([^\/\?]*)/);if(function(e){if(!e||!e.url||!f())return e;var t=u(e.baseURL||"",e.url),r=p(t);switch(r&&r.method){case"browserWithCredentials":return e.withCredentials=!0,e;case"authkey":var n=d();return n?(E(e,r.authkeyParamName||"authkey",n),e):e;case"test":var o=r?r.token:"";return o?(E(e,r.authkeyParamName||"authkey",o),e):e;case"basic":var i=g();return i?(_(e,"Authorization",i),e):e;case"bearer":var a=d();a&&_(e,"Authorization","Bearer "+a)}}(e),n){var o=window.location;r=n[1]===o.protocol&&n[3]===o.hostname;var i=n[4],a=o.port,c=0===o.protocol.indexOf("https")?443:80;i=""===i?c+"":i+"",a=""===a?c+"":a+"",r=r&&i===a}if(!r){var s=l.getProxyUrl(e);if(s){var y=[],S=!1;v(s)&&(y=s.useCORS||[],S=s.autoDetectCORS||!1,s=s.url);var w=y.reduce((function(e,r){return e||0===t.indexOf(r)}),!1),A=P.reduce((function(e,r){return e||0===t.indexOf(r)}),!1);if(w||S&&!A)S&&(e.autoDetectCORS=!0);else{var x=h.parse(t,!0,!0),L=b(e.params,O);e.url=s+encodeURIComponent(h.format(m({},x,{search:null,query:m({},x.query,L)}))),e.params=void 0}}}return e})),a.interceptors.response.use((function(e){return e}),(function(e){if(e.config&&e.config.autoDetectCORS){var t=c.parse(e.config.url),r=t.protocol+"//"+t.host+t.pathname;if(-1===P.indexOf(r))return P.push(r),new Promise((function(t,r){a(o(o({},e.config),{},{autoDetectCORS:!1})).then(t).catch(r)}))}return Promise.reject(e.response?o(o({},e.response),{},{originalError:e}):e)})),e.exports=a},8274:(e,t,r)=>{"use strict";r.r(t),r.d(t,{queryFeatureTypeName:()=>u,featureTypeSelectorCreator:()=>c,layerDescribeSelector:()=>l,wfsURL:()=>s,wfsURLSelector:()=>f,wfsFilter:()=>p,attributesSelector:()=>d,typeNameSelector:()=>g,resultsSelector:()=>m,featureCollectionResultSelector:()=>y,getFeatureById:()=>v,paginationInfo:()=>b,isDescribeLoaded:()=>O,describeSelector:()=>h,featureLoadingSelector:()=>E,isSyncWmsActive:()=>_,isFilterActive:()=>P});var n=r(86494);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(e){return(0,n.get)(e,"query.filterObj.featureTypeName")},c=function(e){return function(t){return(0,n.get)(t,'query.featureTypes["'.concat(e,'"]'))}},l=function(e,t){return(0,n.get)(c(t)(e),"original")},s=function(e){return e&&e.query&&e.query.searchUrl},f=function(e){return e&&e.query&&e.query.url},p=function(e){return e&&e.query&&e.query.filterObj},d=function(e){return(0,n.get)(c(u(e))(e),"attributes")},g=function(e){return(0,n.get)(e,"query.typeName")},m=function(e){return(0,n.get)(e,"query.result.features")},y=function(e){var t=(0,n.get)(e,"query.result");return i(i({},t),{},{features:(t&&t.features||[]).filter((function(e){return!(0,n.isNil)(e.geometry)}))})},v=function(e,t){var r=e&&e.query&&e.query.result&&e.query.result.features;return(0,n.head)(r.filter((function(e){return e.id===t})))},b={startIndex:function(e){return(0,n.get)(e,"query.filterObj.pagination.startIndex")},maxFeatures:function(e){return(0,n.get)(e,"query.filterObj.pagination.maxFeatures")},resultSize:function(e){return(0,n.get)(e,"query.result.features.length")},totalFeatures:function(e){return(0,n.get)(e,"query.result.totalFeatures")}},O=function(e,t){var r=c(t)(e);return!!(r&&r.attributes&&r.geometry&&r.original)},h=function(e){return l(e,u(e))},E=function(e){return(0,n.get)(e,"query.featureLoading")},_=function(e){return(0,n.get)(e,"query.syncWmsFilter",!1)},P=function(e){var t=(0,n.get)(e,"query.filterObj.crossLayerFilter"),r=(0,n.get)(e,"query.filterObj.spatialField"),o=(0,n.get)(e,"query.filterObj.filterFields");return!!(o&&(0,n.head)(o)||r&&(r.method&&r.operation&&r.geometry||(0,n.isArray)(r)&&(0,n.findIndex)(r,(function(e){return e.method&&e.operation&&e.geometry}))>-1)||t&&t.collectGeometries&&t.operation)}},59154:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>k});var n=r(23291),o=r(77580),i=r.n(o),a=r(72500),u=r.n(a),c=r(7185),l=r.n(c),s=r(86494),f=r(51312),p=r.n(f),d=r(89820),g=r(10082),m=r.n(g);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=n.Z?new n.Z.Proj("EPSG:4326"):null,E=i().shape({x:i().number.isRequired,y:i().number.isRequired,crs:i().string}),_=u().parse(window.location.href,!0).query,P="localConfig.json",S={proxyUrl:"/mapstore/proxy/?url=",geoStoreUrl:"/rest/geostore/",printUrl:"/mapstore/print/info.json",translationsPath:"translations",extensionsRegistry:"extensions.json",extensionsFolder:"",configurationFolder:"",contextPluginsConfiguration:"pluginsConfig.json",projectionDefs:[],themePrefix:"ms2",bingApiKey:null,mapquestApiKey:null,defaultSourceType:"gxp_wmssource",backgroundGroup:"background",userSessions:{enabled:!1}},w=function(e,t,r,n){var o=e.mapId;return{configUrl:o?(n||S.geoStoreUrl)+"data/"+o:S.configurationFolder+(e.config||t||"config")+"."+(r||"json"),legacy:!!o}},A=function(e){var t=e.split("?");if(t.length>2){var r=t.slice(1);return t[0]+"?"+r.join("&")}return e},x=function(e,t){var r=A(e).split("?"),n="";if(r.length>=2&&r[1]){var o=r[1].split(/[&;]/g).filter((function(e){return!!e}));o.forEach((function(e,r){var i=e.split("=");if(-1===t.indexOf(i[0].toLowerCase())){var a=r===o.length-1?"":"&";n+=i.join("=")+a}}))}return n?r[0]+"?"+n:r[0]},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,s.isNil)(e)||""===e?null:x(A(e),t)},R=function(e,t){var r=(0,s.isArray)(e)?{x:e[0],y:e[1]}:e,o=e.crs||t||"EPSG:4326",i="EPSG:4326"!==o?n.Z.transform(new n.Z.Proj(o),h,r):r;return p()({},i,{crs:"EPSG:4326"})},T=function(e){return"bing"===e.type&&(e.apiKey=S.bingApiKey),"mapquest"===e.type&&(e.apiKey=S.mapquestApiKey),e},M=function(e,t){return e.id||(e.id=e.name+"__"+t),e},I=function(e){var t=e;return(t.match(/\{.*?\}/g)||[]).forEach((function(e){var r=S[e.substring(1,e.length-1)];void 0!==r&&(t=t.replace(e,r||""))})),t},C=function(e){return e.url&&((0,s.isArray)(e.url)?e.url=e.url.map((function(e){return I(e)})):e.url=I(e.url)),e},j=function(e){var t=e.layers,r=e.groups,n=e.plugins,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["layers","groups","plugins"]);return o.center=R(o.center),{map:o,layers:t.map(T,e).map(M).map(C),groups:r,plugins:n}},D=function(e,t){var r,n=t;for(r in t||(n=S.defaultSourceType),e)e.hasOwnProperty(r)&&(e[r].ptype||(e[r].ptype=n))},N=function(e){return e&&-1!==e.indexOf("?")?e.split("?")[0]:e},F=function(e,t){if(e.baseParams=t.baseParams,t.url){var r=u().parse(t.url,!0);for(var n in r.query)"REQUEST"===n.toUpperCase()&&delete r.query[n];e.baseParams=p()({},e.baseParams,r.query)}e.url=N(t.url)},G=function(e,t,r){var n,o,i,a;for(o=0;o<e.length;o++){(a=t[(i=e[o]).source])&&F(i,a);var u=a.ptype;i.type=u?u.replace(/^gxp_(.*)source$/i,"$1"):"unknown",i&&(r.indexOf(a&&a.ptype)>=0?i.group===S.backgroundGroup&&(i.visibility=i.visibility||!1,n&&n.visibility?i.visibility&&(n.visibility=!1,n=i):n=i):i.visibility=!1)}n&&(n.visibility=!0)},U=function(e){return e.proxyUrl?e.proxyUrl:S.proxyUrl};const k={PropTypes:{center:E,config:i().shape({center:E,zoom:i().number.isRequired}),mapStateSource:i().string},getParsedUrl:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e){var n=u().parse(L(e,r),!0),o=null;if((0,s.endsWith)(n.pathname,"wfs")||(0,s.endsWith)(n.pathname,"wms")||(0,s.endsWith)(n.pathname,"ows"))return o=n.pathname.replace(/(wms|ows|wfs|wps)$/,"wps"),u().format(p()({},n,{search:null,pathname:o},{query:p()(b({service:"WPS"},t),n.query)}))}return null},getDefaults:function(){return b({},S)},setLocalConfigurationFile:function(e){P=e},loadConfiguration:function(){return P?l().get(P).then((function(e){return"object"===y(e.data)&&(S=p()({},S,e.data)),b({},S)})):new d.Promise((function(e){e(b({},S))}))},getCenter:R,normalizeConfig:j,getUserConfiguration:function(e,t,r){return w(_,e,t,r)},getConfigurationOptions:w,getConfigUrl:function(e){var t=e.mapId,r=t,n=e.config;try{var o=parseInt(r,10);isNaN(o)&&(n=t,r=null)}catch(e){n=t,r=null}return w({mapId:r,config:n})},convertFromLegacy:function(e){var t=e.map,r=e.gsSources||e.sources,n=t.layers.filter((function(e){return r[e.source]})),o=R(t.center,t.projection),i=t.zoom,a=t.maxExtent||t.extent;return D(r,e.defaultSourceType),G(n,r,["gxp_osmsource","gxp_wmssource","gxp_googlesource","gxp_bingsource","gxp_mapquestsource","gxp_olsource"]),j({center:o,zoom:i,maxExtent:a,layers:n,projection:t.projection||"EPSG:3857"})},setupSources:D,normalizeSourceUrl:N,copySourceOptions:F,setupLayers:G,mergeConfigs:function(e,t){return e.map=t.map,e.gsSources=t.gsSources||t.sources,e},getProxyUrl:U,cleanDuplicatedQuestionMarks:A,getUrlWithoutParameters:x,filterUrlParams:L,getProxiedUrl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!(0===e.indexOf("http")),n=!r&&e.match(/([^:]*:)\/\/([^:]*:?[^@]*@)?([^:\/\?]*):?([^\/\?]*)/);if(n){var o=window.location;r=n[1]===o.protocol&&n[3]===o.hostname;var i=n[4],a=o.port,u=0===o.protocol.indexOf("https")?443:80;i=""===i?u+"":i+"",a=""===a?u+"":a+"",r=r&&i===a}if(!r){var c=U(t);if(c){var l=[];(0,s.isObject)(c)&&(l=c.useCORS||[],c=c.url);var f=l.reduce((function(t,r){return t||0===e.indexOf(r)}),!1);if(!f)return c+encodeURIComponent(e)}}return e},getBrowserProperties:function(){var e="ActiveXObject"in window,t=e&&!document.addEventListener,r=e&&window.location.hash===!!window.MSInputMethodContext&&!!document.documentMode,n=navigator.userAgent.toLowerCase(),o=-1!==n.indexOf("webkit"),i=-1!==n.indexOf("chrome"),a=-1!==n.indexOf("safari")&&-1===n.indexOf("chrome"),u=-1!==n.indexOf("phantom"),c=-1!==n.indexOf("android"),l=-1!==n.search("android [23]"),s=-1!==n.indexOf("gecko"),f=m().any,p=!window.PointerEvent&&window.MSPointerEvent,d=window.PointerEvent&&window.navigator.pointerEnabled&&window.navigator.maxTouchPoints||p,g="devicePixelRatio"in window&&window.devicePixelRatio>1||"matchMedia"in window&&window.matchMedia("(min-resolution:144dpi)")&&window.matchMedia("(min-resolution:144dpi)").matches,y=document.documentElement,v=e&&"transition"in y.style,b="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!l,O="MozPerspective"in y.style,h="OTransition"in y.style,E=!window.L_DISABLE_3D&&(v||b||O||h)&&!u,_=!window.L_NO_TOUCH&&!u&&(d||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch);return{ie:e,ie11:r,ielt9:t,webkit:o,gecko:s&&!o&&!window.opera&&!e,android:c,android23:l,chrome:i,safari:a,ie3d:v,webkit3d:b,gecko3d:O,opera3d:h,any3d:E,mobile:f,mobileWebkit:f&&o,mobileWebkit3d:f&&b,mobileOpera:f&&window.opera,touch:_,msPointer:p,pointer:d,retina:g}},setApiKeys:T,setUrlPlaceholders:C,replacePlaceholders:I,setLayerId:M,getConfigProp:function(e){return S[e]},setConfigProp:function(e,t){S[e]=t},removeConfigProp:function(e){delete S[e]}}},89735:(e,t,r)=>{"use strict";r.r(t),r.d(t,{FORMULAS:()=>T,getProjUrl:()=>I,determineCrs:()=>j,normalizePoint:()=>N,reproject:()=>G,reprojectExtent:()=>k,getPolygonFromExtent:()=>B,getExtentFromNormalized:()=>q,crsCodeTable:()=>W,setCrsLabels:()=>K,getUnits:()=>V,getProjectedBBox:()=>Y,createBBox:()=>H,reprojectGeoJson:()=>z,lineIntersectPolygon:()=>Q,normalizeLng:()=>Z,reprojectBbox:()=>X,bboxToFeatureGeometry:()=>J,getCompatibleSRS:()=>$,getEquivalentSRS:()=>ee,getEPSGCode:()=>te,normalizeSRS:()=>re,isAllowedSRS:()=>ne,getAvailableCRS:()=>oe,filterCRSList:()=>ie,calculateAzimuth:()=>ae,calculateDistance:()=>ue,extendExtent:()=>ce,getGeoJSONExtent:()=>le,isValidExtent:()=>se,calculateCircleCoordinates:()=>fe,transformLineToArcs:()=>pe,transformArcsToLine:()=>de,coordsOLtoLeaflet:()=>ge,mergeToPolyGeom:()=>me,getViewportGeometry:()=>ye,getExtentFromViewport:()=>ve,fetchProjRemotely:()=>be,parseURN:()=>Oe,parseString:()=>he,getWMSBoundingBox:()=>Ee,isSRSAllowed:()=>_e,getNormalizedLatLon:()=>Pe,isInsideVisibleArea:()=>Se,centerToVisibleArea:()=>we,calculateCircleRadiusFromPixel:()=>Ae,roundCoord:()=>xe,midpoint:()=>Le,pointObjectToArray:()=>Re,isPointInsideExtent:()=>Te,isBboxCompatible:()=>Me,extractCrsFromURN:()=>Ie,makeNumericEPSG:()=>Ce,makeBboxFromOWS:()=>je,getPolygonFromCircle:()=>De,getLonLatFromPoint:()=>Ne,default:()=>Fe});var n=r(43034),o=r(23291),i=r(10306),a=r.n(i),u=r(51312),c=r.n(u),l=r(86494),s=r(70370),f=r(88060),p=r.n(f),d=r(31114),g=r.n(d),m=r(54323),y=r(39881),v=r.n(y),b=r(79853),O=r(44903),h=r(29516);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"==typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var L,R=o.Z,T={vincenty:function(e){for(var t=0,r=0;r<e.length-1;++r){var o=e[r],i=e[r+1],a=w(o,2),u=a[0],c=a[1],l=w(i,2),s=l[0],f=l[1];t+=parseFloat(n.Kl({longitude:u,latitude:c},{longitude:s,latitude:f}))}return t},haversine:function(e){for(var t=0,r=0;r<e.length-1;++r){var o=e[r],i=e[r+1],a=w(o,2),u=a[0],c=a[1],l=w(i,2),s=l[0],f=l[1];t+=parseFloat(n.e8({longitude:u,latitude:c},{longitude:s,latitude:f}))}return t}};function M(e,t){return(r=e).length>=2&&"number"==typeof r[0]&&"number"==typeof r[1]?t(e):e.map((function(e){return M(e,t)}));var r}var I=function(e){return"http://spatialreference.org/ref/epsg/".concat(e,"/proj4/")};function C(e,t,r){if(null===e)return e;var n=(0,l.cloneDeep)(e);return"Feature"===e.type?n.geometry=C(e.geometry,t,r):"FeatureCollection"===e.type?n.features=n.features.map((function(e){return C(e,t,r)})):"GeometryCollection"===e.type?n.geometries=n.geometries.map((function(e){return C(e,t,r)})):t&&t(n),r&&r(n),n}function j(e){return"string"==typeof e||e instanceof String?o.Z.defs(e)?new o.Z.Proj(e):null:e}var D={"EPSG:4326":"WGS 84","EPSG:3857":"EPSG:3857"},N=function(e){return{x:e.x||0,y:e.y||0,srs:e.srs||e.crs||"EPSG:4326",crs:e.srs||e.crs||"EPSG:4326"}},F=function(e){var t=e;return(0,l.isNumber)(e.x)||(t.x=parseFloat(e.x)),(0,l.isNumber)(e.y)||(t.y=parseFloat(e.y)),t},G=function(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=t&&o.Z.defs(t)?new o.Z.Proj(t):null,a=r&&o.Z.defs(r)?new o.Z.Proj(r):null;if(i&&a){var u=(0,l.isArray)(e)?o.Z.toPoint(e):o.Z.toPoint([e.x,e.y]),s=c()({},t===r?F(u):o.Z.transform(i,a,F(u)),{srs:r});return n?N(s):s}return null},U=["EPSG:900913","EPSG:4326","EPSG:3857"],k=function(e,t,r){return"EPSG:4326"===t?e:r?e.map((function(e){return[G([e[0],e[1]],"EPSG:4326",t),G([e[2],e[3]],"EPSG:4326",t)].reduce((function(e,t){return[].concat(S(e),[t.x,t.y])}),[])})):[G([e[0],e[1]],"EPSG:4326",t),G([e[2],e[3]],"EPSG:4326",t)].reduce((function(e,t){return[].concat(S(e),[t.x,t.y])}),[])},B=function(e){return e?e.hasOwnProperty("geometry")&&"Polygon"===e.geometry.type?e:(0,b.Z)(e):null},q=function(e,t){var r=function(e,t){var r="EPSG:4326"!==t?[G([parseFloat(e.minx),parseFloat(e.miny)],t,"EPSG:4326"),G([parseFloat(e.maxx),parseFloat(e.maxy)],t,"EPSG:4326")].reduce((function(e,t){return[].concat(S(e),[t.x,t.y])}),[]):[parseFloat(e.minx),parseFloat(e.miny),parseFloat(e.maxx),parseFloat(e.maxy)],n=!1;return"EPSG:4326"===t?n=Math.abs(e.maxx-e.minx)>=360:"EPSG:900913"!==t&&"EPSG:3857"!==t||(n=Math.abs(e.maxx-e.minx)>=40075016.68557849),n?[0,r[1],360,r[3]]:[(r[0]+180)%360,r[1],(r[2]+180)%360,r[3]].map((function(e,t){return t%2==0&&e<0?360+e:e}))}(e,t),n=r[2]<r[0];return n?{extent:k([[-180,r[1],r[2]-180,r[3]],[r[0]-180,r[1],180,r[3]]],t,n),isIDL:n}:{extent:k([r[0]-180,r[1],r[2]-180,r[3]],t,n),isIDL:n}},W={wgs84:4326,wgs1984:4326,crs84:4326,ogccrs84:4326,lambert93:2154,rgflambert93:2154},K=function(e){D=c()({},D,e)},V=function(e){return new o.Z.Proj(e).units||"degrees"},Y=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0,o=t*n[0]/2,i=t*n[1]/2,a=Math.cos(r),u=Math.sin(r),c=o*a,l=o*u,s=i*a,f=i*u,p=e.x,d=e.y,g=p-c+f,m=p-c-f,y=p+c-f,v=p+c+f,b=d-l-s,O=d-l+s,h=d+l+s,E=d+l-s,_=L.createBBox(Math.min(g,m,y,v),Math.min(b,O,h,E),Math.max(g,m,y,v),Math.max(b,O,h,E));return _},H=function(e,t,r,n){return{minx:e,miny:t,maxx:r,maxy:n}},z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EPSG:4326",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"EPSG:4326",n=t,o=r;"string"==typeof n&&(n=j(n)),"string"==typeof o&&(o=j(o));var i=R(n,o);return C(e,(function(e){e.crs&&delete e.crs,e.coordinates=M(e.coordinates,(function(e){var t=w(e,2),r=t[0],n=t[1];return i.forward([r,n])}))}),(function(e){var t,r;e.bbox&&(e.bbox=(t=[Number.MAX_VALUE,Number.MAX_VALUE],r=[-Number.MAX_VALUE,-Number.MAX_VALUE],C(e,(function(e){M(e.coordinates,(function(e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),r[0]=Math.max(r[0],e[0]),r[1]=Math.max(r[1],e[1])}))})),[t[0],t[1],r[0],r[1]]))}))},Q=function(e,t){var r=g()(t).features[0];return 0!==p()(e,r).features.length},Z=function(e){var t=e/360%1*360;return t<-180?t+=360:t>180&&(t-=360),t},X=function(e,t,r){var n,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];n=(0,l.isArray)(e)?{sw:[e[0],e[1]],ne:[e[2],e[3]]}:{sw:[e.minx,e.miny],ne:[e.maxx,e.maxy]};var i=[];for(var a in n)if(n.hasOwnProperty(a)){var u=L.reproject(n[a],t,r,o);if(!u)return null;var c=u.x,s=u.y;i.push(c),i.push(s)}return i},J=function(e){var t=(0,l.isArray)(e)?{minx:e[0],miny:e[1],maxx:e[2],maxy:e[3]}:e,r=t.minx,n=t.miny,o=t.maxx,i=t.maxy;return{type:"Polygon",coordinates:[[[r,n],[r,i],[o,i],[o,n],[r,n]]]}},$=function(e,t){return"EPSG:900913"===e&&!t["EPSG:900913"]&&t["EPSG:3857"]?"EPSG:3857":"EPSG:3857"===e&&!t["EPSG:3857"]&&t["EPSG:900913"]?"EPSG:900913":e},ee=function(e){return"EPSG:900913"===e||"EPSG:3857"===e?["EPSG:3857","EPSG:900913"]:[e]},te=function(e){return-1!==e.indexOf(":")?"EPSG:"+e.substring(e.lastIndexOf(":")+1):e},re=function(e,t){var r="EPSG:900913"===e?"EPSG:3857":e;return t&&!t[r]?L.getCompatibleSRS(r,t):r},ne=function(e,t){return t[L.getCompatibleSRS(e,t)]},oe=function(){var e={};for(var t in o.Z.defs)o.Z.defs.hasOwnProperty(t)&&(e[t]={label:D[t]||t});return e},ie=function(e,t,r,n){var o=Object.keys(e).reduce((function(r,n){return c()({},-1===t.indexOf(n)?r:_(_({},r),{},P({},n,e[n])))}),{}),i=n.map((function(e){return e.code})),a=Object.keys(r).reduce((function(e,t){return c()({},-1===i.indexOf(t)?e:_(_({},e),{},P({},t,r[t])))}),{});return c()({},o,a)},ae=function(e,t,r){var n=L.reproject(e,r,"EPSG:4326"),o=L.reproject(t,r,"EPSG:4326"),i=n.x*Math.PI/180,a=n.y*Math.PI/180,u=o.x*Math.PI/180,c=o.y*Math.PI/180,l=u-i,s=Math.sin(l)*Math.cos(c),f=Math.cos(a)*Math.sin(c)-Math.sin(a)*Math.cos(c)*Math.cos(l);return(180*Math.atan2(s,f)/Math.PI+360)%360},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"haversine";return e.length>=2&&-1!==Object.keys(T).indexOf(t)?T[t](e):0},ce=function(e,t){var r=e.slice();return t[0]<e[0]&&(r[0]=t[0]),t[2]>e[2]&&(r[2]=t[2]),t[1]<e[1]&&(r[1]=t[1]),t[3]>e[3]&&(r[3]=t[3]),r},le=function(e){var t=[1/0,1/0,-1/0,-1/0],r=function(e,t){var r=L.getGeoJSONExtent(t);return L.isValidExtent(r)?L.extendExtent(r,e):r};if(e.coordinates){if("Point"===e.type){var n=e.coordinates;t[0]=n[0]-.01*n[0],t[1]=n[1]-.01*n[1],t[2]=n[0]+.01*n[0],t[3]=n[1]+.01*n[1]}return(0,l.chunk)((0,l.flattenDeep)(e.coordinates),2).reduce((function(e,t){return[t[0]<e[0]?t[0]:e[0],t[1]<e[1]?t[1]:e[1],t[0]>e[2]?t[0]:e[2],t[1]>e[3]?t[1]:e[3]]}),t)}if("GeometryCollection"===e.type)return e.geometries.reduce(r,t);if(e.type){if("FeatureCollection"===e.type)return e.features.reduce(r,t);if("Feature"===e.type&&e.geometry)return L.getGeoJSONExtent(e.geometry)}return t},se=function(e){return!(-1!==e.indexOf(1/0)||-1!==e.indexOf(-1/0)||e[0]>e[2]||e[1]>e[3])},fe=function(e,t,r,n){var o,i,a,u=Math.PI*(1/r-.5);n&&(u+=n/180*Math.PI);for(var c=[[]],l=0;l<r;l++)o=u+2*l*Math.PI/r,i=e.x+t*Math.cos(o),a=e.y+t*Math.sin(o),c[0].push([i,a]);return c[0].push(c[0][0]),c},pe=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{npoints:100,offset:10,properties:{}},r=[],n=0;n<e.length-1;++n){var o=e[n],i=e[n+1],a=v()(o),u=v()(i);if(o[0]!==i[0]||o[1]!==i[1]){var c=(0,m.Z)(a,u,t);r=[].concat(S(r),S(c.geometry.coordinates))}}return r},de=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return e.length<=t?[(0,l.head)(e),(0,l.last)(e)]:e.length>t?[(0,l.head)(e)].concat(L.transformArcsToLine((0,l.slice)(e,t))):[]},ge=function(e){var t=e.coordinates;switch(e.type){case"Polygon":return t.map((function(e){return e.map((function(e){return e.reverse()}))}));case"LineString":return t.map((function(e){return e.reverse()}));case"Point":return t.reverse();default:return[]}},me=function(e){return 1===e.length?e[0].geometry:{type:"GeometryCollection",geometries:e.map((function(e){return e.geometry}))}},ye=function(e,t){if((0,l.head)(U.filter((function(e){return e===t})))){var r=q(e,t),n=r.extent,o=r.isIDL,i=(o?n:[n]).map((function(e){var t=[e[0],e[1]],r=[e[2],e[3]];return[[t,[t[0],r[1]],r,[r[0],t[1]],t]]}));if(o){var a=n[1][0]+(Math.abs(n[0][0]-n[0][2])+Math.abs(n[1][0]-n[1][2]))/2;return{type:"MultiPolygon",radius:0,projection:t,coordinates:i,extent:n,center:[a=a>180?a-360:a,(n[0][1]+n[0][3])/2]}}return{type:"Polygon",radius:0,projection:t,coordinates:i[0],extent:n,center:[(n[0]+n[2])/2,(n[1]+n[3])/2]}}var u=[e.minx,e.miny,e.maxx,e.maxy],c=[u[0],u[1]],s=[u[2],u[3]];return{type:"Polygon",radius:0,projection:t,coordinates:[[c,[c[0],s[1]],s,[s[0],c[1]],c]],extent:u,center:[(u[0]+u[2])/2,(u[1]+u[3])/2]}},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bounds,r=e.crs,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EPSG:4326";if(!t||!r)return null;var o=L.getViewportGeometry(t,r),i=o.extent;if(4===i.length)return L.reprojectBbox(i,r,n);var a=i.map((function(e){return e[2]-e[0]})),u=w(a,2),c=u[0],l=u[1];return c>l?L.reprojectBbox(i[0],r,n):L.reprojectBbox(i[1],r,n)},be=function(e,t){var r=2===e.split(":").length?e.split(":")[1]:"3857";return a().get(t||I(r),null,{timeout:2e3})},Oe=function(e){var t=e&&e.properties&&e.properties.name||e&&e.name||e&&e.properties&&e.properties.code||e,r=t&&(0,l.last)(t.split(":"));return"WGS 1984"===r||"WGS84"===r?"EPSG:4326":r?"EPSG:"+r:null},he=function(e){var t=e.split(" "),r=parseFloat(t[0]),n=parseFloat(t[1]);return!isNaN(r)&&!isNaN(n)&&{x:r,y:n}||null},Ee=function(e,t){var r=t||"EPSG:3857",n=e&&(0,l.isArray)(e)&&(0,l.head)(e.filter((function(e){return e&&e.$&&e.$.SRS===r&&e.$.maxx&&e.$.maxy&&e.$.minx&&e.$.miny})).map((function(e){return e&&e.$&&L.reprojectBbox([parseFloat(e.$.minx),parseFloat(e.$.miny),parseFloat(e.$.maxx),parseFloat(e.$.maxy)],r,"EPSG:4326")})));return(0,l.isArray)(n)&&{minx:n[0],miny:n[1],maxx:n[2],maxy:n[3]}||null},_e=function(e){return!!o.Z.defs(e)},Pe=function(e){var t=e.lng,r=void 0===t?1:t,n=e.lat;return{lat:void 0===n?1:n,lng:L.normalizeLng(r)}},Se=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=L.getNormalizedLatLon(e),i=G([o.lng,o.lat],"EPSG:4326",t.projection);if(!t.bbox)return!1;var a=L.reprojectBbox(t.bbox.bounds,t.bbox.crs,t.projection),u=_({left:0,right:0,top:0,bottom:0},r),c={minx:a[0]+u.left*n,miny:a[1]+u.bottom*n,maxx:a[2]-u.right*n,maxy:a[3]-u.top*n},s=L.getViewportGeometry(c,t.projection),f=4===s.extent.length?[S(s.extent)]:S(s.extent);return(0,l.head)(f.map((function(e){return i.x>=e[0]&&i.y>=e[1]&&i.x<=e[2]&&i.y<=e[3]})).filter((function(e){return e})))||!1},we=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=L.getNormalizedLatLon(e),i=G([o.lng,o.lat],"EPSG:4326",t.projection),a=_({left:0,right:0,top:0,bottom:0},r),u={width:(t.size.width-a.right-a.left)*n,height:(t.size.height-a.top-a.bottom)*n},c={minx:i.x-u.width/2-a.left*n,miny:i.y-u.height/2-a.bottom*n,maxx:i.x+u.width/2+a.right*n,maxy:i.y+u.height/2+a.top*n},l=L.getViewportGeometry(c,t.projection);if(4===l.extent.length)return{pos:G([l.extent[0]+t.size.width/2*n,l.extent[1]+t.size.height/2*n],t.projection,"EPSG:4326"),zoom:t.zoom,crs:"EPSG:4326"};if(Math.abs(l.extent[0][2]-l.extent[0][0])>Math.abs(l.extent[1][2]-l.extent[1][0])){var s=G([l.extent[0][2]-t.size.width/2*n,l.extent[0][3]-t.size.height/2*n],t.projection,"EPSG:4326"),f=_(_({},s),{},{x:s.x+(o.lng>s.x?360:0)});return{pos:f,zoom:t.zoom,crs:"EPSG:4326"}}return{pos:G([l.extent[1][0]+t.size.width/2*n,l.extent[1][1]+t.size.height/2*n],t.projection,"EPSG:4326"),zoom:t.zoom,crs:"EPSG:4326"}},Ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.01,i=(0,l.isArray)(r)?r:[r.x,r.y];if((0,l.isNumber)(i[0])&&!isNaN(i[0])&&(0,l.isNumber)(i[1])&&!isNaN(i[1])&&(0,l.isNumber)(t.x)&&!isNaN(t.x)&&(0,l.isNumber)(t.y)&&!isNaN(t.y)){var a=(0,l.isFunction)(e)?e([t.x,t.y>=n?t.y-n:t.y+n]):null,u=a&&((0,l.isArray)(a)?a:[a.x,a.y]);return(0,l.isArray)(u)?Math.sqrt((i[0]-u[0])*(i[0]-u[0])+(i[1]-u[1])*(i[1]-u[1])):o}return o},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.roundingBehaviour,r=void 0===t?"round":t,n=e.value,o=void 0===n?0:n,i=e.maximumFractionDigits,a=void 0===i?0:i;return 0===a&&Math[r]?Math[r](o):o},Le=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(0,l.isArray)(e)?{x:e[0],y:e[1]}:e,o=(0,l.isArray)(t)?{x:t[0],y:t[1]}:t,i={x:.5*(n.x+o.x),y:.5*(n.y+o.y)};return r?[i.x,i.y]:i},Re=function(e){return(0,l.isObject)(e)&&(0,l.isNumber)(e.x)&&(0,l.isNumber)(e.y)?[e.x,e.y]:e},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{lat:1,lng:1},t=arguments.length>1?arguments[1]:void 0;return(0,h.Z)(B(t),v()([e.lng,e.lat]))},Me=function(e,t){return(0,O.Z)(e,t)||(0,h.Z)(e,t)||(0,h.Z)(t,e)},Ie=function(e){if(e){var t=e.split(":");if("urn"===t[0]&&("ogc"===t[1]||"x-ogc"===t[1])&&"def"===t[2]&&"crs"===t[3]&&(t[4]||t[6])){var r=t[4],n=t[6];return r?"".concat(r,":").concat(n):n}}return null},Ce=function(e){if(!e||"EPSG:"!==e.slice(0,5))return null;var t=e.slice(5),r=parseInt(t,10);if(r>=1024&&r<=32767)return e;var n=t.replace(" ","").replace(":","").toLowerCase(),o=W[n];return o>=1024&&o<=32767?"EPSG:".concat(o):null},je=function(e,t){var r=[e[0],e[1]],n=[t[0],t[1]];if(r[1]>n[1]){var o=r;r=n,n=o}if(r[0]>n[0]){var i=r.slice(),a=n.slice();r=[a[0],i[1]],n=[i[0],a[1]]}return[r[0],r[1],n[0],n[1]]},De=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"degrees",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;return e&&t?(0,s.Z)(e,t,{steps:n,units:r}):null},Ne=function(e){var t=e&&e.latlng||null,r=null;return t&&(r=t&&Math.round(1e17*t.lng)/1e17,r-=360*Math.floor(r/360+.5)),[r,t&&t.lat]};const Fe=L={setCrsLabels:K,getUnits:V,reproject:G,getProjectedBBox:Y,createBBox:H,reprojectGeoJson:z,lineIntersectPolygon:Q,normalizePoint:N,normalizeLng:Z,reprojectBbox:X,getCompatibleSRS:$,getEquivalentSRS:ee,getEPSGCode:te,normalizeSRS:re,isAllowedSRS:ne,getAvailableCRS:oe,filterCRSList:ie,calculateAzimuth:ae,calculateDistance:ue,FORMULAS:T,extendExtent:ce,getGeoJSONExtent:le,isValidExtent:se,calculateCircleCoordinates:fe,transformLineToArcs:pe,transformArcsToLine:de,coordsOLtoLeaflet:ge,mergeToPolyGeom:me,getViewportGeometry:ye,getProjUrl:I,getExtentFromViewport:ve,fetchProjRemotely:be,parseURN:Oe,determineCrs:j,parseString:he,getWMSBoundingBox:Ee,isSRSAllowed:_e,getNormalizedLatLon:Pe,isInsideVisibleArea:Se,centerToVisibleArea:we,calculateCircleRadiusFromPixel:Ae,roundCoord:xe,midpoint:Le,pointObjectToArray:Re,getExtentFromNormalized:q,getPolygonFromExtent:B,isPointInsideExtent:Te,isBboxCompatible:Me,extractCrsFromURN:Ie,crsCodeTable:W,makeNumericEPSG:Ce,makeBboxFromOWS:je,getPolygonFromCircle:De,getLonLatFromPoint:Ne}},24357:(e,t,r)=>{"use strict";r.d(t,{f:()=>o});var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"--unknown--";return function(){return e.apply(void 0,arguments).catch((function(e,r){return console.error('Error in epic "'.concat(t,'". Original error:'),e),setTimeout((function(){throw e}),0),r}))}},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;return Object.keys(e).map((function(r){return t(e[r],r)}))}},95525:(e,t,r)=>{"use strict";r.r(t),r.d(t,{generateEnvString:()=>n});var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length?e.map((function(e){var t=e.name,r=e.value;return"".concat(t,":").concat(r)})).join(";"):""}},36515:(e,t,r)=>{"use strict";r.r(t),r.d(t,{getWpsUrl:()=>N,getNode:()=>k,getGroupNodes:()=>B,getNestedGroupTitle:()=>q,deepChange:()=>W,getSourceId:()=>K,extractTileMatrixFromSources:()=>V,extractTileMatrixSetFromLayers:()=>Y,extractSourcesFromLayers:()=>H,extractDataFromSources:()=>z,getURLs:()=>Q,getLayerUrl:()=>X,getGroupByName:()=>J,getDimension:()=>$,getLayerId:()=>ee,normalizeLayer:()=>te,normalizeMap:()=>re,belongsToGroup:()=>ne,getLayersByGroup:()=>oe,removeEmptyGroups:()=>ie,getNotEmptyGroup:()=>ae,reorderFunc:()=>ue,denormalizeGroups:()=>ce,sortLayers:()=>le,toggleByType:()=>se,sortUsing:()=>fe,splitMapAndLayers:()=>pe,geoJSONToLayer:()=>de,saveLayer:()=>ge,REG_GEOSERVER_RULE:()=>me,setRegGeoserverRule:()=>ye,getRegGeoserverRule:()=>ve,findGeoServerName:()=>be,getCapabilitiesUrl:()=>Oe,getSearchUrl:()=>he,invalidateUnsupportedLayer:()=>Ee,isSupportedLayer:()=>_e,getLayerTitleTranslations:()=>Pe,setCustomUtils:()=>Se,getAuthenticationParam:()=>we,excludeGoogleBackground:()=>Ae,creditsToAttribution:()=>xe,formatCapabitiliesOptions:()=>Le,getLayerTitle:()=>Re,isInsideResolutionsLimits:()=>Te});var n,o=r(51312),i=r.n(o),a=r(75820),u=r.n(a),c=r(55595),l=r.n(c),s=r(88042),f=r.n(s),p=r(20238),d=r.n(p),g=r(21389),m=r.n(g),y=r(81938),v=r.n(y),b=r(23317),O=r.n(b),h=r(8364),E=r.n(h),_=r(61394),P=r.n(_),S=r(97764),w=r.n(S),A=r(54702),x=r.n(A),L=r(36493);function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var j=/\/[\w- ]*geoserver[\w- ]*\//,D=function(e,t){return t.filter((function(t){return(t.group||"Default")===e})).map((function(e){return e.id})).reverse()},N=function(e){return e&&e.wpsUrl||e.search&&e.search.url||e.url},F=function e(t,r){return t.slice(0).reverse().reduce((function(t,n){return t.concat(n.nodes.slice(0).reverse().reduce((function(t,n){return d()(n)?t.concat(e([n],r)):t.concat(function(e,t){return v()(t.filter((function(t){return t.id===e})))}(n,r))}),[]))}),[])},G=function(e,t){return F(e,t)},U=function(e,t){var n=r(86570)("./"+t+"/Layers");return"mapquest"===e.type||"bing"===e.type?n.isSupported(e.type)&&e.apiKey&&"__API_KEY_MAPQUEST__"!==e.apiKey&&!e.invalid:"empty"===e.type||n.isSupported(e.type)&&!e.invalid},k=function e(t,r){return t&&m()(t)?t.reduce((function(t,n){return t||(!n||n.name!==r&&n.id!==r&&n!==r?n&&n.nodes&&n.nodes.length>0?e(n.nodes,r):t:n)}),null):null},B=function e(t){return t&&t.nodes?t.nodes.reduce((function(t,r){var n=[].concat(t);return r.nodes&&(n=t.concat(e(r))),f()(r)?[].concat(I(n),[r]):[].concat(I(n),[r.id])}),[]):[]},q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return m()(t)&&v()(t.map((function(t){var r=t.id===e?t:null;if(r)return r.title;var n=k(t.nodes,e);return n?n.title:null})))},W=function e(t,r,n,o){return t&&m()(t)&&t.length>0?t.map((function(t){if(d()(t)){if(t.id===r)return T(T({},t),d()(n)?n:M({},n,o));if(t.nodes)return T(T({},t),{},{nodes:e(t.nodes,r,n,o)})}return t})):[]},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.capabilitiesURL||v()(O()(e.url))},V=function(e,t){if(!e||!t)return{};!m()(t.matrixIds)&&d()(t.matrixIds)&&(t.matrixIds=I(Object.keys(t.matrixIds)));var r=K(t),n=t.matrixIds&&t.matrixIds.reduce((function(t,n){var o=e[r]&&e[r].tileMatrixSet&&e[r].tileMatrixSet[n]&&e[r].tileMatrixSet[n].TileMatrix.map((function(e){return{identifier:e["ows:Identifier"],ranges:e.ranges}}))||[];return 0===o.length?i()({},t):i()({},t,M({},n,I(o)))}),{})||null,o=t.tileMatrixSet&&t.matrixIds.map((function(t){return e[r].tileMatrixSet[t]})).filter((function(e){return e}))||null;return o&&n&&{tileMatrixSet:o,matrixIds:n}||{}},Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&Object.keys(e).reduce((function(r,n){var o=e[n].reduce((function(e,t){return i()(e,M({},t.id||t.name,{srs:I(Object.keys(t.matrixIds)),matrixIds:i()({},t.matrixIds)}))}),{}),a=e[n].reduce((function(e,t){var r=t.tileMatrixSet.reduce((function(e,t){return i()({},e,M({},t["ows:Identifier"],i()({},t)))}),{}),n=Object.keys(r).reduce((function(e,t){var n=Object.keys(o).filter((function(e){return v()(o[e].srs.filter((function(e){return e===t})))})).map((function(e){return o[e].matrixIds[t]})),a=n[0]&&r[t].TileMatrix.map((function(e,t){return n[0][t]&&n[0][t].ranges?i()({},e,{ranges:n[0][t].ranges}):i()({},e)}));return v()(n)?i()({},e,M({},t,i()({},r[t],{TileMatrix:a}))):i()({},e)}),{});return i()({},e,n)}),{});return i()({},r,M({},n,i()({},t[n]||{},{tileMatrixSet:i()({},r[n]&&r[n].tileMatrixSet||{},a)})))}),i()({},t))||t},H=function(e){var t=e.filter((function(e){return e.tileMatrixSet})).reduce((function(e,t){var r=K(t);return e[r]?i()({},e,M({},r,[].concat(I(e[r]),[t]))):i()({},e,M({},r,[t]))}),{});return Y(t)},z=function(e){if(!e||!e.layers||!m()(e.layers))return null;var t=e.mapInitialConfig&&e.mapInitialConfig.sources&&i()({},e.mapInitialConfig.sources)||{};return E()(t)?I(e.layers):e.layers.map((function(e){var r=V(t,e);return i()({},e,r)}))},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.map((function(e){return e.split("?")[0]+t}))},Z={},X=function(e){return m()(e.url)?e.url[0]:e.url},J=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=v()(t.filter((function(t){return t.name===e})));return r||t.reduce((function(t,r){return t||!!r.nodes&&n.getGroupByName(e,r.nodes)}),void 0)},$=function(e,t){switch(t.toLowerCase()){case"elevation":return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){return"elevation"===t.name.toLowerCase()||"depth"===t.name.toLowerCase()?i()({positive:"elevation"===t.name.toLowerCase()},t,{name:"elevation"===t.name.toLowerCase()?t.name:"DIM_"+t.name}):e}),null)}(e);default:return null}},ee=function(e,t){return e&&e.id||e.name+"__"+(t?t.length:Math.random().toString(36).substring(2,15))},te=function(e){return e.id?e:T(T({},e),{},{id:n.getLayerId(e)})},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[function(e){return(e.layers||[]).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id;return!t})).length>0?T(T({},e),{},{layers:(e.layers||[]).map((function(e){return n.normalizeLayer(e)}))}):e},function(e){return e.groups?e:T(T({},e),{},{groups:{id:"Default",expanded:!0}})}].reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))(e)},ne=function(e){return function(t){return(t.group||"Default")===e||0===(t.group||"").indexOf("".concat(e,"."))}},oe=function(e,t){var r=0,n=e.map((function(e){return i()({},e,{storeIndex:r++})}));return n.reduce((function(e,t){return-1===e.indexOf(t.group||"Default")?e.concat([t.group||"Default"]):e}),[]).filter((function(e){return"background"!==e})).reverse().reduce((function(e,r){var o=r||"Default";return o.split(".").reduce((function(e,r,a,u){var c=o.split(".",a+1).join("."),l=function(e,t){return v()(t.filter((function(t){return d()(t)&&t.id===e})))}(c,e),s=a===u.length-1;return l?s&&(l.nodes=l.nodes.concat(D(c,n))):(l=function(e,t,r,n,o){return i()({},{id:e,title:null!=t?t:(r||"").replace(/\${dot}/g,"."),name:r,nodes:o?D(e,n):[],expanded:!0})}(c,q(c,t)||r,r,n,s),e.push(l)),l.nodes}),e),e}),[])},ie=function(e){return e.reduce((function(e,t){return e.concat(n.getNotEmptyGroup(t))}),[])},ae=function(e){var t=e.nodes.reduce((function(e,t){return t.nodes?e.concat(n.getNotEmptyGroup(t)):e.concat(t)}),[]);return t.length>0?i()({},e,{nodes:t}):[]},ue=function(e,t){return t.filter((function(e){return"background"===e.group})).concat(G(e,t))},ce=function(e,t){var r=function(e){var t=!0;return e.forEach((function(e){e.visibility||(t=!1)})),t},n=function e(t,n){var o=t.nodes.map((function(t){return d()(t)?e(t,n):n.filter((function(e){return e.id===t}))[0]}));return i()({},t,{nodes:o,visibility:r(o)})},o=e.map((function(e){return i()({},e,{expanded:e.expanded||!1})}));return{flat:o,groups:t.map((function(e){return n(e,o)}))}},le=function(e,t){return t.filter((function(e){return"background"===e.group})).concat(G(e,t))},se=function(e,t){return function(r,n){return t(r,e,n)}},fe=function(e,t){return function(r,n){return t(r,n,e)}},pe=function(e){if(e&&m()(e.layers)){var t=n.getLayersByGroup(e.layers,e.groups);m()(e.groups)&&(t=e.groups.reduce((function(e,t){var r=e;if(t.title){var o={title:t.title,description:t.description,tooltipOptions:t.tooltipOptions,tooltipPlacement:t.tooltipPlacement};r=n.deepChange(r,t.id,o)}return n.deepChange(r,t.id,"expanded",t.expanded)}),[].concat(t)));var r=z(e);return i()({},e,{layers:{flat:n.reorder(t,r),groups:t}})}return e},de=function(e,t){var r,n=u()(e);return r="FeatureCollection"===e.type?e.features.map((function(e,t){return e.id||(e.id=t),e.geometry&&e.geometry.bbox&&isNaN(e.geometry.bbox[0])&&(e.geometry.bbox=[null,null,null,null]),e})):[w()(T(T({},e),{},{id:x()(e.id)?l()():e.id}),["geometry","type","style","id"])],{type:"vector",visibility:!0,group:"Local shape",id:t,name:e.fileName,hideLoading:!0,bbox:{bounds:{minx:n[0],miny:n[1],maxx:n[2],maxy:n[3]},crs:"EPSG:4326"},features:r}},ge=function(e){return i()({id:e.id,features:e.features,format:e.format,thumbURL:e.thumbURL&&"blob"===e.thumbURL.split(":")[0]?void 0:e.thumbURL,group:e.group,search:e.search,source:e.source,name:e.name,opacity:e.opacity,provider:e.provider,description:e.description,styles:e.styles,style:e.style,styleName:e.styleName,availableStyles:e.availableStyles,layerFilter:e.layerFilter,title:e.title,transparent:e.transparent,tiled:e.tiled,type:e.type,url:e.url,bbox:e.bbox,visibility:e.visibility,singleTile:e.singleTile||!1,allowedSRS:e.allowedSRS,matrixIds:e.matrixIds,tileMatrixSet:e.tileMatrixSet,requestEncoding:e.requestEncoding,dimensions:e.dimensions||[],maxZoom:e.maxZoom,maxNativeZoom:e.maxNativeZoom,maxResolution:e.maxResolution,minResolution:e.minResolution,disableResolutionLimits:e.disableResolutionLimits,hideLoading:e.hideLoading||!1,handleClickOnLayer:e.handleClickOnLayer||!1,queryable:e.queryable,featureInfo:e.featureInfo,catalogURL:e.catalogURL,capabilitiesURL:e.capabilitiesURL,useForElevation:e.useForElevation||!1,hidden:e.hidden||!1,origin:e.origin,thematic:e.thematic,tooltipOptions:e.tooltipOptions,tooltipPlacement:e.tooltipPlacement,legendOptions:e.legendOptions,tileSize:e.tileSize,version:e.version},e.params?{params:e.params}:{},e.credits?{credits:e.credits}:{},e.extendedParams?{extendedParams:e.extendedParams}:{},e.localizedLayerStyles?{localizedLayerStyles:e.localizedLayerStyles}:{})},me=j,ye=function(e){j=e},ve=function(){return j},be=function(e){var t=e.url,r=e.regexRule||n.getRegGeoserverRule(),o=m()(t)?t[0]:t;return r.test(o)&&o.match(r)[0]||null},Oe=function(e){var t,r,o,i=n.findGeoServerName({url:e.url}),a=X(e);if(i){var u=a.split(i);if(2===u.length){var c=e.name.split(":");2===c.length&&(a=u[0]+i+c[0]+"/"+c[1]+"/"+u[1])}}return t=a,r=T(T({},e.baseParams),e.params),o=Object.keys(r).map((function(e){return e+"="+encodeURIComponent(r[e])})).join("&"),-1===t.indexOf("?")?t+"?"+o:t+"&"+o},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.search&&e.search.url||e.url},Ee=function(e,t){return U(e,t)?function(e){return e&&e.invalid?i()({},e,{invalid:!1}):e}(e):i()({},e,{invalid:!0})},_e=function(e,t){return!!U(e,t)},Pe=function(e){return Z.getLayerTitleTranslations?Z.getLayerTitleTranslations(e):e.Title},Se=function(e,t){Z[e]=t},we=function(e){var t=Q(m()(e.url)?e.url:[e.url]),r={};return t.forEach((function(t){(0,L.addAuthenticationParameter)(t,r,e.securityToken)})),r},Ae=function(e){var t=e.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,r=e.group,n=e.visibility;return"background"===r&&"google"===t&&n})).length>0,r=e.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type;return"google"!==t})),n=r.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.group;return"background"===t}));if(t&&0===n.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.visibility;return t})).length){if(n.length>0){var o=P()(r,{group:"background"});return r.map((function(e,t){return t===o?T(T({},e),{},{visibility:!0}):e}))}return[{type:"osm",title:"Open Street Map",name:"mapnik",source:"osm",group:"background",visibility:!0}].concat(I(r))}return r},xe=function(e){var t=e.imageUrl,r=e.link,n=e.title,o=t?'<img src="'.concat(t,'" ').concat(n?'title="'.concat(n,'"'):"",">"):n;return r&&o?'<a href="'.concat(r,'" target="_blank">').concat(o,"</a>"):o},Le=function(e){return d()(e)?{capabilities:e,capabilitiesLoading:null,description:e._abstract,boundingBox:e.latLonBoundingBox,availableStyles:e.style&&(Array.isArray(e.style)?e.style:[e.style])}:{}},Re=function(e){var t=e.title,r=e.name,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return(null==t?void 0:t[n])||(null==t?void 0:t.default)||t||r},Te=function(e,t){if(e.disableResolutionLimits)return!0;var r=e.minResolution||-1/0,n=e.maxResolution||1/0;return void 0===t||t<n&&t>=r};n={getGroupByName:J,getLayerId:ee,normalizeLayer:te,getNotEmptyGroup:ae,getLayersByGroup:oe,deepChange:W,reorder:ue,getRegGeoserverRule:ve,findGeoServerName:be,isInsideResolutionsLimits:Te}},17850:(e,t,r)=>{"use strict";r.r(t),r.d(t,{COMPUTE_BBOX_HOOK:()=>x,DEFAULT_SCREEN_DPI:()=>h,EXTENT_TO_ZOOM_HOOK:()=>P,GET_COORDINATES_FROM_PIXEL_HOOK:()=>R,GET_PIXEL_FROM_COORDINATES_HOOK:()=>L,GOOGLE_MERCATOR:()=>_,METERS_PER_UNIT:()=>E,RESOLUTIONS_HOOK:()=>w,RESOLUTION_HOOK:()=>A,ZOOM_TO_EXTENT_HOOK:()=>S,addRootParentGroup:()=>oe,clearHooks:()=>j,compareMapChanges:()=>fe,createRegisterHooks:()=>pe,default:()=>de,defaultGetZoomForExtent:()=>Y,dpi2dpm:()=>D,dpi2dpu:()=>N,executeHook:()=>C,generateNewUUIDs:()=>re,getBbox:()=>Z,getCenterForExtent:()=>Q,getCurrentResolution:()=>z,getGoogleMercatorResolutions:()=>q,getGoogleMercatorScale:()=>G,getGoogleMercatorScales:()=>k,getHook:()=>I,getIdFromUri:()=>ue,getResolutions:()=>W,getResolutionsForScales:()=>B,getScales:()=>K,getSimpleGeomType:()=>ae,getSphericalMercatorScale:()=>F,getSphericalMercatorScales:()=>U,getZoomForExtent:()=>H,getZoomFromResolution:()=>V,groupSaveFormatted:()=>ee,isNearlyEqual:()=>X,isSimpleGeomType:()=>ie,mapUpdated:()=>J,mergeMapConfigs:()=>ne,parseLayoutValue:()=>ce,prepareMapObjectToCompare:()=>le,registerHook:()=>M,saveMapConfiguration:()=>te,transformExtent:()=>$,updateObjectFieldKey:()=>se});var n=r(86494),o=r(55595),i=r.n(o),a=r(89735),u=r(91577),c=r.n(u),l=(r(44436),r(2991),c()),s=r(36515),f=r(51312),p=r.n(f);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function m(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=96,E={m:1,degrees:111194.87428468118,ft:.3048,"us-ft":1200/3937},_={RADIUS:6378137,TILE_WIDTH:256,ZOOM_FACTOR:2},P="EXTENT_TO_ZOOM_HOOK",S="ZOOM_TO_EXTENT_HOOK",w="RESOLUTIONS_HOOK",A="RESOLUTION_HOOK",x="COMPUTE_BBOX_HOOK",L="GET_PIXEL_FROM_COORDINATES_HOOK",R="GET_COORDINATES_FROM_PIXEL_HOOK",T={};function M(e,t){T[e]=t}function I(e){return T[e]}function C(e,t,r){var n=I(e);return n?t(n):r?r():null}function j(){T={}}function D(e){return e*(100/2.54)}function N(e,t){var r=(0,a.getUnits)(t||"EPSG:3857");return E[r]*D(e||h)}function F(e,t,r,n,o){return 2*Math.PI*e/(t*Math.pow(r,n)/D(o||h))}function G(e,t){return F(_.RADIUS,_.TILE_WIDTH,_.ZOOM_FACTOR,e,t)}function U(e,t,r,n,o,i){for(var a=[],u=n;u<=o;u++)a.push(F(e,t,r,u,i));return a}function k(e,t,r){return U(_.RADIUS,_.TILE_WIDTH,_.ZOOM_FACTOR,e,t,r)}function B(e,t,r){var n=N(r,t);return e.map((function(e){return e/n}))}function q(e,t,r){return B(k(e,t,r),"EPSG:3857",r)}function W(){return I("RESOLUTIONS_HOOK")?I("RESOLUTIONS_HOOK")():q(0,21,h)}function K(e,t){var r=N(t,e);return W().map((function(e){return e*r}))}function V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:W(),r=t.map((function(t,r){return{diff:Math.abs(t-e),zoom:r}})),o=(0,n.minBy)(r,"diff"),i=o.zoom;return i}function Y(e,t,r,n,o,i){var a=e[2]-e[0],u=e[3]-e[1],c=Math.abs(a/t.width),l=Math.abs(u/t.height),s=Math.max(c,l),f=(i||B(k(r,n,o||h),"EPSG:3857",o)).reduce((function(e,t,r){var n=Math.abs(t-s);return n>e.diff?e:{diff:n,zoom:r}}),{diff:Number.POSITIVE_INFINITY,zoom:0}).zoom;return Math.max(0,Math.min(f,n))}function H(e,t,r,n,o){return I("EXTENT_TO_ZOOM_HOOK")?I("EXTENT_TO_ZOOM_HOOK")(e,t,r,n,o):Y(e,t,r,n,o,I("RESOLUTIONS_HOOK")?I("RESOLUTIONS_HOOK")(e,t,r,n,o,D(o||h)):null)}function z(e,t,r,n){return I("RESOLUTION_HOOK")?I("RESOLUTION_HOOK")(e,t,r,n):q(t,r,n)[e]}function Q(e,t){var r=(e[2]-e[0])/2,n=(e[3]-e[1])/2;return{x:e[0]+r,y:e[1]+n,crs:t}}function Z(e,t){return C("COMPUTE_BBOX_HOOK",(function(r){return r(e,t)}))}var X=function(e,t){return void 0!==e&&void 0!==t&&e.toFixed(12)-t.toFixed(12)==0};function J(e,t){var r,o,i,a;return!(!e||(0,n.isEmpty)(e)||!t||(0,n.isEmpty)(t)||X(null==t||null===(r=t.center)||void 0===r?void 0:r.x,null==e||null===(o=e.center)||void 0===o?void 0:o.x)&&X(null==t||null===(i=t.center)||void 0===i?void 0:i.y,null==e||null===(a=e.center)||void 0===a?void 0:a.y)&&(null==t?void 0:t.zoom)===(null==e?void 0:e.zoom))}function $(e,t,r,n){var o=(0,a.getUnits)(e);return"ft"===o?{width:r/E.ft,height:n/E.ft}:"us-ft"===o?{width:r/E["us-ft"],height:n/E["us-ft"]}:"degrees"===o?{width:r/(111132.92-559.82*Math.cos(2*t.y)+1.175*Math.cos(4*t.y)),height:n/(111412.84*Math.cos(t.y)-93.5*Math.cos(3*t.y))}:{width:r,height:n}}var ee=function(e){return{id:e.id,title:e.title,description:e.description,tooltipOptions:e.tooltipOptions,tooltipPlacement:e.tooltipPlacement,expanded:e.expanded}};function te(e,t,r,o,i,a,u){var c={center:e.center,maxExtent:e.maxExtent,projection:e.projection,units:e.units,mapInfoControl:e.mapInfoControl,zoom:e.zoom,mapOptions:e.mapOptions||{}},f=t.map((function(e){return(0,s.saveLayer)(e)})),d=r.reduce((function(e,t){return e.concat((0,s.getGroupNodes)(t))}),[].concat(r.map((function(e){return e.id})))).map((function(e){var t=(0,s.getNode)(r,e);return t&&t.nodes?ee(t):null})).filter((function(e){return e})),g=o.filter((function(e){return!!e.thumbnail})),m=(0,s.extractSourcesFromLayers)(f),y=f.map((function(e){return p()({},e,{tileMatrixSet:e.tileMatrixSet&&e.tileMatrixSet.length>0,matrixIds:e.matrixIds&&Object.keys(e.matrixIds)})})),v=(0,n.findIndex)(y,(function(e){return"annotations"===e.id}));if(-1!==v){var O=y[v].features.map((function(e){return"FeatureCollection"===e.type?b(b({},e),{},{features:e.features.map((function(e){return e.properties.geometryGeodesic?l("properties.geometryGeodesic",null,e):e}))}):e.properties.geometryGeodesic?l("properties.geometryGeodesic",null,e):{}}));y[v]=l("features",O,y[v])}return b({version:2,map:p()({},c,{layers:y,groups:d,backgrounds:g,text_search_config:i,bookmark_search_config:a},!(0,n.isEmpty)(m)&&{sources:m}||{})},u)}var re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,n.cloneDeep)(e),r=b(b({},(0,n.get)(e,"map.layers",[]).reduce((function(e,t){return b(b({},e),{},O({},t.id,"annotations"===t.id?t.id:i()()))}),{})),(0,n.get)(e,"widgetsConfig.widgets",[]).reduce((function(e,t){return b(b({},e),{},O({},t.id,i()()))}),{}));return l("map.backgrounds",(0,n.get)(e,"map.backgrounds",[]).map((function(e){return b(b({},e),{},{id:r[e.id]})})),l("widgetsConfig",{collapsed:(0,n.mapValues)((0,n.mapKeys)((0,n.get)(e,"widgetsConfig.collapsed",{}),(function(e,t){return r[t]})),(function(e){return b(b({},e),{},{layouts:(0,n.mapValues)(e.layouts,(function(e){return b(b({},e),{},{i:r[e.i]})}))})})),layouts:(0,n.mapValues)((0,n.get)(e,"widgetsConfig.layouts",{}),(function(e){return e.map((function(e){return b(b({},e),{},{i:r[e.i]})}))})),widgets:(0,n.get)(e,"widgetsConfig.widgets",[]).map((function(e){return b(b({},e),{},{id:r[e.id],layer:b(b({},(0,n.get)(e,"layer",{})),{},{id:r[(0,n.get)(e,"layer.id")]})})}))},l("map.layers",(0,n.get)(e,"map.layers",[]).map((function(e){return b(b({},e),{},{id:r[e.id]})})),t)))},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return(0,n.pick)(e,(0,n.keys)(e).filter((function(t){return void 0!==e[t]})))}))},o=re(t),i=[].concat(m((0,n.get)(e,"map.backgrounds",[])),m((0,n.get)(o,"map.backgrounds",[]))),a=r((0,n.get)(e,"map.layers",[])),u=r((0,n.get)(o,"map.layers",[])),c=(0,n.find)(a,(function(e){return"annotations"===e.id})),l=(0,n.find)(u,(function(e){return"annotations"===e.id})),s=[].concat(m(u.filter((function(e){return"annotations"!==e.id}))),m(a.filter((function(e){return"annotations"!==e.id}))),m(c||l?[b(b(b({},c||{}),l||{}),{},{features:[].concat(m((0,n.get)(c,"features",[])),m((0,n.get)(l,"features",[])))})]:[])),f=s.filter((function(e){return"background"===e.group})),p=(0,n.findIndex)(f,(function(e){return e.visibility})),d=(0,n.get)(e,"map.sources",{}),g=(0,n.get)(o,"map.sources",{}),y=b(b({},d),g),v=(0,n.get)(e,"widgetsConfig",{}),h=(0,n.get)(o,"widgetsConfig",{});return b(b(b({},o),e),{},{catalogServices:b(b({},(0,n.get)(e,"catalogServices",{})),{},{services:b(b({},(0,n.get)(e,"catalogServices.services",{})),(0,n.get)(o,"catalogServices.services",{}))}),map:b(b(b({},o.map),e.map),{},{backgrounds:i,groups:(0,n.uniqWith)([].concat(m((0,n.get)(e,"map.groups",[])),m((0,n.get)(o,"map.groups",[]))),(function(e,t){return e.id===t.id})),layers:[].concat(m(f.slice(0,p+1)),m(f.slice(p+1).map((function(e){return b(b({},e),{},{visibility:!1})}))),m(s.filter((function(e){return"background"!==e.group})))),sources:(0,n.isEmpty)(y)?void 0:y}),widgetsConfig:{collapsed:b(b({},v.collapsed),h.collapsed),layouts:(0,n.uniq)([].concat(m((0,n.keys)(v.layouts)),m((0,n.keys)(h.layouts)))).reduce((function(e,t){return b(b({},e),{},O({},t,[].concat(m((0,n.get)(v,"layouts.".concat(t),[])),m((0,n.get)(h,"layouts.".concat(t),[])))))}),{}),widgets:[].concat(m((0,n.get)(v,"widgets",[])),m((0,n.get)(h,"widgets",[])))},timelineData:b(b({},(0,n.get)(e,"timelineData",{})),(0,n.get)(o,"timelineData",{})),dimensionData:b(b({},(0,n.get)(e,"dimensionData",{})),(0,n.get)(o,"dimensionData",{}))})},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"RootGroup",r=(0,n.get)(e,"map.groups",[]),o=r.filter((function(e){return"Default"!==e.id})),a=(0,n.find)(r,(function(e){return"Default"===e.id})),u=a&&{id:i()(),title:t,expanded:a.expanded},c=a?[].concat(m(o.map((function(e){var t=e.id,r=g(e,["id"]);return b({id:"".concat(u.id,".").concat(t)},r)}))),[u]):o;return b(b({},e),{},{map:b(b({},e.map),{},{groups:c,layers:(0,n.get)(e,"map.layers",[]).map((function(e){var t,r=e.group;return b(b({},g(e,["group"])),{},{group:!a||"background"===r||"Default"!==r&&r?a&&(null===(t=(0,n.find)(c,(function(e){var t=e.id;return t.slice(t.indexOf(".")+1)===r})))||void 0===t?void 0:t.id)||r:u.id})}))})})};function ie(e){switch(e){case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":case"Text":return!1;case"Point":case"Circle":case"LineString":case"Polygon":default:return!0}}function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Point";switch(e){case"Point":case"LineString":case"Polygon":case"Circle":return e;case"MultiPoint":case"Marker":return"Point";case"MultiLineString":return"LineString";case"MultiPolygon":return"Polygon";case"GeometryCollection":return"GeometryCollection";case"Text":return"Point";default:return e}}var ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/data\/(\d+)/,r=decodeURIComponent(e),n=t.exec(r);return n&&n.length&&n.length>1?n[1]:null},ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,n.isString)(e)&&-1!==e.indexOf("%")?parseFloat((0,n.trim)(e))*t/100:(0,n.isNumber)(e)?e:0},le=function e(t){var r=["apiKey","time","args","fixed"],n=function(e){return r.reduce((function(t,r){return t||e===r}),!1)};Object.keys(t).forEach((function(r){var o=t[r],i=d(o);"object"!==i||null===o||n(r)?"undefined"!==i&&o&&!n(r)||delete t[r]:(e(o),Object.keys(o).length||delete t[r])}))},se=function(e,t,r){e[t]&&(Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(e,t)),delete e[t])},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=["map.layers","map.backgrounds","map.text_search_config","map.bookmark_search_config","map.text_serch_config","map.zoom","widgetsConfig"],o=(0,n.pick)((0,n.cloneDeep)(e),r),i=(0,n.pick)((0,n.cloneDeep)(t),r);return se(o.map,"text_serch_config","text_search_config"),se(i.map,"text_serch_config","text_search_config"),le(o),le(i),(0,n.isEqual)(o,i)},pe=function(){var e={};return{registerHook:function(t,r){e[t]=r},getHook:function(t){return e[t]},executeHook:function(t,r,n){var o=e[t];return o?r(o):n?n():null}}};const de={createRegisterHooks:pe,EXTENT_TO_ZOOM_HOOK:P,RESOLUTIONS_HOOK:w,RESOLUTION_HOOK:A,COMPUTE_BBOX_HOOK:x,GET_PIXEL_FROM_COORDINATES_HOOK:L,GET_COORDINATES_FROM_PIXEL_HOOK:R,DEFAULT_SCREEN_DPI:h,ZOOM_TO_EXTENT_HOOK:S,registerHook:M,getHook:I,dpi2dpm:D,getSphericalMercatorScales:U,getSphericalMercatorScale:F,getGoogleMercatorScales:k,getGoogleMercatorResolutions:q,getGoogleMercatorScale:G,getResolutionsForScales:B,getZoomForExtent:H,defaultGetZoomForExtent:Y,getCenterForExtent:Q,getResolutions:W,getScales:K,getBbox:Z,mapUpdated:J,getCurrentResolution:z,transformExtent:$,saveMapConfiguration:te,generateNewUUIDs:re,mergeMapConfigs:ne,addRootParentGroup:oe,isSimpleGeomType:ie,getSimpleGeomType:ae,getIdFromUri:ue,parseLayoutValue:ce,prepareMapObjectToCompare:le,updateObjectFieldKey:se,compareMapChanges:fe,clearHooks:j}},59766:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{bh:()=>getMonitoredState});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24852),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),object_assign__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(51312),object_assign__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(object_assign__WEBPACK_IMPORTED_MODULE_1__),lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(86494),lodash__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__),react_redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(71703),react_redux__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_3__),url__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(72500),url__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(url__WEBPACK_IMPORTED_MODULE_4__),lodash_curry__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(85359),lodash_curry__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(lodash_curry__WEBPACK_IMPORTED_MODULE_5__),redux_observable__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1376),redux_observable__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(redux_observable__WEBPACK_IMPORTED_MODULE_6__),redux__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(70913),_EpicsUtils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(24357);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var r,n,o=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function loadScript(e){return new Promise((function(t,r){var n,o=document.createElement("script"),i=!1;o.type="text/javascript",o.src=e,o.async=!0,o.onerror=function(e){r(e,o)},o.onload=o.onreadystatechange=function(){i||this.readyState&&"complete"!==this.readyState||(i=!0,t())};var a=null===(n=document.getElementsByTagName("script"))||void 0===n?void 0:n[0];a?a.parentElement.insertBefore(o,a):document.head.appendChild(o)}))}var dynamicFederation=function(e,t){return new Promise((function(e){return e(__webpack_require__.I&&__webpack_require__.I("default"))})).then((function(){return window[e].init(__webpack_require__.S.default)})).then((function(){return window[e].get(t).then((function(e){return e()}))}))},defaultMonitoredState=[{name:"mapType",path:"maptype.mapType"},{name:"user",path:"security.user"}],getFromPlugins=lodash_curry__WEBPACK_IMPORTED_MODULE_5___default()((function(e,t){return Object.keys(t).map((function(r){return t[r][e]})).reduce((function(e,t){return _objectSpread(_objectSpread({},e),t)}),{})})),getReducers=getFromPlugins("reducers"),getEpics=getFromPlugins("epics"),combineReducers=function(e,t){var r=getReducers(e);return(0,redux__WEBPACK_IMPORTED_MODULE_7__.UY)(_objectSpread(_objectSpread({},t),r))},combineEpics=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=_objectSpread(_objectSpread({},getEpics(e)),t);return redux_observable__WEBPACK_IMPORTED_MODULE_6__.combineEpics.apply(void 0,_toConsumableArray((0,_EpicsUtils__WEBPACK_IMPORTED_MODULE_8__.f)(n,r)))},filterState=(0,lodash__WEBPACK_IMPORTED_MODULE_2__.memoize)((function(e,t){return t.reduce((function(t,r){return object_assign__WEBPACK_IMPORTED_MODULE_1___default()(t,_defineProperty({},r.name,(0,lodash__WEBPACK_IMPORTED_MODULE_2__.get)(e,r.path)))}),{})}),(function(e,t){return t.reduce((function(t,r){return t+JSON.stringify((0,lodash__WEBPACK_IMPORTED_MODULE_2__.get)(e,r.path))}),"")})),getPluginSimpleName=function(e){return(0,lodash__WEBPACK_IMPORTED_MODULE_2__.endsWith)(e,"Plugin")&&e.substring(0,e.length-6)||e},normalizeName=function(e){return(0,lodash__WEBPACK_IMPORTED_MODULE_2__.endsWith)(e,"Plugin")&&e||e+"Plugin"},getPluginConfiguration=function(e,t){var r=getPluginSimpleName(t);return(0,lodash__WEBPACK_IMPORTED_MODULE_2__.head)(e.filter((function(e){return e.name===r||e===r})).map((function(e){return(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isString)(e)?{name:e}:e})))||{}},parseExpression=function parseExpression(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},context=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},value=arguments.length>2?arguments[2]:void 0,searchExpression=/^\{(.*)\}$/,expression=searchExpression.exec(value),dispatch=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){return state("store").dispatch(e.apply(null,[e].concat(r)))}},request=url__WEBPACK_IMPORTED_MODULE_4___default().parse(location.href,!0);return null!==expression?eval(expression[1]):value},handleExpression=function(e,t,r){return(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isString)(r)&&0===r.indexOf("{")?parseExpression(e,t,r):r},filterDisabledPlugins=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(0,lodash__WEBPACK_IMPORTED_MODULE_2__.get)(e,"cfg.disablePluginIf")||(0,lodash__WEBPACK_IMPORTED_MODULE_2__.get)(e,"plugin.disablePluginIf");return!(n&&!(0,lodash__WEBPACK_IMPORTED_MODULE_2__.get)(e,"cfg.skipAutoDisable")&&handleExpression(t,r.requires,n))},isContainedInList=function(e,t,r,n){return e&&t&&-1!==handleExpression(r,n,t).indexOf(e)},showIn=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return(isContainedInList(o,r.showIn,e,t)||isContainedInList(n,r.showIn,e,t)||!r.showIn&&i)&&!(isContainedInList(o,r.hideFrom,e,t)||isContainedInList(n,r.hideFrom,e,t))},isMapStorePlugin=function(e){var t;return e.loadPlugin||e.displayName||(null===(t=e.prototype)||void 0===t?void 0:t.isReactComponent)||e.isMapStorePlugin},getPluginImplementation=function(e,t){return isMapStorePlugin(e)?e:e(t)},includeLoaded=function(e,t,r,n){if(t[e]){var o=t[e],i=getPluginImplementation(o.component||o,n);return object_assign__WEBPACK_IMPORTED_MODULE_1___default()(i,r,{loadPlugin:void 0},_objectSpread({},o.containers))}return r},getPriority=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return(0,lodash__WEBPACK_IMPORTED_MODULE_2__.get)(t,r+".priority")||(0,lodash__WEBPACK_IMPORTED_MODULE_2__.get)(e,r+".priority")||0},getMorePrioritizedContainer=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return r.reduce((function(r,n){var o=n.name||n,i=getPriority(e,t,o);return i>r.priority?{plugin:{name:o,impl:object_assign__WEBPACK_IMPORTED_MODULE_1___default()({},e[o],t[o])},priority:i}:r}),{plugin:null,priority:n})},parsePluginConfig=function e(t,r,n){return(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isArray)(n)?n.map((function(n){return e(t,r,n)})):(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isObject)(n)?Object.keys(n).reduce((function(o,i){var a=n[i];return object_assign__WEBPACK_IMPORTED_MODULE_1___default()(o,_defineProperty({},i,e(t,r,a)))}),{}):parseExpression(t,r,n)},canContain=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t[e]||r[e]||!1},isMorePrioritizedContainer=function(e,t,r,n){return null===getMorePrioritizedContainer(e,t,r,n).plugin},isValidConfiguration=function(e){return e&&(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isString)(e)||(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isObject)(e)&&e.name},executeDeferredProp=function(e,t,r){return e&&(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(e[r])?_objectSpread(_objectSpread({},e),{},_defineProperty({},r,e[r](t))):e},getPluginItems=function e(t,r,n,o,i,a,u,c){return Object.keys(r).map((function(e){var t=getPluginConfiguration(n,e);return{name:e,impl:executeDeferredProp(includeLoaded(getPluginSimpleName(e),u,r[e]),t,o),config:t}})).filter((function(e){return isValidConfiguration(e.config)})).filter((function(e){return canContain(o,e.impl,e.config.override)})).filter((function(e){return showIn(t,r.requires,e.config,o,i,a)})).filter((function(e){return isMorePrioritizedContainer(e.impl,e.config.override,n,getPriority(e.impl,e.config.override,o))})).map((function(i){var a=getPluginSimpleName(i.name),c=includeLoaded(a,u,i.impl),l=object_assign__WEBPACK_IMPORTED_MODULE_1___default()({},(0,lodash__WEBPACK_IMPORTED_MODULE_2__.get)(c,o+".impl")||(0,lodash__WEBPACK_IMPORTED_MODULE_2__.get)(c,o),(0,lodash__WEBPACK_IMPORTED_MODULE_2__.get)(i.config,"override."+o));return object_assign__WEBPACK_IMPORTED_MODULE_1___default()({name:a},l,{cfg:object_assign__WEBPACK_IMPORTED_MODULE_1___default()({},c.cfg||{},parsePluginConfig(t,r.requires,i.config.cfg||{})||void 0)},{plugin:c,items:e(t,r,n,a,null,!0,u)})})).filter((function(e){return filterDisabledPlugins(e,t,r)})).filter((function(e){return!c||c(e)}))},pluginsMergeProps=function(e,t,r){var n=r.pluginCfg,o=_objectWithoutProperties(r,["pluginCfg"]);return object_assign__WEBPACK_IMPORTED_MODULE_1___default()({},o,e,t,n||{})},importPlugin=function(e){return dynamicFederation(e,"./plugin")},getMonitoredState=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return filterState(e,defaultMonitoredState.concat(t))},mapPluginsPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){var r=t.cfg&&t.cfg.containerPosition||"bodyPlugins";return _objectSpread(_objectSpread({},e),{},_defineProperty({},r,e[r]?[].concat(_toConsumableArray(e[r]),[t]):[t]))}),{})},getPlugins=function(e){return Object.keys(e).map((function(t){return e[t]})).reduce((function(e,t){return object_assign__WEBPACK_IMPORTED_MODULE_1___default()({},e,(0,lodash__WEBPACK_IMPORTED_MODULE_2__.omit)(t,"reducers","epics"))}),{})},getPluginDescriptor=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isObject)(n)?n.name:n,a=(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isObject)(n)?n.id:null,u=(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isObject)(n)?n.stateSelector:a||void 0,c=!(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isObject)(n)||void 0===n.isDefault||n.isDefault,l=((0,lodash__WEBPACK_IMPORTED_MODULE_2__.isObject)(n)?n.name:n)+"Plugin",s=t[l];return s?{id:a||i,name:i,impl:includeLoaded(i,o,getPluginImplementation(s,u),u),cfg:object_assign__WEBPACK_IMPORTED_MODULE_1___default()({},s.cfg||{},(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isObject)(n)?parsePluginConfig(e,t.requires,n.cfg):{}),items:getPluginItems(e,t,r,i,a,c,o)}:null},getConfiguredPlugin=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(e){var n=t[e.name]||!e.plugin.loadPlugin&&e.plugin,o=(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isObject)(e)?e.id:null,i=(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isObject)(e)?e.stateSelector:o||void 0,a=getPluginImplementation(n,i),u=function(t){return a?react__WEBPACK_IMPORTED_MODULE_0___default().createElement(a,_extends({key:e.id},t,e.cfg,{pluginCfg:e.cfg,items:e.items||[]})):r};return u.loaded=!!n,u}return e},setRefToWrappedComponent=function(e){return function(t){t&&(window["".concat(e,"Plugin")]=t)}},connect=function(e,t,r,n){return(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.connect)(e,t,r||pluginsMergeProps,n)},createPlugin=function(e,t){var r,n=t.component,o=t.options,i=void 0===o?{}:o,a=t.containers,u=void 0===a?{}:a,c=t.reducers,l=void 0===c?{}:c,s=t.epics,f=void 0===s?{}:s,p=t.lazy,d=void 0!==p&&p,g=t.enabler,m=void 0===g?function(){return!0}:g,y=t.loader,v=normalizeName(e),b=d?{loadPlugin:function(e){y().then((function(t){var r=t.default||t;e(object_assign__WEBPACK_IMPORTED_MODULE_1___default()(r,{isMapStorePlugin:!0}))}))},enabler:m}:object_assign__WEBPACK_IMPORTED_MODULE_1___default()(n,{isMapStorePlugin:!0});return _defineProperty(r={},v,object_assign__WEBPACK_IMPORTED_MODULE_1___default()(b,u,i)),_defineProperty(r,"reducers",l),_defineProperty(r,"epics",f),r},loadPlugin=function(e,t){return loadScript(e).then((function(){return importPlugin(t)})).then((function(e){return{name:t,plugin:e}}))},__WEBPACK_DEFAULT_EXPORT__={combineReducers,combineEpics,filterState,filterDisabledPlugins,getMonitoredState,mapPluginsPosition,getPlugins,getPluginDescriptor,getPluginItems,getConfiguredPlugin,setRefToWrappedComponent,connect,createPlugin,importPlugin,loadPlugin,handleExpression,getMorePrioritizedContainer,getPluginConfiguration,isMapStorePlugin}},36493:(e,t,r)=>{"use strict";r.r(t),r.d(t,{addAuthenticationParameter:()=>D,addAuthenticationToSLD:()=>G,addAuthenticationToUrl:()=>N,cleanAuthParamsFromURL:()=>U,clearNilValuesForParams:()=>F,default:()=>k,findUserAttribute:()=>L,findUserAttributeValue:()=>R,getAuthKeyParameter:()=>j,getAuthenticationMethod:()=>I,getAuthenticationRule:()=>C,getAuthenticationRules:()=>T,getBasicAuthHeader:()=>S,getRefreshToken:()=>A,getSecurityInfo:()=>_,getToken:()=>w,getUser:()=>P,getUserAttributes:()=>x,isAuthenticationActivated:()=>M,setStore:()=>E});var n=r(59154),o=r(72500),i=r.n(o),a=r(51312),u=r.n(a),c=r(81938),l=r.n(c),s=r(54702),f=r.n(s),p=r(21389),d=r.n(p),g=(r(70913),r(46569),r(54863),r(1376),r(8364)),m=r.n(g);r(49977);var y="persisted.reduxStore",v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"persisted.reduxStore";return n.ZP.getConfigProp(e)||{}};function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y;n.ZP.setConfigProp(t,e)}(e)}function _(){return function(e){var t;return!m()(v(e))&&(null===(t=v(e))||void 0===t?void 0:t.getState())||{}}().security||{}}function P(){var e;return null===(e=_())||void 0===e?void 0:e.user}function S(){var e;return null===(e=_())||void 0===e?void 0:e.authHeader}function w(){var e;return null===(e=_())||void 0===e?void 0:e.token}function A(){var e;return null===(e=_())||void 0===e?void 0:e.refresh_token}function x(e){var t=e||P();if(!t||!t.attribute)return[];var r=t.attribute;return d()(r)?r:[r]}function L(e){var t=x();return t&&e?l()(t.filter((function(t){return t.name&&t.name.toLowerCase()===e.toLowerCase()}))):null}function R(e){var t=L(e);return null==t?void 0:t.value}function T(){return n.ZP.getConfigProp("authenticationRules")||[]}function M(){return n.ZP.getConfigProp("useAuthenticationRules")||!1}function I(e){var t=l()(T().filter((function(t){return t&&t.urlPattern&&e.match(new RegExp(t.urlPattern,"i"))})));return null==t?void 0:t.method}function C(e){return l()(T().filter((function(t){return t&&t.urlPattern&&e.match(new RegExp(t.urlPattern,"i"))})))}function j(e){var t,r=C(e);return null!==(t=null==r?void 0:r.authkeyParamName)&&void 0!==t?t:"authkey"}function D(e,t,r){if(!e||!M())return t;switch(I(e)){case"authkey":var n=f()(r)?w():r;if(!n)return t;var o=j(e);return u()(t||{},h({},o,n));case"test":var i=C(e),a=i?i.token:"",c=j(e);return u()(t||{},h({},c,a));default:return t}}function N(e){if(!e||!M())return e;var t=i().parse(e,!0);return t.query=D(e,t.query),delete t.search,i().format(t)}function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,r){return f()(e[r])?t:O(O({},t),{},h({},r,e[r]))}),{})}function G(e,t){if(e.SLD){var r=i().parse(e.SLD,!0),n=D(e.SLD,r.query,t.securityToken);return u()({},e,{SLD:i().format(u()({},r,{query:n,search:void 0}))})}return e}function U(e){return n.ZP.filterUrlParams(e,[j(e)].filter((function(e){return e})))}const k={setStore:E,getSecurityInfo:_,getUser:P,getBasicAuthHeader:S,getToken:w,getRefreshToken:A,getUserAttributes:x,findUserAttribute:L,findUserAttributeValue:R,getAuthenticationRules:T,isAuthenticationActivated:M,getAuthenticationMethod:I,getAuthenticationRule:C,addAuthenticationToUrl:N,addAuthenticationParameter:D,clearNilValuesForParams:F,addAuthenticationToSLD:G,getAuthKeyParameter:j,cleanAuthParamsFromURL:U}},15442:(e,t,r)=>{"use strict";r.r(t),r.d(t,{optionsToVendorParams:()=>N});var n=r(89223),o=r(67451),i=r(57784),a=r(70831),u=r(96191),c=r.n(u),l=r(97240),s=r.n(l),f=r(89735),p=r(86494);function d(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b,O=function(e){return e&&e.replace?e.replace(/\'/g,"''"):e},h=function(e,t){return!(0,p.isNil)(e)&&"isNull"!==t||!(0,p.isUndefined)(e)&&"isNull"===t},E=function(e){return'"'+e+'"'},_=function(e){return e?"1.0"===e?"1.0.0":"1.1"===e?"1.1.0":e:"2.0"},P={ogc:{startTag:"<ogc:PropertyName>",endTag:"</ogc:PropertyName>"},fes:{startTag:"<fes:ValueReference>",endTag:"</fes:ValueReference>"}},S=function(e,t,r,n){var o;if("><"===t){if(r.startDate&&r.endDate){var a=r.startDate.toISOString?r.startDate.toISOString():r.startDate,u=r.endDate.toISOString?r.endDate.toISOString():r.endDate;o=i.ogcComparisonOperators[t](n,P[n].startTag+e+P[n].endTag+"<"+n+":LowerBoundary><"+n+":Literal>"+a+"</"+n+":Literal></"+n+":LowerBoundary><"+n+":UpperBoundary><"+n+":Literal>"+u+"</"+n+":Literal></"+n+":UpperBoundary>")}}else if(r.startDate){var c=r.startDate.toISOString?r.startDate.toISOString():r.startDate;o=i.ogcComparisonOperators[t](n,P[n].startTag+e+P[n].endTag+"<"+n+":Literal>"+c+"</"+n+":Literal>")}return o},w=function(e,t,r,n){var o;return h(r,t)&&(o="isNull"===t?i.ogcComparisonOperators[t](n,P[n].startTag+e+P[n].endTag):"="===t?i.ogcComparisonOperators[t](n,P[n].startTag+e+P[n].endTag+"<"+n+":Literal>"+r+"</"+n+":Literal>"):i.ogcComparisonOperators[t](n,P[n].startTag+e+P[n].endTag+"<"+n+":Literal>*"+r+"*</"+n+":Literal>")),o},A=function(e,t,r,n){var o="";return h(r,t)&&"="===t&&""!==r&&(o=i.ogcComparisonOperators[t](n,P[n].startTag+e+P[n].endTag+"<"+n+":Literal>"+r+"</"+n+":Literal>")),o},x=function(e,t,r,n){var o;if("><"===t)(0,p.isNil)(r)||null===r.lowBound||void 0===r.lowBound||null!==r.upBound&&void 0!==r.upBound?(0,p.isNil)(r)||null===r.upBound||void 0===r.upBound||null!==r.lowBound&&void 0!==r.lowBound?(0,p.isNil)(r)||null===r.upBound||void 0===r.upBound||null===r.lowBound||void 0===r.lowBound||(o=i.ogcComparisonOperators[t](n,P[n].startTag+e+P[n].endTag+"<"+n+":LowerBoundary><"+n+":Literal>"+r.lowBound+"</"+n+":Literal></"+n+":LowerBoundary><"+n+":UpperBoundary><"+n+":Literal>"+r.upBound+"</"+n+":Literal></"+n+":UpperBoundary>")):o=i.ogcComparisonOperators["<="](n,P[n].startTag+e+P[n].endTag+"<"+n+":Literal>"+r.upBound+"</"+n+":Literal>"):o=i.ogcComparisonOperators[">="](n,P[n].startTag+e+P[n].endTag+"<"+n+":Literal>"+r.lowBound+"</"+n+":Literal>");else{var a=(0,p.isNil)(r)||null===r.lowBound||void 0===r.lowBound?r:r.lowBound;(0,p.isNil)(a)||(o=i.ogcComparisonOperators[t](n,P[n].startTag+e+P[n].endTag+"<"+n+":Literal>"+a+"</"+n+":Literal>"))}return o},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.typeName,r=e.geometryName,n=e.cqlFilter,o=void 0===n?"INCLUDE":n;return"queryCollection('".concat(t,"', '").concat(r,"','").concat(O(o),"')")},R=function(e){return"collectGeometries(".concat(e,")")},T=function(e,t,r){var n,u,l,f,d,g,m,v=[];if(e.filterFields&&e.filterFields.length>0)""!==(n=e.groupFields&&e.groupFields.length>0?b.processOGCFilterGroup(e.groupFields[0],e,r):b.processOGCFilterFields(null,e,r))&&v.push(n);else if(e.simpleFilterFields&&e.simpleFilterFields.length>0){var O=i.ogcLogicalOperators.AND(r,e.simpleFilterFields.map((function(e){return function(e,t){var r="";switch(e.type){case"date":r=S(e.attribute,e.operator,e.values,t);break;case"number":r=x(e.attribute,e.operator,e.values,t);break;case"string":r=w(e.attribute,e.operator,e.values,t);break;case"boolean":r=A(e.attribute,e.operator,e.values,t);break;case"list":e.values&&e.values.length>0&&(r=e.values.reduce((function(r,n){var o=null===n||"null"===n?"isNull":"=";return r+w(e.attribute,o,n,t)}),""),r=i.ogcLogicalOperators.OR(t,r))}return r}(e,r)})).join(""));v.push(O)}if((0,p.isArray)(e.spatialField)?(f=(0,p.find)(e.spatialField,(function(e){return"BBOX"===e.operation})))||(l=e.spatialField):e.spatialField&&("BBOX"===e.spatialField.operation?f=e.spatialField:l=[e.spatialField]),f){if((0,p.isArray)(f.geometry&&f.geometry.extent[0])){var h=f.geometry.extent.reduce((function(e,n){var o=Object.assign({},f);return f.geometry.extent=n,e+b.processOGCSpatialFilter(t,o,r)}),"");u=i.ogcLogicalOperators.OR(r,h)}v.push(u)}else if(l&&(l=l.filter((function(e){return e&&e.geometry&&e.operation}))).length>0){var E=l.map((function(e){return b.processOGCSpatialFilter(t,e,r)})).join("");u=l.length>1?i.ogcLogicalOperators[e.spatialFieldOperator||"AND"](r,E):E,v.push(u)}if(e.crossLayerFilter&&e.crossLayerFilter.operation){var _=y(y({},e.crossLayerFilter),{},{attribute:e.crossLayerFilter.attribute});Array.isArray()?_.forEach((function(e){return v.push(b.processOGCCrossLayerFilter(e,r))})):v.push(b.processOGCCrossLayerFilter(_,r))}return e.options&&e.options.cqlFilter&&v.push((d=e.options.cqlFilter,g={filterNS:r,wfsVersion:t,gmlVersion:(0,o.wfsToGmlVersion)(t)},m=s()(g),c()(m)((0,a.read)(d)))),v},M=function(e){var t;try{t=e instanceof Object?e:JSON.parse(e)}catch(e){return e}var r,n,o=[];if(t.filterFields&&t.filterFields.length>0)(r=b.processCQLFilterGroup(t.groupFields[0],t))&&o.push(r);else if(t.simpleFilterFields&&t.simpleFilterFields.length>0){var i=t.simpleFilterFields.reduce((function(e,t){var r=e,n=b.processCQLSimpleFilterField(t);return!1!==n&&(r=e.length>0?e+" AND ("+n+")":"("+n+")"),r}),"");i=i.length>0?i:"INCLUDE",o.push(i)}if(t.spatialField&&(n=b.processCQLSpatialFilter(t))&&o.push(n),t.crossLayerFilter){var a=t.crossLayerFilter,u=a.operation,c=a.attribute,l=a.collectGeometries&&a.collectGeometries.queryCollection;if(u&&c&&l){var s=l.typeName,f=l.geometryName,p=b.getCrossLayerCqlFilter(a),d=R(L({typeName:s,geometryName:f,cqlFilter:p}));o.push("".concat(u,"(").concat(c,",").concat(d,")"))}}return o.length?"("+(o.length>1?o.join(") AND ("):o[0])+")":null},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.filterFields&&e.filterFields.length>0||e.simpleFilterFields&&e.simpleFilterFields.length>0||e.spatialField&&e.spatialField.geometry&&e.spatialField.operation||(0,p.isArray)(e.spatialField)&&(0,p.findIndex)(e.spatialField,(function(e){return e.operation&&e.geometry}))>-1||e.crossLayerFilter&&e.crossLayerFilter.collectGeometries&&e.crossLayerFilter.collectGeometries.queryCollection&&e.crossLayerFilter.collectGeometries.queryCollection.geometryName&&e.crossLayerFilter.collectGeometries.queryCollection.typeName};function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){D(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}b={processOGCFilterGroup:function(e,t,r){var n=b.processOGCFilterFields(e,t,r),o=b.findSubGroups(e,t.groupFields);return o.length>0&&o.forEach((function(e){n+=b.processOGCFilterGroup(e,t,r)})),""!==n?i.ogcLogicalOperators[e.logic](r,n):""},processOGCFilterFields:function(e,t,r){var n=e?t.filterFields.filter((function(t){return t.groupId===e.id&&h(t.value,t.operator)})):t.filterFields.filter((function(e){return h(e.value,e.operator)}));return n.length?n.reduce((function(e,t){var n;switch(t.type){case"date":case"date-time":case"time":n=S(t.attribute,t.operator,t.value,r);break;case"number":n=x(t.attribute,t.operator,t.value,r);break;case"string":n=w(t.attribute,t.operator,t.value,r);break;case"boolean":n=A(t.attribute,t.operator,t.value,r);break;case"list":n=function(e,t,r,n){var o;return(0,p.isNil)(r)||(o=i.ogcComparisonOperators[t](n,P[n].startTag+e+P[n].endTag+"<"+n+":Literal>"+r+"</"+n+":Literal>")),o}(t.attribute,t.operator,t.value,r)}return"isNull"===t.operator&&(n=w(t.attribute,t.operator,t.operator,r)),n&&e.push(n),e}),[]).join(""):""},processOGCCrossLayerFilter:function(e,t){var r=t||"ogc",n=P[r].startTag+e.attribute+P[r].endTag;if(e.collectGeometries){var o=b.getCrossLayerCqlFilter(e);n+='<ogc:Function name="collectGeometries"><ogc:Function name="queryCollection">'+"<ogc:Literal>".concat(e.collectGeometries.queryCollection.typeName,"</ogc:Literal>")+"<ogc:Literal>".concat(e.collectGeometries.queryCollection.geometryName,"</ogc:Literal>")+"<ogc:Literal><![CDATA[".concat(o,"]]></ogc:Literal>")+"</ogc:Function></ogc:Function>"}return"DWITHIN"===e.operation&&(n+="<"+r+':Distance units="m">'+(e.distance||0)+"</"+r+":Distance>"),i.ogcSpatialOperators[e.operation](r,n)},getGetFeatureBase:function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=_(e),a="<wfs:GetFeature ";switch(a+=n?'outputFormat="'+n+'" ':"",a+=t&&(t.startIndex||0===t.startIndex)?'startIndex="'+t.startIndex+'" ':"",a+=o.viewParams?' viewParams="'.concat(o.viewParams,'" '):"",i){case"1.0.0":a+=t&&t.maxFeatures?'maxFeatures="'+t.maxFeatures+'" ':"",a=r?a+' resultType="hits"':a,a+='service="WFS" version="'+i+'" outputFormat="GML2" xmlns:gml="http://www.opengis.net/gml" xmlns:wfs="http://www.opengis.net/wfs" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" '+(o.noSchemaLocation?"":'xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/WFS-basic.xsd"')+">";break;case"1.1.0":a+=t&&t.maxFeatures?'maxFeatures="'+t.maxFeatures+'" ':"",a=r?a+' resultType="hits"':a,a+='service="WFS" version="'+i+'" xmlns:gml="http://www.opengis.net/gml" xmlns:wfs="http://www.opengis.net/wfs" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" '+(o.noSchemaLocation?"":'xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd"')+">";break;default:a+=t&&t.maxFeatures?'count="'+t.maxFeatures+'" ':"",a=r&&!t?a+' resultType="hits"':a,a+='service="WFS" version="'+i+'" xmlns:wfs="http://www.opengis.net/wfs/2.0" xmlns:fes="http://www.opengis.net/fes/2.0" xmlns:gml="http://www.opengis.net/gml/3.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" '+(o.noSchemaLocation?"":'xsi:schemaLocation="http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd http://www.opengis.net/gml/3.2 http://schemas.opengis.net/gml/3.2.1/gml.xsd"')+">"}return a},toOGCFilterParts:T,findSubGroups:function(e,t){return t.filter((function(t){return t.groupId===e.id}))},toCQLFilter:M,getCrossLayerCqlFilter:function(e){return(0,p.get)(e,"collectGeometries.queryCollection.cqlFilter")||((0,p.get)(e,"collectGeometries.queryCollection.filterFields")||[]).length>0&&((0,p.get)(e,"collectGeometries.queryCollection.groupFields")||[]).length>0&&b.toCQLFilter(e.collectGeometries.queryCollection)||"INCLUDE"},processCQLFilterGroup:function(e,t){var r="NOR"===e.logic?y(y({},e),{},{logic:"AND",negateAll:!0}):e,n=b.processCQLFilterFields(r,t),o=b.findSubGroups(r,t.groupFields);if(o.length>0){var i=o.map((function(e){return(r.negateAll?"NOT (":"(")+b.processCQLFilterGroup(e,t)+")"})).join(" "+r.logic+" ");return n?[n,i].join(" "+r.logic+" "):i}return n},processCQLSimpleFilterField:function(e){var t=!1;switch(e.type){case"date":t=b.cqlDateField(e.attribute,e.operator,e.values);break;case"number":t=b.cqlNumberField(e.attribute,e.operator,e.values);break;case"string":t=b.cqlStringField(e.attribute,e.operator,e.values);break;case"boolean":t=b.cqlBooleanField(e.attribute,e.operator,e.values);break;case"list":if(e.values.length!==e.optionsValues.length){var r=!1,n=e.values.reduce((function(e,t){return null===t||"null"===t?r=!0:e.push("'"+t+"'"),e}),[]);t=n.length>0?e.attribute+" IN("+n.join(",")+")":t,r&&(t=t?t+" OR isNull("+e.attribute+")=true":"isNull("+e.attribute+")=true")}}return!!(t&&t.length>0)&&t},processCQLSpatialFilter:function(e){var t=((0,p.isArray)(e.spatialField)?e.spatialField:[e.spatialField]).filter((function(e){return e&&e.geometry&&e.operation})),r="";return t.forEach((function(n,o){if(r+=n.operation+'("'+n.attribute+'",',n.collectGeometries&&n.collectGeometries.queryCollection)r+=R(L(n.collectGeometries.queryCollection));else{var i=n.geometry.projection||"";i=2===i.split(":").length?"SRID="+i.split(":")[1]+";":"",r+=i+b.getCQLGeometryElement(n.geometry.coordinates,n.geometry.type)}r+=")",o<t.length-1&&(r+=" ".concat(e.spatialFieldOperator||"AND"," "))})),r},processCQLFilterFields:function(e,t){var r=t.filterFields.filter((function(t){return t.groupId===e.id})),n=[];return r&&(r.forEach((function(t){var r;switch(t.type){case"date":case"time":case"date-time":r=b.cqlDateField(t.attribute,t.operator,t.value);break;case"number":r=b.cqlNumberField(t.attribute,t.operator,t.value);break;case"string":r=b.cqlStringField(t.attribute,t.operator,t.value);break;case"boolean":r=b.cqlBooleanField(t.attribute,t.operator,t.value);break;case"list":r=b.cqlListField(t.attribute,t.operator,t.value)}r&&n.push(e.negateAll?"NOT ("+r+")":r)})),n=n.join(" "+e.logic+" ")),n},getCQLGeometryElement:function(e,t){var r=t+"(";switch(t){case"Point":r+=e.join(" ");break;case"MultiPoint":e.forEach((function(t,n){r+=t.join(" "),r+=n<e.length-1?", ":""}));break;case"Polygon":e.forEach((function(t,o){r+="(";var i=(0,n.closePolygon)(t).map((function(e){return e[0]+" "+e[1]}));r+=i.join(", "),r+=")",r+=o<e.length-1?", ":""}));break;case"MultiPolygon":e.forEach((function(t,o){r+="(",t.forEach((function(e,o){r+="(";var i=(0,n.closePolygon)(e).map((function(e){return e[0]+" "+e[1]}));r+=i.join(", "),r+=")",r+=o<t.length-1?", ":""})),r+=")",r+=o<e.length-1?", ":""}))}return r+=")"},cqlStringField:function(e,t,r){var n,o=E(e);return(0,p.isNil)(r)||(n="isNull"===t?"isNull("+o+")=true":"="===t?o+t+"'"+O(r)+"'":"ilike"===t?"strToLowerCase("+o+") LIKE '%"+O(r).toLowerCase()+"%'":o+" LIKE '%"+O(r)+"%'"),n},cqlDateField:function(e,t,r){var n;return"><"===t?r.startDate&&r.endDate&&(n="("+e+">='"+(r.startDate.toISOString?r.startDate.toISOString():r.startDate)+"' AND "+e+"<='"+(r.endDate.toISOString?r.endDate.toISOString():r.endDate)+"')"):r.startDate&&(n=e+t+"'"+(r.startDate.toISOString?r.startDate.toISOString():r.startDate)+"'"),n},cqlNumberField:function(e,t,r){var n,o=E(e);if("><"===t)(0,p.isNil)(r)||null===r.lowBound||void 0===r.lowBound||null!==r.upBound&&void 0!==r.upBound?(0,p.isNil)(r)||null===r.upBound||void 0===r.upBound||null!==r.lowBound&&void 0!==r.lowBound?(0,p.isNil)(r)||null===r.upBound||void 0===r.upBound||null===r.lowBound||void 0===r.lowBound||(n="("+o+">='"+r.lowBound+"' AND "+o+"<='"+r.upBound+"')"):n="("+o+"<='"+r.upBound+"')":n="("+o+">='"+r.lowBound+"')";else{var i=(0,p.isNil)(r)||null===r.lowBound||void 0===r.lowBound?r:r.lowBound;(0,p.isNil)(i)||(n=o+" "+t+" '"+i+"'")}return n},cqlBooleanField:function(e,t,r){var n="";return(0,p.isNil)(r)||""===r||"="===t&&(n='"'+e+'"'+t+"'"+r+"'"),n},cqlListField:function(e,t,r){return b.cqlStringField(e,t,r)},toOGCFilter:function(e,t,r){var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"EPSG:4326";try{n=t instanceof Object?t:JSON.parse(t)}catch(e){return e}var l=_(r||"2.0"),s="2.0"===l?"fes":"ogc",f=b.getGetFeatureBase(l,n.pagination,i,a,t&&t.options),p=b.toOGCFilterParts(n,l,s),d="";return p.length>0&&(d="<"+s+":Filter>",1===p.length?d+=p[0]:(d+="<"+s+":And>",p.forEach((function(e){d+=e})),d+="</"+s+":And>"),d+="</"+s+":Filter>"),f+="<wfs:Query ".concat("2.0"===l?"typeNames":"typeName",'="').concat(e,'" ').concat("native"!==c&&'srsName="'.concat(c,'"')||"",">"),f+=d,u&&(f+=u.map((function(e){return P[s].startTag+e+P[s].endTag})).join("")),o&&o.sortBy&&o.sortOrder&&(f+="<"+s+":SortBy><"+s+":SortProperty>"+P[s].startTag+o.sortBy+P[s].endTag+"<"+s+":SortOrder>"+o.sortOrder+"</"+s+":SortOrder></"+s+":SortProperty></"+s+":SortBy>"),f+"</wfs:Query></wfs:GetFeature>"},reprojectFilterInNativeCrs:function(e,t){var r,n=e.spatialField.geometry.projection,o=e.spatialField.geometry.center,i=e.spatialField.geometry.radius,a=(0,f.reprojectGeoJson)(e.spatialField.geometry,e.spatialField.geometry.projection||"EPSG:3857",t).coordinates,u=o&&[(r=(0,f.reproject)(o,n,t)).x,r.y],c=i&&(0,f.reproject)([i,0],n,t).x;return y(y({},e),{},{spatialField:y(y({},e.spatialField),{},{geometry:y(y({},e.spatialField.geometry),{},{center:u,radius:c,coordinates:a,projection:t})})})},processOGCSpatialFilter:function(e,t,r){if(t.collectGeometries)return b.processOGCCrossLayerFilter(t);var a=P[r].startTag+t.attribute+P[r].endTag;switch(t.operation){case"INTERSECTS":case"DWITHIN":case"WITHIN":case"CONTAINS":a+=(0,n.processOGCGeometry)((0,o.wfsToGmlVersion)(e),t.geometry),"DWITHIN"===t.operation&&(a+="<"+r+':Distance units="m">'+(t.geometry.distance||0)+"</"+r+":Distance>");break;case"BBOX":var u=t.geometry.extent[0]+" "+t.geometry.extent[1],c=t.geometry.extent[2]+" "+t.geometry.extent[3];a+='<gml:Envelope srsName="'+t.geometry.projection+'"><gml:lowerCorner>'+u+"</gml:lowerCorner><gml:upperCorner>"+c+"</gml:upperCorner></gml:Envelope>"}return i.ogcSpatialOperators[t.operation](r,a)},mergeFiltersToOGC:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.nsPlaceholder,r=void 0===t?"ogc":t,n=e.ogcVersion,i=void 0===n?"2.0":n,u=e.addXmlnsToRoot,l=void 0!==u&&u,f=e.xmlnsToAdd,g=void 0===f?[]:f,m=s()({filterNS:r,wfsVersion:i,gmlVersion:(0,o.wfsToGmlVersion)(i)}),y=c()(m),v=arguments.length,b=new Array(v>1?v-1:0),O=1;O<v;O++)b[O-1]=arguments[O];var h=m.filter(m.and.apply(m,d((0,p.flatten)(b.filter((function(e){return!!e&&((0,p.isString)(e)||I(e)&&!e.disabled)})).map((function(e){return(0,p.isString)(e)?[y((0,a.read)(e))]:T(e,i,r)}))))));if(l){var E=h.indexOf(">");return"".concat(h.slice(0,E)).concat(g.length>0?" ".concat(g.join(" ")):"").concat(h.slice(E))}return h}};var N=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t.layerFilter,o=t.filterObj,i=[I(n)&&!n.disabled&&M(n),I(o)&&M(o),t&&t.params&&t.params.CQL_FILTER,r];return(e=(i=i.filter((function(e){return!!e}))).length>1?i.map((function(e){return"(".concat(e,")")})).join(" AND "):i.pop())?j(j({},t.params),{},{CQL_FILTER:e}):t.params}},64973:(e,t,r)=>{"use strict";r.r(t),r.d(t,{needsReload:()=>s,toDescribeURL:()=>f,extractGeometryType:()=>p,extractGeometryAttributeName:()=>d});var n=r(15442),o=r(72500),i=r.n(o),a=r(86494);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(e,t){var r=c(c({},(0,n.optionsToVendorParams)(e)||{}),{},{_v_:e._v_}),o=c(c({},(0,n.optionsToVendorParams)(t)||{}),{},{_v_:t._v_});return["_v_","CQL_FILTER","VIEWPARAMS"].reduce((function(e,t){return r[t]!==o[t]||e}),!1)},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,r=e.search,n=void 0===r?{}:r,o=e.url,a=e.describeFeatureTypeURL,u=i().parse(a||n.url||o,!0);return i().format(c(c({},u),{},{search:void 0,query:c(c({},u.query),{},{service:"WFS",version:"1.1.0",typeName:t,outputFormat:"application/json",request:"DescribeFeatureType"})}))},p=function(e){var t=(0,a.get)(e,"featureTypes[0].properties")||[];return t&&(0,a.head)(t.filter((function(e){return 0===e.type.indexOf("gml:")})).map((function(e){return e.type.split(":")[1]})))},d=function(e){var t=(0,a.get)(e,"featureTypes[0].properties")||[];return t&&(0,a.head)(t.filter((function(e){return 0===e.type.indexOf("gml:")})).map((function(e){return e.name})))}},73418:(e,t,r)=>{"use strict";r.r(t),r.d(t,{getDefaultMatrixId:()=>l,getMatrixIds:()=>s,limitMatrix:()=>f,getTileMatrixSet:()=>p,getRequestEncoding:()=>d,getOperations:()=>g,getOperation:()=>m,getGetTileURL:()=>y,getCapabilitiesURL:()=>v,getDefaultStyleIdentifier:()=>b,getDefaultFormat:()=>O,sortTileMatrix:()=>h,getTileMatrix:()=>E});var n,o=r(89735),i=r(86494);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=function(e){for(var t=new Array(30),r=0;r<30;++r)t[r]=e.tileMatrixPrefix+r;return t},s=function(e,t){return(0,i.isObject)(e)&&(0,i.isArray)(e[t])&&e[t]||(0,i.isArray)(e)&&e||[]},f=function(e,t){return e.length>t?(0,i.slice)(e,0,t):e.length<t?e.concat(new Array(t-e.length)):e},p=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t;return e&&(0,i.isString)(e)?e:e?(0,o.getEquivalentSRS)(t,r).reduce((function(t,r){if((0,i.isArray)(e)){var a=(0,i.head)(e.filter((function(e){return(e["ows:Identifier"]===r||(0,o.getEPSGCode)(e["ows:SupportedCRS"])===r)&&n[e["ows:Identifier"]]})));return a&&a["ows:Identifier"]?a["ows:Identifier"]:t}return(0,i.isObject)(e)&&e[r]||t}),a):a},d=function(e){var t=n.getOperations(e);return n.getOperation(t,"GetTile","KVP")?"KVP":n.getOperation(t,"GetTile","RESTful")&&"RESTful"},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.castArray)(e.Capabilities["ows:OperationsMetadata"]["ows:Operation"])},m=function(e,t,r){return(0,i.head)((0,i.castArray)((0,i.head)(e.filter((function(e){return e.$.name===t})).map((function(e){return(0,i.castArray)(e["ows:DCP"]["ows:HTTP"]["ows:Get"])})))||[]).filter((function(e){return(e["ows:Constraint"]&&e["ows:Constraint"]["ows:AllowedValues"]["ows:Value"])===r})).map((function(e){return e.$["xlink:href"]})))},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ResourceURL,r=e.GetTileURL,n=e.requestEncoding;return"KVP"===n?r:t&&(0,i.castArray)(t).map((function(e){var t=e.$,r=void 0===t?{}:t;return r.template||r.value}))||r},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.head)((0,i.castArray)(e.capabilitiesURL||e.GetTileURL))},b=function(e){return null!=e&&e.Style?(0,i.head)((0,i.castArray)(e.Style).filter((function(e){var t=e.$;return"true"===(void 0===t?{}:t).isDefault})).map((function(e){return e["ows:Identifier"]}))):null},O=function(e){return(0,i.head)((0,i.castArray)(e.Format))},h=function(e,t){return e?u(u({},e),{},{TileMatrix:(0,i.sortBy)(null==e?void 0:e.TileMatrix.map((function(e){return u(u({},e),{},{ScaleDenominator:Number(e.ScaleDenominator)})})),"ScaleDenominator").reverse().filter((function(e){return!t||t.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.identifier;return t})).indexOf(e["ows:Identifier"])>=0}))}):e},E=function(e,t){var r,n,o=p(e.tileMatrixSet,t,e.allowedSRS,e.matrixIds),a=e.matrixIds&&s(e.matrixIds,o||t),u=h((0,i.head)(e.tileMatrixSet.filter((function(e){return e["ows:Identifier"]===o}))),a),c=null==u||null===(r=(n=u.TileMatrix).map)||void 0===r?void 0:r.call(n,(function(e){return e["ows:Identifier"]}));return{matrixIds:c&&a?a.sort((function(e,t){return c.indexOf(e.identifier)-c.indexOf(t.identifier)})):a,tileMatrixSetName:o,tileMatrixSet:u}};n={getOperations:g,getOperation:m}},13530:e=>{var t={},r={registerType:function(e,r){t[e]=r},createLayer:function(e,r,n){var o=t[e];return o&&o.create?o.create(r,n):o?o(r,n):null},renderLayer:function(e,r,n,o,i){var a=t[e];return a&&a.render?a.render(r,n,o,i):null},updateLayer:function(e,r,n,o,i){var a=t[e];return a&&a.update?a.update(r,n,o,i):null},isSupported:function(e){return!!t[e]}};e.exports=r},27415:e=>{var t={},r={registerType:function(e,r){t[e]=r},createLayer:function(e,r){var n=t[e];return n&&n.create?n.create(r):n?n(r):null},renderLayer:function(e,r,n,o,i){var a=t[e];return a&&a.render?a.render(r,n,o,i):null},updateLayer:function(e,r,n,o){var i=t[e];return i&&i.update?i.update(r,n,o):null},isValid:function(e,r){var n=t[e];return!n||!n.isValid||n.isValid(r)},isSupported:function(e){return!!t[e]}};e.exports=r},84109:(e,t,r)=>{var n=r(17850).getCurrentResolution,o=r(54702);e.exports={buildRequest:function(e,t){var r,i,a,u;return{request:{lat:t.point.latlng.lat,lng:t.point.latlng.lng},metadata:{fields:(null===(r=e.features)||void 0===r||null===(i=r[0])||void 0===i?void 0:i.properties)&&Object.keys(e.features[0].properties)||[],title:e.name,resolution:o(null==t||null===(a=t.map)||void 0===a?void 0:a.resolution)?(null==t||null===(u=t.map)||void 0===u?void 0:u.zoom)&&n(t.map.zoom,0,21,96):t.map.resolution,buffer:t.buffer||2,units:t.map&&t.map.units,rowViewer:e.rowViewer,viewer:e.viewer},url:""}}}},17337:(e,t,r)=>{function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(49977).Observable,u=r(89735).normalizeSRS,c=r(36515).getLayerUrl,l=r(86494).isObject,s=r(15442).optionsToVendorParams,f=r(83358),p=f.describeFeatureType,d=f.getFeature,g=r(64973).extractGeometryAttributeName,m=r(36493).addAuthenticationToSLD,y=r(51312);e.exports={buildRequest:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.map,n=void 0===r?{}:r,i=t.point,a=t.currentLocale,s=t.params,f=t.maxItems,p=void 0===f?10:f,d=arguments.length>3?arguments[3]:void 0,g=arguments.length>4?arguments[4]:void 0;return{request:m(o({point:i,service:"WFS",version:"1.1.1",request:"GetFeature",outputFormat:"application/json",exceptions:"application/json",id:e.id,typeName:e.name,srs:u(n.projection)||"EPSG:4326",feature_count:p},y({params:s})),e),metadata:{title:l(e.title)?e.title[a]||e.title.default:e.title,regex:e.featureInfoRegex,viewer:d,featureInfo:g},url:c(e).replace(/[?].*$/g,"")}},getIdentifyFlow:function(e,t,r){var n=r.point,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(r,["point"]),i=function(e){var t,r,n=null==e||null===(t=e.geometricFilter)||void 0===t||null===(r=t.value)||void 0===r?void 0:r.geometry;if(n)return n;var o=e.latlng.lng;return{coordinates:[o-360*Math.floor(o/360+.5),e.latlng.lat],projection:"EPSG:4326",type:"Point"}}(n);return a.defer((function(){return p(e.url,e.name).then((function(r){var n=g(r),a=s({layerFilter:e.layerFilter,filterObj:{spatialField:{attribute:n,operation:"INTERSECTS",geometry:i}},params:y({},e.baseParams,e.params,o)});return d(t,e.name,a)}))}))}}},30048:(e,t,r)=>{function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(17850).getCurrentResolution,u=r(89735),c=u.reproject,l=u.getProjectedBBox,s=u.normalizeSRS,f=r(36515).getLayerUrl,p=r(86494),d=p.isObject,g=p.isNil,m=r(15442).optionsToVendorParams,y=r(95525).generateEnvString,v=r(36493).addAuthenticationToSLD,b=r(51312);e.exports={buildRequest:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.sizeBBox,n=t.map,i=void 0===n?{}:n,u=t.point,p=t.currentLocale,O=t.params,h=t.maxItems,E=void 0===h?10:h,_=t.env,P=arguments.length>2?arguments[2]:void 0,S=arguments.length>3?arguments[3]:void 0,w=arguments.length>4?arguments[4]:void 0,A=r&&r.height||101,x=r&&r.width||101,L=[A,x],R=0,T=g(i.resolution)?a(Math.ceil(i.zoom),0,21,96):i.resolution,M=u.latlng.lng,I=M-360*Math.floor(M/360+.5),C={x:I,y:u.latlng.lat},j=c(C,"EPSG:4326",i.projection),D=l(j,T,R,L,null),N=e.name;e.queryLayers&&(N=e.queryLayers.join(","));var F=y(_),G=m({layerFilter:e.layerFilter,filterObj:e.filterObj,params:b({},e.baseParams,e.params,O)});return{request:v(o({service:"WMS",version:"1.1.1",request:"GetFeatureInfo",exceptions:"application/json",id:e.id,layers:e.name,query_layers:N,styles:e.style,x:x%2==1?Math.ceil(x/2):x/2,y:x%2==1?Math.ceil(x/2):x/2,height:A,width:x,srs:s(i.projection)||"EPSG:4326",bbox:D.minx+","+D.miny+","+D.maxx+","+D.maxy,feature_count:E,info_format:P,ENV:F},b({},G)),e),metadata:{title:d(e.title)?e.title[p]||e.title.default:e.title,regex:e.featureInfoRegex,viewer:S,featureInfo:w},url:f(e).replace(/[?].*$/g,"")}}}},41537:(e,t,r)=>{function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(17850),u=a.getCurrentResolution,c=a.getResolutions,l=r(89735),s=l.reproject,f=l.normalizeSRS,p=r(73418),d=p.getTileMatrixSet,g=p.limitMatrix,m=p.getMatrixIds,y=p.getDefaultMatrixId,v=r(36515).getLayerUrl,b=r(15442).optionsToVendorParams,O=r(86494),h=O.isObject,E=O.isNil,_=r(51312);e.exports={buildRequest:function(e,t){var r=E(t.map.resolution)?u(Math.round(t.map.zoom),0,21,96):t.map.resolution,n=e.resolutions||c(),i=e.tileSize||256,a=[e.originX||-20037508.3428,e.originY||20037508.3428],l=t.point.latlng.lng,p={x:l-360*Math.floor(l/360+.5),y:t.point.latlng.lat},O=s(p,"EPSG:4326",t.map.projection),P=f(e.srs||t.map.projection||"EPSG:3857",e.allowedSRS),S=d(e.tileMatrixSet,P,e.allowedSRS,e.matrixIds),w=(O.x-a[0])/(r*i),A=(a[1]-O.y)/(r*i),x=Math.floor(w),L=Math.floor(A),R=Math.floor((w-x)*i),T=Math.floor((A-L)*i),M=g(e.matrixIds&&m(e.matrixIds,S||P)||y(e),n.length),I=b({layerFilter:e.layerFilter,filterObj:e.filterObj,params:_({},e.baseParams,e.params,t.params)});return{request:o(o({service:"WMTS",request:"GetFeatureInfo",layer:e.name,infoformat:t.format,style:e.style||""},_({},I)),{},{tilecol:x,tilerow:L,tilematrix:M[Math.round(t.map.zoom)],tilematrixset:S,i:R,j:T}),metadata:{title:h(e.title)?e.title[t.currentLocale]||e.title.default:e.title,regex:e.featureInfoRegex},url:v(e).replace(/[?].*$/g,"")}}}},70831:e=>{var t={PROPERTY:/^[_a-zA-Z]\w*/,COMPARISON:/^(=|<>|<=|<|>=|>|LIKE)/i,IS_NULL:/^IS NULL/i,COMMA:/^,/,LOGICAL:/^(AND|OR)/i,VALUE:/^('([^']|'')*'|-?\d+(\.\d*)?|\.\d+)/,LPAREN:/^\(/,RPAREN:/^\)/,SPATIAL:/^(BBOX|INTERSECTS|DWITHIN|WITHIN|CONTAINS)/i,NOT:/^NOT/i,BETWEEN:/^BETWEEN/i,GEOMETRY:function(e){var t=/^(POINT|LINESTRING|POLYGON|MULTIPOINT|MULTILINESTRING|MULTIPOLYGON|GEOMETRYCOLLECTION)/.exec(e);if(t){var r=e.length,n=e.indexOf("(",t[0].length);if(n>-1)for(var o=1;n<r&&o>0;)switch(n++,e.charAt(n)){case"(":o++;break;case")":o--}return[e.substr(0,n+1)]}return null},END:/^$/},r={LPAREN:["GEOMETRY","SPATIAL","PROPERTY","VALUE","LPAREN"],RPAREN:["NOT","LOGICAL","END","RPAREN"],PROPERTY:["COMPARISON","BETWEEN","COMMA","IS_NULL"],BETWEEN:["VALUE"],IS_NULL:["END"],COMPARISON:["VALUE"],COMMA:["GEOMETRY","VALUE","PROPERTY"],VALUE:["LOGICAL","COMMA","RPAREN","END"],SPATIAL:["LPAREN"],LOGICAL:["NOT","VALUE","SPATIAL","PROPERTY","LPAREN"],NOT:["PROPERTY","LPAREN"],GEOMETRY:["COMMA","RPAREN"]},n={"=":"=","<>":"<>","<":"<","<=":"<=",">":">",">=":">=",LIKE:"like",ILIKE:"ilike",BETWEEN:"><","IS NULL":"isNull"},o={AND:"and",OR:"or",NOT:"not"},i={RPAREN:3,LOGICAL:2,COMPARISON:1},a=function(e,t){return t instanceof RegExp?t.exec(e):t(e)},u=function(e,r){var n,o,i=r.length;for(n=0;n<i;n++){o=r[n];var u=a(e,t[o]);if(u){var c=u[0];return{type:o,text:c,remainder:e.substr(c.length).replace(/^\s*/,"")}}}var l="ERROR: In parsing: ["+e+"], expected one of: ";for(n=0;n<i;n++)l+="\n    "+(o=r[n])+": "+t[o];throw new Error(l)};e.exports={read:function(e){return function(e){for(var t=[],r=[];e.length;){var a=e.shift();switch(a.type){case"PROPERTY":case"GEOMETRY":case"VALUE":r.push(a);break;case"COMPARISON":case"BETWEEN":case"IS_NULL":case"LOGICAL":for(var u=i[a.type];t.length>0&&i[t[t.length-1].type]<=u;)r.push(t.pop());t.push(a);break;case"SPATIAL":case"NOT":case"LPAREN":t.push(a);break;case"RPAREN":for(;t.length>0&&"LPAREN"!==t[t.length-1].type;)r.push(t.pop());t.pop(),t.length>0&&"SPATIAL"===t[t.length-1].type&&r.push(t.pop());break;case"COMMA":case"END":break;default:throw new Error("Unknown token type "+a.type)}}for(;t.length>0;)r.push(t.pop());var c=function e(){var t=r.pop();switch(t.type){case"LOGICAL":var i=e();return{filters:[e(),i],type:o[t.text.toUpperCase()]};case"NOT":return{filters:[e()],type:o.NOT};case"BETWEEN":r.pop();var a=e(),u=e();return{property:e(),lowerBoundary:u,upperBoundary:a,type:n.BETWEEN};case"COMPARISON":var c=e();return{property:e(),value:c,type:n[t.text.toUpperCase()]};case"IS_NULL":return{property:e(),type:n[t.text.toUpperCase()]};case"VALUE":var l=t.text.match(/^'(.*)'$/);return l?l[1].replace(/''/g,"'"):Number(t.text);case"SPATIAL":switch(t.text.toUpperCase()){case"BBOX":var s=e(),f=e(),p=e(),d=e();return{type:"BBOX",property:e(),value:[d,p,f,s]};case"INTERSECTS":var g=e();return{type:"INTERSECTS",property:e(),value:g};case"WITHIN":var m=e();return{type:"WITHIN",property:e(),value:m};case"CONTAINS":var y=e();return{type:"CONTAINS",property:e(),value:y};case"DWITHIN":var v=e();return{type:"DWITHIN",value:e(),property:e(),distance:Number(v)};default:return null}case"GEOMETRY":return function(){throw new Error("WKT parsing for CQL filter not supported yet")}(t.text);default:return t.text}}();if(r.length>0){for(var l="Remaining tokens after building AST: \n",s=r.length-1;s>=0;s--)l+=r[s].type+": "+r[s].text+"\n";throw new Error(l)}return c}(function(e){var t,n=[],o=e,i=["NOT","GEOMETRY","SPATIAL","PROPERTY","LPAREN"];do{if(o=(t=u(o,i)).remainder,i=r[t.type],"END"!==t.type&&!i)throw new Error("No follows list for "+t.type);n.push(t)}while("END"!==t.type);return n}(e))}}},97240:(e,t,r)=>{function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=r(57784),i=o.logical,a=o.spatial,u=o.comparison,c=o.literal,l=o.propertyName,s=o.valueReference,f=o.distance,p=o.lower,d=o.upper,g=r(11168),m=g.filter,y=g.fidFilter,v=r(89223).processOGCGeometry;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.filterNS,r=void 0===t?"ogc":t,o=e.gmlVersion,g=e.wfsVersion,b=void 0===g?"1.1.0":g,O=o||"3.1.1",h=function(e){return v(O,e)},E=function(e){return"object"===n(e)&&Date,c(r,e)},_=0===b.indexOf("2.")?s:l;return{filter:m.bind(null,r),fidFilter:y.bind(null,r),and:i.and.bind(null,r),or:i.or.bind(null,r),not:i.not.bind(null,r),property:function(e){return{equalTo:function(t){return u.equal(r,_(r,e),E(t))},greaterThen:function(t){return u.greater(r,_(r,e),E(t))},greaterThenOrEqualTo:function(t){return u.greaterOrEqual(r,_(r,e),E(t))},lessThen:function(t){return u.less(r,_(r,e),E(t))},lessThenOrEqualTo:function(t){return u.lessOrEqual(r,_(r,e),E(t))},notEqualTo:function(t){return u.notEqual(r,_(r,e),E(t))},between:function(t,n){return u.between(r,_(r,e),p(r,E(t)),d(r,E(n)))},like:function(t,n){return u.like(r,_(r,e),E(t),n)},ilike:function(t,n){return u.ilike(r,_(r,e),E(t),n)},isNull:function(){return u.isNull(r,_(r,e))},intersects:function(t){return a.intersects(r,_(r,e),h(t))},within:function(t){return a.within(r,_(r,e),h(t))},dwithin:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";return a.dwithin(r,_(r,e),h(t),f(r,n,o))},contains:function(t){return a.contains(r,_(r,e),h(t))}}}}}},11168:e=>{var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ogc",t=arguments.length>1?arguments[1]:void 0;return"<".concat(e,":Filter>").concat(Array.isArray(t)?t.join(""):t,"</").concat(e,":Filter>")};e.exports={fidFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ogc",r=arguments.length>1?arguments[1]:void 0;return t(e,"<".concat(e,':FeatureId fid="').concat(r,'"/>'))},filter:t}},96191:(e,t,r)=>{function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r(86494),a=i.includes,u=i.isNil,c=["and","or","not"],l={"=":"equalTo","<>":"notEqualTo","><":"between","<":"lessThen","<=":"lessThenOrEqualTo",">":"greaterThen",">=":"greaterThenOrEqualTo",like:"like",ilike:"ilike"};e.exports=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(r){var o=r.type,i=r.filters,s=void 0===i?[]:i,f=r.value,p=r.property,d=r.lowerBoundary,g=r.upperBoundary;return a(c,o)?t[o].apply(t,n(s.map(e(t)))):t.property(p)[l[o]](u(f)?d:f,g)}}},57784:e=>{var t={"=":function(e,t){return"<".concat(e,":PropertyIsEqualTo>").concat(t,"</").concat(e,":PropertyIsEqualTo>")},">":function(e,t){return"<".concat(e,":PropertyIsGreaterThan>").concat(t,"</").concat(e,":PropertyIsGreaterThan>")},"<":function(e,t){return"<".concat(e,":PropertyIsLessThan>").concat(t,"</").concat(e,":PropertyIsLessThan>")},">=":function(e,t){return"<".concat(e,":PropertyIsGreaterThanOrEqualTo>").concat(t,"</").concat(e,":PropertyIsGreaterThanOrEqualTo>")},"<=":function(e,t){return"<".concat(e,":PropertyIsLessThanOrEqualTo>").concat(t,"</").concat(e,":PropertyIsLessThanOrEqualTo>")},"<>":function(e,t){return"<".concat(e,":PropertyIsNotEqualTo>").concat(t,"</").concat(e,":PropertyIsNotEqualTo>")},"><":function(e,t){return"<".concat(e,":PropertyIsBetween>").concat(t,"</").concat(e,":PropertyIsBetween>")},like:function(e,t){return"<".concat(e,':PropertyIsLike matchCase="true" wildCard="*" singleChar="." escapeChar="!">').concat(t,"</").concat(e,":PropertyIsLike>")},ilike:function(e,t){return"<".concat(e,':PropertyIsLike matchCase="false" wildCard="*" singleChar="." escapeChar="!">').concat(t,"</").concat(e,":PropertyIsLike>")},isNull:function(e,t){return"<".concat(e,":PropertyIsNull>").concat(t,"</").concat(e,":PropertyIsNull>")}},r={AND:function(e,t){return"<".concat(e,":And>").concat(t,"</").concat(e,":And>")},OR:function(e,t){return"<".concat(e,":Or>").concat(t,"</").concat(e,":Or>")},NOR:function(e,t){return"<".concat(e,":Not><").concat(e,":Or>").concat(t,"</").concat(e,":Or></").concat(e,":Not>")},NOT:function(e,t){return"<".concat(e,":Not>").concat(t,"</").concat(e,":Not>")}},n={INTERSECTS:function(e,t){return"<".concat(e,":Intersects>").concat(t,"</").concat(e,":Intersects>")},BBOX:function(e,t){return"<".concat(e,":BBOX>").concat(t,"</").concat(e,":BBOX>")},CONTAINS:function(e,t){return"<".concat(e,":Contains>").concat(t,"</").concat(e,":Contains>")},DWITHIN:function(e,t){return"<".concat(e,":DWithin>").concat(t,"</").concat(e,":DWithin>")},WITHIN:function(e,t){return"<".concat(e,":Within>").concat(t,"</").concat(e,":Within>")}},o=function(e,t,r){return t(e,Array.isArray(r)?r.join(""):r)},i={and:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];return i&&i.length>0?o(e,r.AND,[t].concat(i)):o(e,r.AND,t)},or:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];return i&&i.length>0?o(e,r.OR,[t].concat(i)):o(e,r.OR,t)},not:function(e,t){return o(e,r.NOT,t)},nor:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];return i&&i.length>0?o(e,r.NOR,[t].concat(i)):o(e,r.NOR,t)}},a={intersects:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return o(e,n.INTERSECTS,r)},within:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return o(e,n.WITHIN,r)},bbox:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return o(e,n.BBOX,r)},dwithin:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return o(e,n.DWITHIN,r)},contains:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return o(e,n.CONTAINS,r)}},u={equal:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return o(e,t["="],n)},greater:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return o(e,t[">"],n)},less:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return o(e,t["<"],n)},greaterOrEqual:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return o(e,t[">="],n)},lessOrEqual:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return o(e,t["<="],n)},notEqual:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return o(e,t["<>"],n)},between:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return o(e,t["><"],n)},like:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return o(e,t.like,n)},ilike:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return o(e,t.ilike,n)},isNull:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return o(e,t.isNull,n)}};e.exports={ogcComparisonOperators:t,ogcLogicalOperators:r,ogcSpatialOperators:n,propertyName:function(e,t){return"<".concat(e,":PropertyName>").concat(t,"</").concat(e,":PropertyName>")},valueReference:function(e,t){return"<".concat(e,":ValueReference>").concat(t,"</").concat(e,":ValueReference>")},distance:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";return"<".concat(e,':Distance units="').concat(r,'">').concat(t,"</").concat(e,":Distance>")},literal:function(e,t){return"<".concat(e,":Literal>").concat(t,"</").concat(e,":Literal>")},logical:i,spatial:a,comparison:u,lower:function(e,t){return"<".concat(e,":LowerBoundary>").concat(t,"</").concat(e,":LowerBoundary>")},upper:function(e,t){return"<".concat(e,":UpperBoundary>").concat(t,"</").concat(e,":UpperBoundary>")}}},89223:(e,t,r)=>{var n=r(86494).isArray,o=function(e){return 0===e.indexOf("2.")},i=function(e){if(e.length>=3){var t=e[0],r=e[e.length-1];if(t[0]!==r[0]||t[1]!==r[1])return e.concat([e[0]])}return e},a=function(e,t,r){var n='<gml:Point srsDimension="2"';return n+=t?' srsName="'+t+'">':">",(n+=o(r)?"<gml:coord><X>"+e[0]+"</X><Y>"+e[1]+"</Y></gml:coord>":"<gml:pos>"+e.join(" ")+"</gml:pos>")+"</gml:Point>"},u=function(e,t,r){var a=o(r),u="<gml:Polygon";return u+=t?' srsName="'+t+'">':">",(e.length&&n(e[0])&&e[0].length&&n(e[0][0])?e:[e]).forEach((function(e,t){var r=i(e).map((function(e){return e[0]+(a?",":" ")+e[1]})),n=a?"outerBoundaryIs":"exterior",o=a?"innerBoundaryIs":"interior";u+=(t<1?"<gml:"+n+">":"<gml:"+o+">")+"<gml:LinearRing>"+(a?"<gml:coordinates>":"<gml:posList>")+r.join(" ")+(a?"</gml:coordinates>":"</gml:posList>")+"</gml:LinearRing>"+(t<1?"</gml:"+n+">":"</gml:"+o+">")})),u+="</gml:Polygon>"},c=function(e,t,r){var n=o(r),i="<gml:LineString";i+=t?' srsName="'+t+'">':">";var a=e.map((function(e){return e[0]+(n?",":" ")+e[1]}));return(i+=(n?"<gml:coordinates>":"<gml:posList>")+a.join(" ")+(n?"</gml:coordinates>":"</gml:posList>"))+"</gml:LineString>"};e.exports={closePolygon:i,pointElement:a,polygonElement:u,lineStringElement:c,processOGCGeometry:function(e,t){var r="",n=t.projection||"EPSG:4326";switch(t.type){case"Point":r+=a(t.coordinates,n,e);break;case"MultiPoint":r+='<gml:MultiPoint srsName="'+(t.projection||"EPSG:4326")+'">',t.coordinates.forEach((function(t){t&&(r+="<gml:pointMember>",r+=a(t,n,e),r+="</gml:pointMember>")})),r+="</gml:MultiPoint>";break;case"LineString":r+=c(t.coordinates,n,e);break;case"MultiLineString":var o="3.2"===e?"MultiCurve":"MultiLineString",i="3.2"===e?"curveMember":"lineStringMember";r+="<gml:".concat(o,' srsName="').concat(n,'">'),t.coordinates.forEach((function(t){t&&(r+="<gml:"+i+">",r+=c(t,n,e),r+="</gml:"+i+">")})),r+="</gml:"+o+">";break;case"Polygon":r+=u(t.coordinates,n,e);break;case"MultiPolygon":var l="3.2"===e?"MultiSurface":"MultiPolygon",s="3.2"===e?"surfaceMembers":"polygonMember";r+="<gml:".concat(l,' srsName="').concat(n,'">'),t.coordinates.forEach((function(t){t&&(r+="<gml:"+s+">",r+=u(t,n,e),r+="</gml:"+s+">")})),r+="</gml:"+l+">"}return r}}},67451:(e,t,r)=>{var n=r(86494),o=n.head,i=n.get,a=function(e){return/[<>&'"]/.test(e)?"<![CDATA[".concat(e,"]]>"):e},u=r(89223).processOGCGeometry,c={"1.0.0":"2.0","1.1.0":"3.1.1","2.0":"3.2","2.0.0":"3.2"},l=function(e){return i(e,"featureTypes[0].properties")},s=function(e,t){return o((l(t)||[]).filter((function(t){return t.name===e})))},f=function(e){return e.targetNamespace},p=function(e){return 0===e.type.indexOf("gml:")},d=function(e,t){return null==t||t&&!0===t.nillable||t&&!1===t.nillable&&null!=e},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.geom,r=e.properties,n=arguments.length>1?arguments[1]:void 0;return d(p(n)?t:r[n.name],n)};e.exports={schemaLocation:f,isGeometryType:p,featureTypeSchema:function(e){return"xmlns:".concat(e.targetPrefix,'="').concat(f(e),'"')},getValue:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"1.1.0",o=p(s(t,r));return o?e?u(n,{type:e.type,coordinates:e.coordinates}):"":null==e?"":"string"==typeof e?a(e):e},getPropertyDesciptor:s,findGeometryProperty:function(e){return o((l(e)||[]).filter((function(e){return 0===e.type.indexOf("gml:")})))},getFeatureTypeProperties:l,getTypeName:function(e){return e.targetPrefix?e.targetPrefix+":"+e.featureTypes[0].typeName:e.featureTypes[0].typeName},wfsToGmlVersion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1.1.0";return c[e]},processOGCGeometry:u,isValid:function(e,t){return l(t).map((function(t){return g(e,t)}))},isValidProperty:g,isValidValueForPropertyName:function(e,t,r){return d(e,s(t,r))},isValidValue:d}},75866:(e,t,r)=>{"use strict";r.r(t),r.d(t,{registerType:()=>o,createLayer:()=>i,updateLayer:()=>a,removeLayer:()=>u,renderLayer:()=>c,isValid:()=>l,isSupported:()=>s,isCompatible:()=>f,default:()=>p});var n={},o=function(e,t){n[e]=t},i=function(e,t,r,o){var i=n[e];return i?i.create(t,r,o):null},a=function(e,t,r,o,i,a){var u=n[e];if(u&&u.update)return u.update(t,r,o,i,a);if(o&&t&&t.getSource()&&t.getSource().updateParams){var c=!1;o.params&&r.params?c=Object.keys(o.params).reduce((function(e,t){return r.params[t]!==o.params[t]||e}),!1):!o.params&&r.params&&(c=!0),c&&t.getSource().updateParams(r.params)}return null},u=function(e,t,r,o,i){var a=n[e];return a&&a.remove?a.remove(t,r,o,i):null},c=function(e,t,r,o,i){var a=n[e];return a&&a.render?a.render(t,r,o,i):null},l=function(e,t){var r=n[e];return!r||!r.isValid||r.isValid(t)},s=function(e){return!!n[e]},f=function(e,t){var r=n[e];return!r||!r.isCompatible||r.isCompatible(t)};const p={registerType:o,createLayer:i,updateLayer:a,removeLayer:u,renderLayer:c,isValid:l,isSupported:s,isCompatible:f}},19426:e=>{e.exports={name:"GeonetworkExtension"}},25600:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>pn});var n=r(24852),o=r.n(n),i=r(71703),a=r(19426),u=r(77580),c=r.n(u),l=r(86494),s="GEONETWORK:LOADED_DATA",f="GEONETWORK:LOAD_ERROR",p="GEONETWORK:UPDATE_STYLE_MILLESIME_BTN",d="GEONETWORK:GET_MILLESIME_LAYERS",g="GEONETWORK:SET_MILLESIME_SELECTED",m="GEONETWORK:SET_PARENT_SELECTED",y=function(e){return{type:s,payload:e}},v=function(e){return{type:f,error:e}},b=function(e){return{type:d,id:e}},O=function(e){return{type:m,parentSelected:e}},h=r(49977),E=r(7185),_=r.n(E),P="QUERY:UPDATE_FILTER";function S(e,t,r){return{type:"FEATUREGRID:CUSTOMIZE_ATTRIBUTE",name:e,key:t,value:r}}var w=r(6607),A=r(89735),x=function(e){return e.map&&e.map.present||e.map||e.config&&e.config.map||null},L=(0,w.P1)([x],(function(e){return e&&e.projection})),R=((0,w.P1)([function(e){return(0,l.get)(x(e),"resolutions")},L],(function(e,t){if(e&&t){var r=A.default.getUnits(t);return e.map((function(e){return 3779.527559055118*e*("degrees"===r?111194.87428468118:1)}))}return[]})),function(e){return e.localConfig}),T=r(59154),M=r(59766);function I(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var j=function(e){return e.context&&e.context.currentContext},D=(0,w.P1)((function(){return(0,l.get)(T.ZP.getConfigProp("plugins"),"desktop")}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{desktop:[].concat(I(e),["Context"])}})),N=(0,w.P1)((function(e){return(0,l.get)(j(e),"plugins")}),(function(e){return(0,l.get)(j(e),"userPlugins")}),(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e&&{desktop:[].concat(I((0,l.get)(e,"desktop",[])),I(t.filter((function(e){return e.active}))))}})),F=((0,w.P1)(j,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.templates})),function(e){return function(e){return(0,l.get)(e,"context.loading")}(e)?function(e){return D(e)}(e):N(e)||D(e)}),G=function(e){return(0,w.P1)(j,F,(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!t||(0,l.findIndex)((0,l.get)(r,"desktop",[]),(function(t){return t.name===e}))>-1}))},U=((0,w.P1)((function(e){return(0,M.bh)(e,function(e){return(R(e)||{}).monitorState}(e))}),(function(e){return JSON.stringify(e)})),function(e){return e.locale&&e.locale.current||"en-US"}),k=((0,w.P1)([U],(function(e){return(0,l.head)(e.split("-"))})),{TEXT:"text/plain",HTML:"text/html",JSONP:"text/javascript",PROPERTIES:"application/json",JSON:"application/json",GML2:"application/vnd.ogc.gml",GML3:"application/vnd.ogc.gml/3.1.1",TEMPLATE:"application/json"}),B={"text/plain":"TEXT","text/html":"HTML","text/javascript":"JSONP","application/json":"JSON","application/vnd.ogc.gml":"GML2","application/vnd.ogc.gml/3.1.1":"GML3"},q=/^[\s\S]*<gml:featureMembers[^>]*>([\s\S]*)<\/gml:featureMembers>[\s\S]*$/i,W=/^[\s\S]*<body[^>]*>([\s\S]*)<\/body>[\s\S]*$/i;function K(e){if("string"==typeof e.response){var t=e.response.match(W);return e.layerMetadata&&e.layerMetadata.regex?t&&t[1]&&t[1].match(e.layerMetadata.regex):t&&t[1]&&t[1].trim().length>0}return!1}function V(e){if("string"==typeof e.response&&-1!==e.response.indexOf("<?xml")){var t=e.response.match(q);return t&&t[1]&&t[1].trim().length>0}return!1}var Y={HTML:{getValidResponses:function(e){return e.filter(K)},getNoValidResponses:function(e){return e.filter((function(e){return!K(e)}))}},TEXT:{getValidResponses:function(e){return e.filter((function(e){return""!==e.response&&"string"==typeof e.response&&0!==e.response.indexOf("no features were found")&&"string"==typeof e.response&&0!==e.response.indexOf("<?xml")}))},getNoValidResponses:function(e){return e.filter((function(e){return""===e.response||"string"==typeof e.response&&0===e.response.indexOf("no features were found")||e.response&&"string"==typeof e.response&&0===e.response.indexOf("<?xml")}))}},JSON:{getValidResponses:function(e){return e.filter((function(e){return e.response&&e.response.features&&e.response.features.length}))},getNoValidResponses:function(e){return e.filter((function(e){return e.response&&e.response.features&&0===e.response.features.length}))}},PROPERTIES:{getValidResponses:function(e){return e.filter((function(e){return e.response&&e.response.features&&e.response.features.length}))},getNoValidResponses:function(e){return e.filter((function(e){return e.response&&e.response.features&&0===e.response.features.length}))}},GML3:{getValidResponses:function(e){return e.filter(V)},getNoValidResponses:function(e){return e.filter((function(e){return!V(e)}))}},TEMPLATE:{getValidResponses:function(e){return e.filter((function(e){return e.response&&e.response.features&&e.response.features.length}))},getNoValidResponses:function(e){return e.filter((function(e){return e.response&&e.response.features&&0===e.response.features.length}))}}},H=r(57162),z=r.n(H),Q=r(67522),Z=r.n(Q),X=r(67076),J=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=(0,l.isString)(t)&&(0,l.trim)(t.substring(r,t.length-n))||"";return(0,l.has)(e,o)};function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(e,t){return!t||"object"!==$(t)&&"function"!=typeof t?oe(e):t}function oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(u,e);var t,r,n,i,a=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ie(n);if(i){var r=ie(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return ne(this,e)});function u(){var e;ee(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ae(oe(e=a.call.apply(a,[this].concat(r))),"getSourceCode",(function(){return{__html:e.props.html}})),e}return t=u,(r=[{key:"render",value:function(){return o().createElement("div",{id:this.props.id,dangerouslySetInnerHTML:this.getSourceCode()})}}])&&te(t.prototype,r),u}(o().Component);ae(ue,"propTypes",{html:c().string,id:c().string});const ce=ue;function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?ge(e):t}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ye(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ve=r(68195).FormattedMessage,be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(u,e);var t,r,n,i,a=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=me(n);if(i){var r=me(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return de(this,e)});function u(){var e;se(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ye(ge(e=a.call.apply(a,[this].concat(r))),"renderFormattedMsg",(function(e){var t=e.msgId,r=e.msgParams,n=e.children;return n&&"function"==typeof n?o().createElement(ve,{id:t,values:r},(function(e){return n(e)})):o().createElement(ve,{id:t,values:r})})),ye(ge(e),"renderMsg",(function(e){var t=e.msgId,r=e.children;return r&&"function"==typeof r?r(t):o().createElement("span",null,t||"")})),e}return t=u,(r=[{key:"render",value:function(){return this.context.intl?this.renderFormattedMsg(this.props):this.renderMsg(this.props)}}])&&fe(t.prototype,r),u}(o().Component);ye(be,"propTypes",{msgId:c().string.isRequired,msgParams:c().object}),ye(be,"contextTypes",{intl:c().object});const Oe=be;var he=function(e){return new RegExp("<(.|\\n)*?>","g").test(e)};function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function we(e,t){return!t||"object"!==Ee(t)&&"function"!=typeof t?Ae(e):t}function Ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Le(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Re=["exclude","titleStyle","listStyle","componentStyle","title","feature"],Te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(u,e);var t,r,n,i,a=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=xe(n);if(i){var r=xe(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return we(this,e)});function u(){var e;_e(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Le(Ae(e=a.call.apply(a,[this].concat(r))),"getBodyItems",(function(){return Object.keys(e.props).filter(e.toExclude).map((function(t){var r=e.renderProperty(e.props[t]);return o().createElement("tr",{key:t,style:e.props.listStyle},o().createElement("td",null,t),o().createElement("td",null,he(r)?o().createElement("span",{dangerouslySetInnerHTML:{__html:r}}):r))}))})),Le(Ae(e),"renderHeader",(function(){return e.props.title?o().createElement("thead",{key:e.props.title,style:e.props.titleStyle,className:"ms-properties-viewer-title"},o().createElement("tr",null,o().createElement("th",{colSpan:"2"},e.props.title))):null})),Le(Ae(e),"renderBody",(function(){var t=e.getBodyItems();return 0===t.length?null:o().createElement("tbody",{className:"ms-properties-viewer-body"},t)})),Le(Ae(e),"renderProperty",(function(e){return(0,l.isString)(e)?e:JSON.stringify(e)})),Le(Ae(e),"toExclude",(function(t){return-1===Re.concat(e.props.exclude).indexOf(t)})),e}return t=u,(r=[{key:"render",value:function(){return o().createElement("table",{className:"ms-properties-viewer",style:this.props.componentStyle},this.renderHeader(),this.renderBody())}}])&&Pe(t.prototype,r),u}(o().Component);Le(Te,"displayName","PropertiesViewer"),Le(Te,"propTypes",{title:c().string,exclude:c().array,titleStyle:c().object,listStyle:c().object,componentStyle:c().object}),Le(Te,"defaultProps",{exclude:[],titleStyle:{},listStyle:{},componentStyle:{}});const Me=Te;function Ie(){return(Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Ce={TEMPLATE:function(e){var t=e.layer,r=void 0===t?{}:t,n=e.response;return o().createElement("div",{className:"ms-template-viewer"},n.features.map((function(e,t){var n=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){return""},a=(0,l.isString)(e)&&e.match(r),u=a&&a.map((function(e){var r=e.replace(/(<([^>]+)>)/gi,"");return{previous:e,next:J(t,r,n,o)?r:i(e)}}))||null;return u&&u.reduce((function(e,t){return e.replace(t.previous,t.next)}),e)||e||""}(r.featureInfo&&r.featureInfo.template||"",e,/\$\{.*?\}/g,2,1),i="";try{i=(0,l.template)(n)(e)}catch(e){return console.error(e),o().createElement("div",{key:t},o().createElement(Oe,{msgId:"layerProperties.templateError"}))}return o().createElement("div",{key:t},o().createElement(ce,{html:i}))})))},PROPERTIES:function(e){var t=e.response,r=e.layer,n=e.rowViewer,i=r&&r.rowViewer||n||Me;return o().createElement("div",{className:"mapstore-json-viewer"},((null==t?void 0:t.features)||[]).map((function(e,t){return o().createElement(i,Ie({key:t,feature:e,title:e.id+"",exclude:["bbox"]},e.properties))})))}};function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ge(e,t){return!t||"object"!==je(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(0,X.shouldUpdate)((function(e,t){return t.response!==e.response}))((function(e){var t=e.layer&&e.layer.featureInfo&&e.layer.featureInfo.format&&e.layer.featureInfo.template&&"<p><br></p>"!==e.layer.featureInfo.template&&e.layer.featureInfo.format||"PROPERTIES",r=Ce[t]||Ce.PROPERTIES;return o().createElement(r,e)}));var ke,Be,qe,We=/^[\s\S]*<body>([\s\S]*)<\/body>[\s\S]*$/i,Ke=/(<style[\s\=\w\/\"]*>[^<]*<\/style>)/i;function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function He(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qe(e,t){return!t||"object"!==Ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ze(e){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(u,e);var t,r,n,i,a=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ue(n);if(i){var r=Ue(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Ge(this,e)});function u(){return De(this,u),a.apply(this,arguments)}return t=u,(r=[{key:"shouldComponentUpdate",value:function(e){return e.response!==this.props.response}},{key:"render",value:function(){var e=this.props.response||"",t=Ke.exec(e),r=t&&2===t.length?Ke.exec(e)[1]:"";r=r.replace(/body[,]+/g,"");var n=e.replace(We,"$1").trim();return o().createElement(ce,{html:r+n})}}])&&Ne(t.prototype,r),u}(o().Component),Be="propTypes",qe={response:c().string},Be in ke?Object.defineProperty(ke,Be,{value:qe,enumerable:!0,configurable:!0,writable:!0}):ke[Be]=qe,function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(u,e);var t,r,n,i,a=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ze(n);if(i){var r=Ze(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Qe(this,e)});function u(){return Ye(this,u),a.apply(this,arguments)}return t=u,(r=[{key:"shouldComponentUpdate",value:function(e){return e.response!==this.props.response}},{key:"render",value:function(){return o().createElement("pre",null,this.props.response)}}])&&He(t.prototype,r),u}(o().Component),"propTypes",{response:c().string});var Xe,Je=r(17337),$e=r.n(Je),et=r(30048),tt=r.n(et),rt=r(41537),nt=r.n(rt),ot=r(84109),it=r.n(ot);function at(e){return function(e){if(Array.isArray(e))return ut(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ut(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ut(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(r),!0).forEach((function(t){st(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function st(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ft=function(e,t,r,n,o){return lt({type:"vector",visibility:!0,name:e||"GetFeatureInfo",styleName:r||"marker",label:o,features:Xe.clickedPointToGeoJson(t)},n)},pt={wfs:$e(),wms:tt(),wmts:nt(),vector:it()};Xe={AVAILABLE_FORMAT:["TEXT","PROPERTIES","HTML","TEMPLATE"],getAvailableInfoFormatLabels:function(){return Object.keys(Xe.getAvailableInfoFormat())},getAvailableInfoFormat:function(){return Object.keys(k).filter((function(e){return-1!==Xe.AVAILABLE_FORMAT.indexOf(e)})).reduce((function(e,t){return e[t]=k[t],e}),{})},getDefaultInfoFormatValue:function(){return k[Xe.AVAILABLE_FORMAT[0]]},clickedPointToGeoJson:function(e){if(!e)return[];if("Feature"===e.type){var t=[z()(e)];return e&&e.geometry&&"Point"!==e.geometry.type&&t.push(e),t}return void 0===e.lng||void 0===e.lat?e.features||[]:[].concat(at(e.features||[]),[{id:"get-feature-info-point",type:"Feature",geometry:{type:"Point",coordinates:[parseFloat(e.lng),parseFloat(e.lat)]},style:[{iconUrl:Z(),iconAnchor:[12,41],iconSize:[25,41]}]}])},services:pt,getDefaultInfoFormatValueFromLayer:function(e,t){return e.featureInfo&&e.featureInfo.format&&k[e.featureInfo.format]||t.format||Xe.getDefaultInfoFormatValue()},getLayerFeatureInfoViewer:function(e){return e.featureInfo&&e.featureInfo.viewer?e.featureInfo.viewer:{}},getLayerFeatureInfo:function(e){return e&&e.featureInfo&&lt({},e.featureInfo)||{}},VIEWERS:{}};function dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(r),!0).forEach((function(t){mt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var yt=(0,w.P1)((function(e){return"cesium"===function(e){return e&&e.maptype&&e.maptype.mapType||"leaflet"}(e)}),(function(e){var t;return!(null==e||null===(t=e.mapInfo)||void 0===t||!t.showInMapPopup)}),(function(e,t){return!e&&t})),vt=function(e){return(0,l.get)(e,"mapInfo.requests")||[]},bt=((0,w.P1)(vt,G("Identify"),yt,(function(e,t,r){return!r&&!!e&&e.length>0&&t})),function(e){return(0,l.get)(e,"mapInfo.configuration.infoFormat","text/plain")}),Ot=function(e){return e&&e.mapInfo&&e.mapInfo.clickPoint},ht=((0,w.P1)((function(e){return!function(e){return(0,l.get)(e,"mapInfo.enabled",!1)}(e)}),(function(e){return(0,l.get)(e,"controls.measure.enabled")&&((0,l.get)(e,"measurement.lineMeasureEnabled")||(0,l.get)(e,"measurement.areaMeasureEnabled")||(0,l.get)(e,"measurement.bearingMeasureEnabled"))}),(function(e){var t=(0,l.get)(e,"draw.drawStatus",!1);return t&&"clean"!==t&&"stop"!==t}),(function(e){return(0,l.get)(e,"annotations.editing")}),G("Identify"),(function(e,t,r,n,o){return e||!!t||r||!!n||!o})),(0,w.zB)({format:bt,map:x,point:Ot,currentLocale:U,maxItems:function(e){return(0,l.get)(e,"mapInfo.configuration.maxItems")}}),function(e){return e.mapInfo&&e.mapInfo.responses||[]}),Et=((0,w.P1)((function(e){var t;return(null==e||null===(t=e.mapInfo)||void 0===t?void 0:t.requests)||[]}),ht,bt,(function(e,t,r){var n=function(e){var t={getValidResponses:function(e){return e},getNoValidResponses:function(){return[]}};return{getValidResponses:function(r){return r.reduce((function(r,n){if(n){var o;n.queryParams&&n.queryParams.hasOwnProperty("info_format")&&(o=n.queryParams.info_format),n.queryParams&&n.queryParams.hasOwnProperty("outputFormat")&&(o=n.queryParams.outputFormat);var i=(Y[n.format||B[o]||B[e]]||t).getValidResponses([n]);return[].concat(at(r),at(i))}return at(r)}),[])},getNoValidResponses:function(r){return r.reduce((function(r,n){if(n){var o;n.queryParams&&n.queryParams.hasOwnProperty("info_format")&&(o=n.queryParams.info_format),n.queryParams&&n.queryParams.hasOwnProperty("outputFormat")&&(o=n.queryParams.outputFormat);var i=(Y[n.format||B[o]||B[e]]||t).getNoValidResponses([n]);return[].concat(at(r),at(i))}return at(r)}),[])}}}(r);return e.length===t.length&&n.getValidResponses(t)})),(0,w.P1)(ht,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&e.mapInfo&&e.mapInfo.index}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]}))),_t=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.style||t.geometry&&("Point"===t.geometry.type||"MultiPoint"===t.geometry.type)?e:(0,l.omit)(e,"radius")}},Pt=function(e){return function(t){return gt(gt({},t),{},{style:_t(e)(t)})}},St=(0,w.P1)(Ot,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.mapInfo&&e.mapInfo.highlight}),(function(e){var t=Et(e)||{};return(0,l.get)(t,"layerMetadata.features")}),(function(e){var t=Et(e)||{};return(0,l.get)(t,"layerMetadata.featuresCrs")}),(function(e){return e&&e.mapInfo&&e.mapInfo.showMarker}),(function(e){return(0,l.get)(e,"mapInfo.highlightStyle",{color:"#3388ff",weight:4,radius:4,dashArray:"",fillColor:"#3388ff",fillOpacity:.2})}),(function(e,t,r,n,o,i){return o&&e?t?gt(gt({},e),{},{featuresCrs:n,features:r&&(0,l.isArray)(r)&&r.map(Pt(i))}):e:void 0})),wt=(r(17850),r(36515),r(24272)),At=r.n(wt),xt=r(68592),Lt=r.n(xt),Rt={iconUrl:At(),shadowUrl:Lt(),iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]};function Tt(e){return function(e){if(Array.isArray(e))return Mt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Mt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r(72500),r(86494).isObject;var It=r(68195).addLocaleData,Ct=r(83836),jt=r(61017),Dt=r(67249),Nt=r(37179),Ft=r(2082),Gt=r(84425),Ut=r(41146),kt=r(96864),Bt=r(39118),qt=r(83416),Wt=r(75784);It([].concat(Tt(Ct),Tt(jt),Tt(Dt),Tt(Nt),Tt(Ft),Tt(Gt),Tt(Ut),Tt(kt),Tt(Bt),Tt(qt),Tt(Wt)));var Kt,Vt={it:{code:"it-IT",description:"Italiano"},en:{code:"en-US",description:"English"},fr:{code:"fr-FR",description:"Français"},de:{code:"de-DE",description:"Deutsch"},es:{code:"es-ES",description:"Español"},zh:{code:"zh-ZH",description:"中文"},nl:{code:"nl-NL",description:"Nederlands"},hr:{code:"hr-HR",description:"Hrvatski"},pt:{code:"pt-PT",description:"Português"},vi:{code:"vi-VN",description:"tiếng Việt"},fi:{code:"fi-FI",description:"Suomi"}};function Yt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(r),!0).forEach((function(t){zt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Kt={getLocale:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(Vt)[0],r=Vt.en?{key:"en",locale:Vt.en}:{key:t,locale:Vt[t]},n=Vt[Kt.normalizeLocaleCode(e.locale||(navigator?navigator.language||navigator.browserLanguage:r.key))];return n?n.code:r.locale.code},normalizeLocaleCode:function(e){var t;if(null==e)t=void 0;else{var r=/^[a-z]+/i.exec(e);t=r&&r.length>0?r[0].toLowerCase():void 0}return t}};var Qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layers,r=e.config;return t&&(0,l.isArray)(t)?t:t&&t.flat||r&&r.layers||[]},Zt=function(e,t){return(0,l.head)(Qt(e).filter((function(e){return e.id===t})))},Xt=((0,w.P1)([Qt,St,function(e){return e.search&&e.search},function(e){return(0,l.get)(e,"mapInfo.centerToMarker","")},function(e){return(0,l.get)(e,"additionallayers",[])},function(e){return e.annotations&&e.annotations.showMarker&&e.annotations.clickPoint}],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,a=o.filter((function(e){return"override"===e.actionType})),u=o.filter((function(e){return"overlay"===e.actionType})).map((function(e){return e.options})),c=e.map((function(e){var t=((0,l.head)(a.filter((function(t){return t.id===e.id})))||{}).options;return t?Ht(Ht({},e),t):Ht({},e)}));if(c=c.concat(u),t){c.push(ft("GetFeatureInfoHighLight",{features:t.features},void 0,{overrideOLStyle:!0,featuresCrs:t.featuresCrs,style:Ht(Ht({},Rt),{color:"#3388ff",weight:4,dashArray:"",fillColor:"#3388ff",fillOpacity:.2})}));var s="enabled"===n?(0,A.getNormalizedLatLon)(t.latlng):t.latlng;c.push(ft("GetFeatureInfo",s))}if(i){var f="enabled"===n?(0,A.getNormalizedLatLon)(i.latlng):i.latlng;c.push(ft("Annotations",f)),c.push(ft("GetFeatureInfo",Ht({},f)))}if(r&&r.markerPosition){var p=(0,l.isObject)(r.style)&&r.style||{};c.push(ft("GeoCoder",r.markerPosition,"marker",{overrideOLStyle:!0,style:Ht(Ht({},Rt),p)},r.markerLabel))}return c})),r(51312),function(e){return e&&e.security&&e.security.user});function Jt(e){return function(e){if(Array.isArray(e))return $t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return $t(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$t(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function er(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?er(Object(r),!0).forEach((function(t){rr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):er(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r(67451);var nr=function(e,t){return function(r){return function(e,t){return function(r){return(0,l.get)(r,"dimension.data[".concat(t,"][").concat(e,"]"))}}(e.id,t)(r)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return(0,l.find)(e.dimensions||[],{name:t})}(e,t)}};(0,w.P1)((function(e){return Qt(e).reduce((function(t,r){var n=nr(r,"time")(e);return n?tr(tr({},t),{},rr({},r.id,n)):t}),{})}),(function(e){return Object.keys(e).reduce((function(t,r){return[].concat(Jt(t),Jt(e[r]&&e[r].values||[]))}),[]).sort()||[]})),r(8274);var or=r(10306);function ir(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return ar(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ar(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ur=function(e,t,r){var n=function(e){var t=e.split("?");return{url:(e=t[0].split("srv")[0])+"srv/api/0.1/records/",params:t=new URLSearchParams(t[1])}}(e),o=n.url+(t||n.params.get("id"))+(r&&r.related?"/related?type="+r.related+"&start=1":"");return new Promise((function(e){e((0,or.get)(o,{headers:{"Content-type":"application/json; charset=utf-8"}}).then((function(e){if(e){var t=e.data;try{return r?r.related&&"children"===r.related?t.children:r.related&&"fcats"===r.related&&t.fcats?t.fcats.map((function(e){return e.id})):null:t}catch(e){return e}}return null})))}))},cr=function(e,t,r){if(e[r[2]+":protocol"]&&e[r[2]+":protocol"][r[3]+":CharacterString"]){if(!e[r[2]+":protocol"][r[3]+":CharacterString"]["#text"].toLowerCase().includes(t.type.toLowerCase()))throw new Error("Protocols are not identics","utils/CSW.js",168);if(e[r[2]+":linkage"]){var n=null;if(e[r[2]+":linkage"][r[3]+":CharacterString"]&&(n=e[r[2]+":linkage"][r[3]+":CharacterString"]["#text"]),e[r[2]+":linkage"][r[2]+":URL"]&&(n=e[r[2]+":linkage"][r[2]+":URL"]),n&&n.toLowerCase().includes(t.url.toLowerCase().split("?")[0])&&e[r[2]+":name"]&&e[r[2]+":name"][r[3]+":CharacterString"])return e[r[2]+":name"][r[3]+":CharacterString"]["#text"];throw new Error("Cannot match the URL server","utils/CSW.js",183)}throw new ReferenceError("Cannot find 'linkage' field","utils/CSW.js",173)}throw new ReferenceError("Cannot find 'protocol' field","utils/CSW.js",166)},lr=function(e,t,r){var n=null;if(!e[r[1]+":MD_DigitalTransferOptions"]||!e[r[1]+":MD_DigitalTransferOptions"][r[1]+":onLine"])throw new ReferenceError("Cannot find 'MD_DigitalTransferOptions' or 'onLine' field","utils/CSW.js",206);var o=e[r[1]+":MD_DigitalTransferOptions"][r[1]+":onLine"];if(Array.isArray(o)){var i,a,u=o.length,c=0,l=ir(o);try{for(l.s();!(a=l.n()).done;){var s=a.value;try{if(n=cr(s[r[2]+":CI_OnlineResource"],t,r))break}catch(e){i=e,c+=1}if(c==u)throw i}}catch(e){l.e(e)}finally{l.f()}}else try{n=cr(o[r[2]+":CI_OnlineResource"],t,r)}catch(e){throw e}return n};const sr=ur,fr=function(e,t){return new Promise((function(r){r(ur(e,t).then((function(e){if(e){var t={};if(e&&e["gfc:featureType"]){var r=e["gfc:featureType"];if(r&&r["gfc:FC_FeatureType"]&&r["gfc:FC_FeatureType"]["gfc:carrierOfCharacteristics"])for(var n=r["gfc:FC_FeatureType"]["gfc:carrierOfCharacteristics"],o=0;o<n.length;o++){var i="FC_FeatureAttribute",a={};if(n[o]["gfc:"+i]){var u=n[o]["gfc:"+i];a={name:u["gfc:memberName"]["gco:LocalName"]["#text"],label:u["gfc:definition"]["gco:CharacterString"]["#text"]},u["gfc:listedValue"]&&Array.isArray(u["gfc:listedValue"])&&(a.values=u["gfc:listedValue"].map((function(e){return e["gfc:FC_ListedValue"]["gfc:code"]["gco:CharacterString"]["#text"]})),a.labels=u["gfc:listedValue"].map((function(e){return e["gfc:FC_ListedValue"]["gfc:label"]["gco:CharacterString"]["#text"]})))}t[i]&&Array.isArray(t[i])?t[i].push(a):t[i]?t[i]=[t[i],a]:t[i]=a}}return{cOC:t}}return null})))}))},pr=function(e){if(!e||!e["@xmlns:gco"])throw new ReferenceError("Cannot find '@xmlns:gco' field","utils/CSW.js",120);var t;if("http://www.isotc211.org/2005/gco"===e["@xmlns:gco"])t=["gmd","gmd","gco"];else{if("http://standards.iso.org/iso/19115/-3/gco/1.0"!==e["@xmlns:gco"])throw new ReferenceError("OGC protocol are not configured in the extension: "+e["@xmlns:gco"],"utils/CSW.js",122);t=["mdb","mri","gco"]}var r=[];return e[t[0]+":identificationInfo"]&&e[t[0]+":identificationInfo"][t[1]+":MD_DataIdentification"]&&e[t[0]+":identificationInfo"][t[1]+":MD_DataIdentification"][t[1]+":descriptiveKeywords"]&&e[t[0]+":identificationInfo"][t[1]+":MD_DataIdentification"][t[1]+":descriptiveKeywords"].forEach((function(e){e[t[1]+":MD_Keywords"]&&e[t[1]+":MD_Keywords"][t[1]+":keyword"]&&(e=e[t[1]+":MD_Keywords"]&&e[t[1]+":MD_Keywords"][t[1]+":keyword"],Array.isArray(e)?e.forEach((function(e){e[t[2]+":CharacterString"]&&r.push(e[t[2]+":CharacterString"]["#text"])})):e[t[2]+":CharacterString"]&&r.push(e[t[2]+":CharacterString"]["#text"]))})),r},dr=function(e,t){if(null==t)throw new Error("Fonction mal appelÃ©e");if(!e||!e["@xmlns:gco"])throw new ReferenceError("Cannot find '@xmlns:gco' field","utils/CSW.js",252);var r;if("http://www.isotc211.org/2005/gco"===e["@xmlns:gco"])r=["gmd","gmd","gmd","gco"];else{if("http://standards.iso.org/iso/19115/-3/gco/1.0"!==e["@xmlns:gco"])throw new ReferenceError("OGC protocol are not configured in the extension: "+e["@xmlns:gco"],"utils/CSW.js",254);r=["mdb","mrd","cit","gco"]}var n=null;if(e[r[0]+":distributionInfo"]&&e[r[0]+":distributionInfo"][r[1]+":MD_Distribution"]&&e[r[0]+":distributionInfo"][r[1]+":MD_Distribution"][r[1]+":transferOptions"]){var o=e[r[0]+":distributionInfo"][r[1]+":MD_Distribution"][r[1]+":transferOptions"];if(Array.isArray(o)){var i,a,u=o.length,c=0,l=ir(o);try{for(l.s();!(a=l.n()).done;){var s=a.value;try{if(n=lr(s,t,r))break}catch(e){i=e,c+=1}if(c==u)throw i}}catch(e){l.e(e)}finally{l.f()}}else try{n=lr(o,t,r)}catch(e){throw e}}return n},gr=function(e){if(!e||!e["@xmlns:gco"])throw new ReferenceError("Cannot find '@xmlns:gco' field","utils/CSW.js",306);var t;if("http://www.isotc211.org/2005/gco"===e["@xmlns:gco"])t=["gmd","gmd","cit","gco"];else{if("http://standards.iso.org/iso/19115/-3/gco/1.0"!==e["@xmlns:gco"])throw new ReferenceError("OGC protocol are not configured in the extension: "+e["@xmlns:gco"],"utils/CSW.js",308);t=["mdb","mri","cit","gco"]}if(e[t[0]+":identificationInfo"]&&e[t[0]+":identificationInfo"][t[1]+":MD_DataIdentification"]&&e[t[0]+":identificationInfo"][t[1]+":MD_DataIdentification"][t[1]+":citation"]){var r=e[t[0]+":identificationInfo"][t[1]+":MD_DataIdentification"][t[1]+":citation"];if(r[t[2]+":CI_Citation"]&&r[t[2]+":CI_Citation"][t[2]+":title"]&&r[t[2]+":CI_Citation"][t[2]+":title"][t[3]+":CharacterString"])return r[t[2]+":CI_Citation"][t[2]+":title"][t[3]+":CharacterString"]["#text"];throw new ReferenceError("Cannot find 'CharacterString' field","utils/CSW.js",323)}throw new ReferenceError("Cannot find 'citation' field","utils/CSW.js",321)},mr=function(e){if(!e||!e["@xmlns:gco"])throw new ReferenceError("Cannot find '@xmlns:gco' field","utils/CSW.js",306);var t;if("http://www.isotc211.org/2005/gco"===e["@xmlns:gco"])t=["gmd","gmd","cit","gco"];else{if("http://standards.iso.org/iso/19115/-3/gco/1.0"!==e["@xmlns:gco"])throw new ReferenceError("OGC protocol are not configured in the extension: "+e["@xmlns:gco"],"utils/CSW.js",308);t=["mdb","mri","cit","gco"]}if(e[t[0]+":identificationInfo"]&&e[t[0]+":identificationInfo"][t[1]+":MD_DataIdentification"]&&e[t[0]+":identificationInfo"][t[1]+":MD_DataIdentification"][t[1]+":abstract"]){var r=e[t[0]+":identificationInfo"][t[1]+":MD_DataIdentification"][t[1]+":abstract"];if(r[t[3]+":CharacterString"])return r[t[3]+":CharacterString"]["#text"];throw new ReferenceError("Cannot find 'CharacterString' field","utils/CSW.js",356)}throw new ReferenceError("Cannot find 'abstract' field","utils/CSW.js",354)};var yr=r(51312),vr=r(93755),br=vr.FEATURE_TYPE_LOADED,Or=vr.resetQuery,hr=r(6149),Er=hr.ADD_LAYER,_r=hr.REMOVE_NODE,Pr=hr.changeLayerProperties,Sr=hr.browseData,wr=r(39583).MAP_CONFIG_LOADED,Ar=r(8274),xr=Ar.typeNameSelector,Lr=Ar.describeSelector,Rr=Ar.resultsSelector,Tr=r(86494),Mr=Tr.find,Ir=Tr.get,Cr=Tr.cloneDeep,jr=function(e){var t=document.querySelector("#geonetworkCFG");if(t){var r=t.getAttribute(e);return["true","false"].indexOf(r.toLowerCase())>-1&&(r=!!JSON.parse(String(r).toLowerCase())),r}return null},Dr=function(e){var t,r=(new DOMParser).parseFromString(e,"text/html").querySelectorAll("script");for(var n in r)if(r[n]&&r[n].innerHTML&&r[n].innerHTML.startsWith("var org = {")){t=r[n].innerHTML;break}var o=t.split("};")[0]+"}",i=o.indexOf("{");return JSON.parse(o.slice(i))};const Nr={loadFeatureAttributeEpic:function(e,t){return e.ofType(br).switchMap((function(e){if(!jr("translateAttributes"))return h.Observable.empty();var r=t.getState(),n=Mr(r.layers.flat,{id:r.layers.selected[0]});if(n.catalogURL||n.extendedParams&&n.extendedParams.annexeCatalogURL){var o=[];return n.extendedParams&&n.extendedParams.annexeCatalogURL&&o.push(n.extendedParams.annexeCatalogURL),n.catalogURL&&o.push(n.catalogURL),h.Observable.defer((function(){return _().all(o.map((function(e){return sr(e,void 0,{related:"fcats"})})))})).switchMap((function(e){if(e){var t=[],n=[];return e.forEach((function(e,r){t=t.concat(e),n=n.concat(Array.from(new Array(e.length),(function(e){return o[r]})))})),h.Observable.defer((function(){return _().all(t.map((function(e,t){return fr(n[t],e)})))})).switchMap((function(e){if(e){var t=[];return e.forEach((function(e,n){if(e.cOC&&e.cOC.FC_FeatureAttribute)for(var o=e.cOC.FC_FeatureAttribute,i=0;i<o.length;i++)if(t.push(S(o[i].name.toLowerCase(),"label",o[i].label)),o[i].values&&jr("multiChoicesEditor")){var a=Ir(r,"featuregrid.customEditorsOptions");a||(a={rules:[]});var u=[];o[i].values.forEach((function(e,t){u.push(e+" ( "+o[i].labels[t]+" )")}));var c=Mr(a.rules.regexp,{attribute:o[i].name.toLowerCase()});c?(c.editorProps.values=o[i].values,c.editorProps.labels=u,c.editorProps.defaultOption=o[i].values[0]):a.rules.push({regex:{attribute:o[i].name.toLowerCase(),typeName:xr(r)},editor:"DropDownEditor",editorProps:{values:o[i].values,labels:u,forceSelection:!0,defaultOption:o[i].values[0],allowEmpty:!1}}),t.push({type:"FEATUREGRID:UPDATE_EDITORS_OPTIONS",payload:a})}})),h.Observable.from(t)}return h.Observable.of(y("No csw catalog attributes found"))})).catch((function(e){return console.log(e),h.Observable.of(v(e.message))}))}return h.Observable.empty()})).catch((function(e){return console.log(e),h.Observable.of(v(e.message))}))}return h.Observable.of(y("No csw feature catalog found"))}))},toggleDisplayColumnOrganismeEpic:function(e,t){return e.ofType("FEATUREGRID:TOGGLE_MODE").switchMap((function(e){if(!jr("organismeFilter"))return h.Observable.empty();var r=t.getState(),n=Rr(r),o=Lr(r),i=Xt(r),a=jr("colOrganisme");return a?h.Observable.defer((function(){return _().get("/console/account/userdetails")})).switchMap((function(t){try{var r=Dr(t.data)}catch(e){return console.log(e),h.Observable.of(v(e))}if(n&&Mr(o.featureTypes[0].properties,{name:a})&&"ADMIN"==i.role&&r){if("EDIT"===e.mode)var u={rawValue:r.shortName,value:r.shortName,operator:"ilike",type:"string",attribute:a};else"VIEW"===e.mode&&(u={rawValue:"",operator:"ilike",type:"string",attribute:a});return h.Observable.of(function(e){return{type:P,update:e,append:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}}(u))}return h.Observable.empty()})).catch((function(e){return console.log(e),h.Observable.of(v(e.message))})):h.Observable.of(y("No column Organisme founded"))}))},editNewFeatureOrganisme:function(e,t){return e.ofType("FEATUREGRID:NEW_FEATURE").switchMap((function(e){if(!jr("organismeFilter"))return h.Observable.empty();var r=t.getState(),n=Xt(r),o=Lr(r),i=Rr(r),a=jr("colOrganisme");return a?h.Observable.defer((function(){return _().get("/console/account/userdetails")})).switchMap((function(e){try{var t=Dr(e.data)}catch(e){return console.log(e),h.Observable.of(v(e))}if(i&&Mr(o.featureTypes[0].properties,{name:a})&&"ADMIN"==n.role&&t){var u={};return u[a]=t.shortName,h.Observable.of(function(e,t){return{type:"FEATUREGRID:FEATURES_MODIFIED",features:e,updated:t}}(r.featuregrid.newFeatures,u))}return h.Observable.empty()})).catch((function(e){return console.log(e),h.Observable.of(v(e.message))})):h.Observable.of(y("No column Organisme founded"))}))},updateMillesimeButtonPosition:function(e,t){return e.ofType("MAP_LAYOUT:UPDATE_MAP_LAYOUT").switchMap((function(e){var t,r=52;return 0!=e.layout.left&&(r=5),jr("verbose")&&(console.group("| GeoNetworkPlugin | updateMillesimeButtonPosition"),console.groupEnd()),h.Observable.of((t={left:r+e.layout.left},{type:p,style:t}))}))},onAddLayerFindMillesime:function(e,t){return e.ofType(Er).switchMap((function(e){if(!jr("millesimeLayers"))return h.Observable.empty();var r=t.getState();return jr("verbose")&&(console.group("| GeoNetworkPlugin | onAddLayerFindMillesime"),console.log("init layer state ->"),console.dir(Cr(e.layer)),console.groupEnd()),Mr(r.layers.flat,{id:e.layer.id}).catalogURL?h.Observable.of(Pr(e.layer.id,{extendedParams:e.layer.extendedParams?yr(e.layer.extendedParams,{millesimeManagement:void 0}):{millesimeManagement:void 0}}),b(e.layer.id)):h.Observable.empty()}))},onGetMillesimesLayers:function(e,t){return e.ofType(d).mergeMap((function(e){var r=t.getState(),n=Zt(r,e.id),o=n.catalogURL;return jr("verbose")&&(console.group("| GeoNetworkPlugin | onGetMillesimesLayers"),console.log("init layer state ->"),console.dir(Cr(n))),o?h.Observable.defer((function(){return sr(o,void 0,{related:"children"})})).switchMap((function(t){var i=n.extendedParams&&n.extendedParams.millesimeManagement;if(t){jr("verbose")&&console.group("Parse Childrens");var a=[],u=[];return t.forEach((function(e){e.id&&e.mdType&&e.mdType.indexOf("dataset")>-1&&(a.push(sr(o,e.id)),u.push(e))})),h.Observable.defer((function(){return _().all(a)})).switchMap((function(t){if(t){var o=[],i=jr("millesimeKeywords").split(",");if(t.forEach((function(e,t){pr(e).forEach((function(r){var a=!0;if(i.indexOf(r)>-1){u[t].record=e;try{name=dr(e,n)}catch(e){-1===[183,168].indexOf(e.lineNumber)&&(a=!1,console.log(e))}a&&o.push(u[t])}}))})),o.length>0){var a={layersList:o,currentMillesime:null,parentMillesime:{id:e.id,name:n.name}};return n.extendedParams&&n.extendedParams.millesimeManagement&&((a=n.extendedParams.millesimeManagement).layersList=o,a.currentMillesime&&!Mr(a.layersList,{id:a.currentMillesime}))?(a.currentMillesime=null,jr("verbose")&&(console.log("Add MillesimeManagement to layer"),console.log("new layer properties ->"),console.dir(Cr(a)),console.groupEnd(),console.groupEnd()),h.Observable.of(Pr(e.id,{extendedParams:yr(n.extendedParams,{millesimeManagement:a}),name:a.parentMillesime.name}))):(jr("verbose")&&(console.log("Add MillesimeManagement to layer"),console.log("new layer properties ->"),console.dir(Cr(a)),console.dir(Cr(n)),console.dir(Cr(Zt(r,e.id))),console.groupEnd(),console.groupEnd()),h.Observable.of(Pr(e.id,{extendedParams:n.extendedParams?yr(n.extendedParams,{millesimeManagement:a}):{millesimeManagement:a}})))}}return jr("verbose")&&(console.groupEnd(),console.groupEnd()),a?h.Observable.of(Pr(e.id,{extendedParams:n.extendedParams?yr(n.extendedParams,{millesimeManagement:void 0}):{millesimeManagement:void 0},name:n.name})):h.Observable.of(y("No childrens"))})).catch((function(e){return console.log(e),jr("verbose")&&(console.groupEnd(),console.groupEnd()),h.Observable.of(v(e.message))}))}return jr("verbose")&&(console.log("Cannot get childrens"),console.groupEnd()),i?h.Observable.of(Pr(e.id,{extendedParams:n.extendedParams?yr(n.extendedParams,{millesimeManagement:void 0}):{millesimeManagement:void 0},name:n.name})):h.Observable.of(y("No childrens"))})).catch((function(e){return console.log(e),jr("verbose")&&console.groupEnd(),e.data&&"Ressource introuvable."===(t=e.data,(r=(new DOMParser).parseFromString(t,"text/html").querySelector(".lead"))?r.innerHTML:null)&&n.extendedParams&&n.extendedParams.millesimeManagement&&n.extendedParams.millesimeManagement.currentMillesime?h.Observable.defer((function(){return sr(o,n.extendedParams.millesimeManagement.currentMillesime)})).switchMap((function(e){try{var t=gr(e),r=mr(e);alert("La couche "+n.title+" est introuvable. Elle sera remplacÃ©e par son millÃ©sime dÃ©jÃ  sÃ©lectionnÃ©.");var o=n.catalogURL.split("?"),i=new URLSearchParams(o[1]);return i.set("id",n.extendedParams.millesimeManagement.currentMillesime),h.Observable.of(Pr(n.id,{description:r,title:t,extendedParams:yr(n.extendedParams,{millesimeManagement:null}),catalogURL:o[0]+"?"+i.toString()}))}catch(e){return console.log(e),h.Observable.empty()}})).catch((function(e){return h.Observable.of(v(e.message))})):h.Observable.of(v(e.message));var t,r})):(jr("verbose")&&console.groupEnd(),h.Observable.empty())}))},onSetMillesimeSelected:function(e,t){return e.ofType(g).switchMap((function(e){var r=t.getState(),n=Zt(r,e.parentMillesime);jr("verbose")&&(console.group("| GeoNetworkPlugin | onSetMillesimeSelected"),console.log("init layer state ->"),console.dir(Cr(n)));var o=n.extendedParams.millesimeManagement,i=n.name,a=[];if(e.currentMillesime){if(Mr(o.layersList,{id:e.currentMillesime})){var u=Mr(o.layersList,{id:e.currentMillesime});try{i=dr(u.record,n),o.currentMillesime=e.currentMillesime}catch(e){alert(e.message)}}}else i=o.parentMillesime.name,o.currentMillesime=e.currentMillesime;jr("verbose")&&(console.log("new layer properties ->"),console.dir(Cr(o)),console.groupEnd()),a.push(Pr(n.id,{extendedParams:n.extendedParams?yr(n.extendedParams,{millesimeManagement:o}):{millesimeManagement:o},name:i}));var c=Ot(r);return c&&0!==vt(r).length&&a.push({type:"CLICK_ON_MAP",point:c,layer:void 0}),function(e){return e&&e.featuregrid&&e.featuregrid.open}(r)&&(a.push(Sr({id:n.id,name:i,url:n.url})),a.push(Or())),h.Observable.from(a)}))},synchronizeMillesimesOnMapLoaded:function(e,t){return e.ofType(wr).switchMap((function(e){var r=t.getState(),n=[];return Qt(r).forEach((function(e){e.catalogURL&&n.push(b(e.id))})),jr("verbose")&&(console.group("| GeoNetworkPlugin | synchronizeMillesimesOnMapLoaded"),console.log("init state ->"),console.dir(Cr(r))),h.Observable.from(n)}))},onRemoveLayerFindParentSelected:function(e,t){return e.ofType(_r).switchMap((function(e){if(!jr("millesimeLayers"))return h.Observable.empty();var r=t.getState(),n=Ir(r,"geonetworkExtension.parentSelected");return"layers"===e.nodeType&&n&&n.id&&n.id===e.node?h.Observable.of(O(null)):h.Observable.empty()}))}};var Fr=r(51312);function Gr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ur(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gr(Object(r),!0).forEach((function(t){kr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Br(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const qr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dropUp,r=e.body,n=e.className,i=void 0===n?"":n,a=e.style,u=void 0===a?{}:a,c=e.onClick,l=void 0===c?function(){}:c,s=e.size,f=e.title,p=e.preview,d=e.description,g=e.caption,m=e.tools,y=e.selected,v=Br(e,["dropUp","body","className","style","onClick","size","title","preview","description","caption","tools","selected"]);return o().createElement("div",{className:"mapstore-side-card".concat(y?" selected":"").concat(s?" ms-"+s:""," ").concat(i),onClick:function(){return l(Ur({title:f,preview:p,description:d,caption:g,tools:m},v))},style:u},r&&t&&o().createElement("div",{className:"ms-body"},r),o().createElement("div",{className:"ms-head"},p&&o().createElement("div",{className:"mapstore-side-preview"},p),o().createElement("div",{className:"mapstore-side-card-info"},o().createElement("div",{className:"mapstore-side-card-title"},o().createElement("span",null,f)),o().createElement("div",{className:"mapstore-side-card-desc"},o().createElement("span",null,d)),g&&o().createElement("div",{className:"mapstore-side-card-caption"},o().createElement("span",null,g))),o().createElement("div",{className:"mapstore-side-card-tool text-center"},m)),r&&!t&&o().createElement("div",{className:"ms-body"},r))};var Wr=r(7066);function Kr(){return(Kr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}const Vr=(Yr=Wr.OverlayTrigger,function(e){return o().createElement(Yr,Kr({},e,{container:document.querySelector("."+(T.ZP.getConfigProp("themePrefix")||"ms2")+" > div")||document.body}))});var Yr;function Hr(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const zr=(0,X.branch)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tooltip,r=e.tooltipId;return t||r}),(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.tooltip,n=t.tooltipId,i=t.tooltipPosition,a=void 0===i?"top":i,u=t.tooltipTrigger,c=t.keyProp,l=t.idDropDown,s=t.args,f=Hr(t,["tooltip","tooltipId","tooltipPosition","tooltipTrigger","keyProp","idDropDown","args"]);return o().createElement(Vr,{trigger:u,id:l,key:c,placement:a,overlay:o().createElement(Wr.Tooltip,{id:"tooltip-"+c},n?o().createElement(Oe,{msgId:n,msgParams:{data:s}}):r)},o().createElement(e,f))}}),(function(e){return function(t){return o().createElement(e,(0,l.omit)(t,["tooltipId","tooltip"]),t.children)}}));function Qr(e){return(Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Jr(e,t){return(Jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $r(e,t){return!t||"object"!==Qr(t)&&"function"!=typeof t?en(e):t}function en(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tn(e){return(tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var nn=r(7066),on=nn.ListGroup,an=nn.ListGroupItem,un=nn.Glyphicon,cn=zr(nn.Button),ln=r(50099).DropdownList;r(42111);var sn=(0,w.P1)((function(e){return(0,l.get)(e,"geonetworkExtension.text")}),(function(e){return(0,l.get)(e,"geonetworkExtension.style")}),(function(e){return(0,l.get)(e,"geonetworkExtension.parentSelected")}),Qt,(function(e,t,r,n){return{text:e,style:t,parentSelected:r,layers:n.filter((function(e){return e.extendedParams&&e.extendedParams.millesimeManagement}))}})),fn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jr(e,t)}(u,e);var t,r,n,i,a=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=tn(n);if(i){var r=tn(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return $r(this,e)});function u(){var e;Zr(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return rn(en(e=a.call.apply(a,[this].concat(r))),"state",{millesimesListToggle:!1}),e}return t=u,(r=[{key:"render",value:function(){var e=this;return o().createElement("div",{className:"ms2"},o().createElement("div",{id:"geonetworkCFG",style:{display:"none"},translateAttributes:this.props.translateAttributes.toString(),multiChoicesEditor:this.props.multiChoicesEditor.toString(),millesimeLayers:this.props.millesimeLayers.toString(),millesimeKeywords:this.props.millesimeKeywords.toString(),colOrganisme:this.props.colOrganisme,verbose:this.props.verbose.toString(),organismeFilter:this.props.organismeFilter.toString()}),this.props.millesimeLayers&&this.props.layers.length>0?o().createElement("div",{className:"mapstore-side-card background-millesime-position",style:this.props.style},o().createElement("div",{className:"ms-header ms-primary container-fluid",style:{width:"100%"}},o().createElement("div",{className:"row bg-primary"},o().createElement("div",{className:"col-xs-2"},o().createElement("div",{className:"square-button bg-primary",style:{display:"flex"}},o().createElement("span",{className:"glyphicon glyphicon-tasks"}))),o().createElement("div",{className:"col-xs-10"},o().createElement("h4",null,o().createElement("span",null,o().createElement(Oe,{msgId:"millesimeManager.title"})))))),o().createElement("div",{className:"dropdown-container"},o().createElement(ln,{placeholder:o().createElement(Oe,{msgId:"millesimeManager.placeholder"}),value:this.props.parentSelected&&this.props.parentSelected.title,onChange:function(t){e.props.onSelectParent(t)},data:this.props.layers,textField:"title",valueField:"id"})),this.props.parentSelected&&o().createElement(qr,{dropUp:!1,style:{transform:"unset",backgroundColor:"#ffffff",margin:0},tools:o().createElement(cn,{className:"square-button-md".concat(this.state.millesimesListToggle?" btn-success":" btn-primary"),onClick:function(){return e.setState({millesimesListToggle:!e.state.millesimesListToggle})},tooltipId:o().createElement(Oe,{msgId:"millesimeManager.millesimeSelection"}),tooltipPosition:"bottom"},o().createElement(un,{glyph:"list"})),description:this.props.parentSelected.extendedParams.millesimeManagement.currentMillesime&&o().createElement("div",{style:{margin:0}},o().createElement("div",{style:{flex:1,margin:0}},(0,l.find)(this.props.parentSelected.extendedParams.millesimeManagement.layersList,{id:this.props.parentSelected.extendedParams.millesimeManagement.currentMillesime}).title.fre),o().createElement("div",{style:{flex:2,margin:0,alignItems:"center"}},o().createElement(un,{glyph:"1-close glyph-btn",tooltipId:o().createElement(Oe,{msgId:"millesimeManager.resetMillesime"}),tooltipPosition:"bottom",onClick:function(){return e.props.onClickMillesime(e.props.parentSelected.id,null)},style:{fontSize:12}}))),caption:this.props.parentSelected.extendedParams.millesimeManagement.currentMillesime?"":o().createElement(Oe,{msgId:"millesimeManager.parentSelected"}),body:o().createElement("div",null,this.state.millesimesListToggle&&o().createElement(on,{style:{margin:0,maxheight:250}},this.props.parentSelected.extendedParams.millesimeManagement.layersList.map((function(t){return o().createElement(an,{active:t.id===e.props.parentSelected.extendedParams.millesimeManagement.currentMillesime},o().createElement("div",{className:"row"},o().createElement("div",{className:"col-xs-10",onClick:function(){return e.props.onClickMillesime(e.props.parentSelected.id,t.id)}},o().createElement("strong",null,t.title.fre))))})))),size:"sm",className:"ms-date-filter"})):null)}}])&&Xr(t.prototype,r),u}(o().Component);rn(fn,"propTypes",{text:c().string,colOrganisme:c().string,organismeFilter:c().object,millesimeLayers:c().bool,verbose:c().bool,translateAttributes:c().bool,multiChoicesEditor:c().bool,millesimeKeywords:c().array,onLoad:c().func,style:c().object,layers:c().array,onClickMillesime:c().func,parentSelected:c().object}),rn(fn,"defaultProps",{colOrganisme:"organisme",organismeFilter:!0,millesimeLayers:!0,verbose:!1,translateAttributes:!0,multiChoicesEditor:!0,style:{},layers:[],millesimeKeywords:["millésime","millésimes","millesime","millesimes","mill�simes","mill�sime"]});const pn={name:a.name,component:(0,i.connect)(sn,{onLoad:function(){return{type:"GEONETWORK:LOAD_DATA"}},onClickMillesime:function(e,t){return{type:g,parentMillesime:e,currentMillesime:t}},onSelectParent:O})(fn),reducers:{geonetworkExtension:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return Fr({},e,{text:t.payload});case f:return Fr({},e,{error:t.error});case p:return Fr({},e,{style:t.style});case m:return Fr({},e,{parentSelected:t.parentSelected});default:return e}}},epics:Nr}},42111:()=>{},67522:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAGmklEQVRYw7VXeUyTZxjvNnfELFuyIzOabermMZEeQC/OclkO49CpOHXOLJl/CAURuYbQi3KLgEhbrhZ1aDwmaoGqKII6odATmH/scDFbdC7LvFqOCc+e95s2VG50X/LLm/f4/Z7neY/ne18aANCmAr5E/xZf1uDOkTcGcWR6hl9247tT5U7Y6SNvWsKT63P58qbfeLJG8M5qcgTknrvvrdDbsT7Ml+tv82X6vVxJE33aRmgSyYtcWVMqX97Yv2JvW39UhRE2HuyBL+t+gK1116ly06EeWFNlAmHxlQE0OMiV6mQCScusKRlhS3QLeVJdl1+23h5dY4FNB3thrbYboqptEFlphTC1hSpJnbRvxP4NWgsE5Jyz86QNNi/5qSUTGuFk1gu54tN9wuK2wc3o+Wc13RCmsoBwEqzGcZsxsvCSy/9wJKf7UWf1mEY8JWfewc67UUoDbDjQC+FqK4QqLVMGGR9d2wurKzqBk3nqIT/9zLxRRjgZ9bqQgub+DdoeCC03Q8j+0QhFhBHR/eP3U/zCln7Uu+hihJ1+bBNffLIvmkyP0gpBZWYXhKussK6mBz5HT6M1Nqpcp+mBCPXosYQfrekGvrjewd59/GvKCE7TbK/04/ZV5QZYVWmDwH1mF3xa2Q3ra3DBC5vBT1oP7PTj4C0+CcL8c7C2CtejqhuCnuIQHaKHzvcRfZpnylFfXsYJx3pNLwhKzRAwAhEqG0SpusBHfAKkxw3w4627MPhoCH798z7s0ZnBJ/MEJbZSbXPhER2ih7p2ok/zSj2cEJDd4CAe+5WYnBCgR2uruyEw6zRoW6/DWJ/OeAP8pd/BGtzOZKpG8oke0SX6GMmRk6GFlyAc59K32OTEinILRJRchah8HQwND8N435Z9Z0FY1EqtxUg+0SO6RJ/mmXz4VuS+DpxXC3gXmZwIL7dBSH4zKE50wESf8qwVgrP1EIlTO5JP9Igu0aexdh28F1lmAEGJGfh7jE6ElyM5Rw/FDcYJjWhbeiBYoYNIpc2FT/SILivp0F1ipDWk4BIEo2VuodEJUifhbiltnNBIXPUFCMpthtAyqws/BPlEF/VbaIxErdxPphsU7rcCp8DohC+GvBIPJS/tW2jtvTmmAeuNO8BNOYQeG8G/2OzCJ3q+soYB5i6NhMaKr17FSal7GIHheuV3uSCY8qYVuEm1cOzqdWr7ku/R0BDoTT+DT+ohCM6/CCvKLKO4RI+dXPeAuaMqksaKrZ7L3FE5FIFbkIceeOZ2OcHO6wIhTkNo0ffgjRGxEqogXHYUPHfWAC/lADpwGcLRY3aeK4/oRGCKYcZXPVoeX/kelVYY8dUGf8V5EBRbgJXT5QIPhP9ePJi428JKOiEYhYXFBqou2Guh+p/mEB1/RfMw6rY7cxcjTrneI1FrDyuzUSRm9miwEJx8E/gUmqlyvHGkneiwErR21F3tNOK5Tf0yXaT+O7DgCvALTUBXdM4YhC/IawPU+2PduqMvuaR6eoxSwUk75ggqsYJ7VicsnwGIkZBSXKOUww73WGXyqP+J2/b9c+gi1YAg/xpwck3gJuucNrh5JvDPvQr0WFXf0piyt8f8/WI0hV4pRxxkQZdJDfDJNOAmM0Ag8jyT6hz0WGXWuP94Yh2jcfjmXAGvHCMslRimDHYuHuDsy2QtHuIavznhbYURq5R57KpzBBRZKPJi8eQg48h4j8SDdowifdIrEVdU+gbO6QNvRRt4ZBthUaZhUnjlYObNagV3keoeru3rU7rcuceqU1mJBxy+BWZYlNEBH+0eH4vRiB+OYybU2hnblYlTvkHinM4m54YnxSyaZYSF6R3jwgP7udKLGIX6r/lbNa9N6y5MFynjWDtrHd75ZvTYAPO/6RgF0k76mQla3FGq7dO+cH8sKn0Vo7nDllwAhqwLPkxrHwWmHJOo+AKJ4rab5OgrM7rVu8eWb2Pu0Dh4eDgXoOfvp7Y7QeqknRmvcTBEyq9m/HQQSCSz6LHq3z0yzsNySRfMS253wl2KyRDbcZPcfJKjZmSEOjcxyi+Y8dUOtsIEH6R2wNykdqrkYJ0RV92H0W58pkfQk7cKevsLK10Py8SdMGfXNXATY+pPbyJR/ET6n9nIfztNtZYRV9XniQu9IA2vOVgy4ir7GCLVmmd+zjkH0eAF9Po6K61pmCXHxU5rHMYd1ftc3owjwRSVRzLjKvqZEty6cRUD7jGqiOdu5HG6MdHjNcNYGqfDm5YRzLBBCCDl/2bk8a8gdbqcfwECu62Fg/HrggAAAABJRU5ErkJggg=="},24272:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QwKDiknI+uvvgAABttJREFUWMOll2uMVVcVx/9773PuPY/7mBcUZ4q1JmbiF6nQwtSY2pSYtobCB2yMrxhrHGOrfioEjQYlMWikH7TxUWNbjTFWU6gComm1UEgMAi20kFCrIMPMFIZ53Xvn3vPYZ++1/HBh6GVmmDu6k/+Xk/1fv7Mfa61zBDOjnfHihzZ1Gcg+YcUyCZrkvPf2A4efG2/HK24G+cuHN/cLS59nIT7DzH1Syli5jrGZUUTkKyGuAPa3RPTsA0f3vbEkyHfEBrlunbMVUn47LBYRhkE+7/uQORdCCDAzyAA6mkEURbpWqQpm/l4Q0I57X95rFoUcWLvxvazk71039/5b+noDVymQzsCZAWcZ2BKEkhCuC+E6kDkXmbUYv3QpylJ9zhj58EPHd/9zQcgf1228Xwnxh3Jnp+rq6XE5TmAb8aJ7rnwPIvQxPTlppicnLQGf3PSPvS/Mgey/c1OPVfzv3t7ecuj7MJUZsLVodwil4JQKiHSKS6OjDaFs/4a//2kUAOS1SVbxLwulkhd4HvTENMgYMPMcQcp5n5Mx0FMV+Pk8iuWyY6369bXYEgCeX7vh06zk+lu6O/O2WgeIWiQdB25nAbmeLsiOInI9XXA7y5A5d85cW62jp6s7L5Qa2LP2oS8CgNi3ZmOQCjP+7t6+wIOEnWm0bINT8kGej/FqBY1GAyZJoVwHQamE5YUSlCWYWgUgef2MiiESEIYuvZ14pLqdBOlq5eRF6Oehr0wAdP0iqDBAKhSGRoax8v6P4M5PbULxtlvRGB3Dud0HcG7Pn7Gyuwee77W8nJ2pIlzeA6UUJZSuVpv7+jcHfmF9yVGujTIAAoCAUA5URwEj01Po/8InsOprj8Dr6oCQEvmOElbcvQb+imV462+H0VXsAGcWbLnpZwHpKjQMmyTL3pSC+Z4w7/qkM4CuS7gOalECUS6g/7Ob571R7/nYfQhvX4npRh0yl2vxk84Q5l1fMN8jCRjwXQVOdXOrrko6AnGaYtldqyCEWPDqrhhYjcSkEIpb/Jxq+K4CAQOOIRs0SwWBmWbNzAzLBKdQWDQRzdVMaPUThBAgIl8COBUlCYRSrW+SZcgrB2Ovvn5TyNjJM8iznbMTQilESQICn5RE4nAjzTKhVIuZkhTlvIvKW+cxfOTYvIDx02dx+ehr6PQDkM7mVIAo0dqyfEUaaY5X01gLpcDWzoqSFCJO0Vcs4OCWHXjz+f0g0yywRITzL76Cl778dbyrWIbKLGwjavELpVBNG9rAHBdPf/DeXmZ3eE3frZKmKuDsHZVaSridZTTY4kK9jjiOUVqxHPUr41Cui9uLJZScHMzEOJivJ6NwHciuDrw6Omxh0CeYGc/c8dFjt5XLd/VIF7Y607JsFhaqWG4mJlskWiPv5uBJBYpmYGp1CG7dalUuYoIyHqpWjz1y6qUBBwA0xK6Rev3Z5cuXBaZmm3VolgLY6jSoVoHMuSg4Dqheh87M7DwGtaxeeg5Gx6ZiDfH92QIpnfgFbYyu6QzSC5t16AaxFeDYwM4k4NgABvPOk16ISqKRWlvvfrBz7yxk8MSRjMA/uVyvxcp3wJy1XMe2BUCFPkYb9dgyPfHwzt/Z1n5i7ZMTSaoispCBD+ZsyZKBi7qOUE0TYTN6uqWfAMCjZw5dBvDk0EwUK99rNqgbesVNBUAGPi7W6zGAJx47e2hyDgQAjLY7KzpB3WRQoT9vB1xIMvAxk2nMZJaEq3/wzrgtkMfOHppkIXZdjKJYhcHV1G9vFSr0MdRoRATeOXjiSHVBCAAYL7erZqyt6RQqDCAYi8ophKjpFI3MGGvtD2+MOQfylaMHaoL5u0NxGsvAB4FBRAuKBSB8DxeiKCLJOx49c6i+KAQAkMt+FFubVrMUTiGEYF5QquihohPElhK/OvHj+cLNCxk8cSQi8PahNItl4Deb1jxnIYSA9EIMpVnMQnzrc/85nbQNAQAd0VOptfUpnUAW8vPeKFEMMaUTpNbUum3wi4ViLQj56r8Oppbpm8OZjYUfAlK2ZreUkF4ew1kWk5Tf+PiZfXrJEAAY637fM5poekqnUGEOID0rp5DHlE6RWprofrD7VzeLc1PI9oNPGSuw7SJx82xU8xNVKAkEHoZslhCw7VqN+p8gADD2uvebzJrL45mBLIQAEVSxgCvawBBGx04Hzy0WY1HIdt5PLMTWEUKCwIfwPbDvYYQ4gZRbt/N++r8hAPCluw/uNmQvjFtit7OMK8YyEZ0fPPXXPe3424LgZ8RWyceHGVoTYQQiA7Cl7X+Xdv9+AeDnH7jvtbzAHSnj5OAbL69p1yexhMFCPJ5ACBZiC5ZkXELPYGb8dNX6bUv1/Bd7pfPVmVDtrAAAAABJRU5ErkJggg=="},68592:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC"},45968:()=>{}}]);